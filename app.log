2025-09-04 15:21:20,206 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-04 15:21:20,207 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-04 15:21:23,422 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-04 15:21:23,470 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-04 15:21:29,599 - app.core.logging - INFO - Received chat request: Show me flights from Delhi to Mumbai on 15th Octob...
2025-09-04 15:21:29,600 - app.core.logging - INFO - No existing flight data in session, fetching new data
2025-09-04 15:21:29,601 - app.core.logging - INFO - Processing flight search query: Show me flights from Delhi to Mumbai on 15th October
2025-09-04 15:21:29,601 - app.core.logging - INFO - Calling OpenAI with model: gpt-4o-mini
2025-09-04 15:21:29,601 - app.core.logging - INFO - System message: You are an assistant that helps extract flight information from user queries. Today is 2025-09-04. Extract the following details from the query: 1. location_origin: The departure city or airport, ensu...
2025-09-04 15:21:29,601 - app.core.logging - INFO - User message: Show me flights from Delhi to Mumbai on 15th October
2025-09-04 15:21:30,896 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-04 15:21:30,909 - app.core.logging - INFO - OpenAI response: {"location_origin": "DEL", "location_destination": "BOM", "departure_date": "2025-10-15", "adults": 1}
2025-09-04 15:21:30,909 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'DEL', 'location_destination': 'BOM', 'departure_date': '2025-10-15', 'adults': 1}
2025-09-04 15:21:34,167 - app.core.logging - ERROR - Flight search error: [---]
2025-09-04 15:21:34,168 - app.core.logging - ERROR - No flights found or error in forming dataframe
2025-09-04 15:22:00,416 - app.core.logging - INFO - Received chat request: I want to fly from San Francisco to New York on Oc...
2025-09-04 15:22:00,417 - app.core.logging - INFO - No existing flight data in session, fetching new data
2025-09-04 15:22:00,417 - app.core.logging - INFO - Processing flight search query: I want to fly from San Francisco to New York on October 20
2025-09-04 15:22:00,417 - app.core.logging - INFO - Calling OpenAI with model: gpt-4o-mini
2025-09-04 15:22:00,417 - app.core.logging - INFO - System message: You are an assistant that helps extract flight information from user queries. Today is 2025-09-04. Extract the following details from the query: 1. location_origin: The departure city or airport, ensu...
2025-09-04 15:22:00,417 - app.core.logging - INFO - User message: I want to fly from San Francisco to New York on October 20
2025-09-04 15:22:01,921 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-04 15:22:01,939 - app.core.logging - INFO - OpenAI response: {"location_origin": "SFO", "location_destination": "JFK", "departure_date": "2025-10-20", "adults": 1}
2025-09-04 15:22:01,939 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'SFO', 'location_destination': 'JFK', 'departure_date': '2025-10-20', 'adults': 1}
2025-09-04 15:22:20,479 - app.core.logging - INFO - Created dataframe with 16 flights
2025-09-04 15:22:20,479 - app.core.logging - INFO - Sending query to LLM: System Prompt: 
        You are a professional flight booking assistant specializing in helping users find and analyze flight information. You have access to real-time flight data and can provide detailed analysis and recommendations.

        CURRENT CONTEXT:
        - Flight data from SFO to JFK
        - Real-time pricing and availability information
        - All prices are shown in Indian Rupees (INR)

        CAPABILITIES:
        - Analyze flight data including prices, airlines, stops, cabin classes
        - Provide comparative analysis and recommendations
        - Identify best deals and optimal flight options
        - Handle follow-up questions about the same flight search

        RESPONSE GUIDELINES:
        - DO NOT create a numbered list of flights with departure/arrival times and prices
        - Analyze the ACTUAL flight data available and provide specific insights
        - Mention specific prices in INR (‚Çπ), airlines, and key differences you find in the data
        - Highlight the cheapest options, direct flights, and best value choices
        - Provide actionable recommendations based on the real flight options
        - Keep it concise but informative
        - Flight cards will show the detailed flight information, but your text should reference the actual data

        ANALYSIS FOCUS:
        - Identify the cheapest flights available and their prices
        - Point out direct flights vs flights with stops
        - Highlight time differences and convenience factors
        - Mention specific airlines operating this route
        - Compare value propositions of different options

        IMPORTANT: Base your response on the ACTUAL flight data in the dataframe. Don't give generic advice - analyze the real flights available for this specific route and date.

        Provide specific insights about the available flight options to help users choose the best flight for their needs.
        
Query: I want to fly from San Francisco to New York on October 20
2025-09-04 15:22:21,645 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-04 15:22:24,274 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-04 15:22:26,600 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-04 15:22:27,549 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-04 15:22:33,854 - app.core.logging - INFO - LLM Response: On October 20, 2025, there are several flight options available from San Francisco (SFO) to New York (JFK), primarily operated by Alaska Airlines and JetBlue Airways. Here's a concise analysis of your options:

1. **Airlines**:
   - **Alaska Airlines (AS)**: Several flight options available, most of which are non-stop.
   - **JetBlue Airways (B6)**: Multiple options with varying departure times, typically with one or no stops.

2. **Pricing**:
   - Prices range from **‚Çπ9,263.58** on Alaska Airlines for direct flights to around **‚Çπ12,351.40** for JetBlue Airways flights, which may include stops.

3. **Stops**: 
   - **Alaska Airlines** offers direct flights which could provide a more convenient travel experience without layovers.
   - **JetBlue Airways** has options with varying stops, potentially increasing total travel time.

4. **Cabin Class**: 
   - All flights listed are in **Economy Class**, which is great for budget travelers.

5. **Time Factors**:
   - Direct flights save time and hassle, making Alaska Airlines a favorable option if you prefer a quick journey.

### Recommendations:
- If you prioritize cost and time, consider the direct flights with **Alaska Airlines** at approximately **‚Çπ9,263.58**, which appears to be the cheapest and most convenient option available on this date.
- For travelers open to layovers, **JetBlue Airways** offers more variety in flight times, but you would need to weigh the additional time against the price.

In summary, Alaska Airlines presents the best value for direct travel, while JetBlue may offer flexibility depending on your schedule.
2025-09-04 15:22:33,857 - app.core.logging - INFO - Flight data prepared: True
2025-09-04 15:22:33,858 - app.core.logging - INFO - Flight data length: 16
2025-09-04 15:22:33,858 - app.core.logging - INFO - First flight record: {'Airline Code': 'AS', 'Airline Name': 'ALASKA AIRLINES', 'Departure': Timestamp('2025-10-20 23:00:00'), 'Arrival': Timestamp('2025-10-21 07:34:00'), 'Total Price': '9263.58', 'Currency': 'INR', 'Number of Stops': 0, 'Cabin': 'ECONOMY', 'One Way': True}
2025-09-04 15:22:33,858 - app.core.logging - INFO - Returning result with show_flight_cards: True
2025-09-04 15:23:10,335 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-04 15:23:10,372 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-04 15:23:10,413 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-04 15:23:10,451 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-04 15:23:10,463 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-04 15:23:10,501 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-04 15:23:10,542 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-04 15:23:10,583 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-04 15:23:20,685 - app.core.logging - INFO - Received chat request: i want flight for delhi to mumbai on 10 oct...
2025-09-04 15:23:20,685 - app.core.logging - INFO - No existing flight data in session, fetching new data
2025-09-04 15:23:20,685 - app.core.logging - INFO - Processing flight search query: i want flight for delhi to mumbai on 10 oct
2025-09-04 15:23:20,685 - app.core.logging - INFO - Calling OpenAI with model: gpt-4o-mini
2025-09-04 15:23:20,685 - app.core.logging - INFO - System message: You are an assistant that helps extract flight information from user queries. Today is 2025-09-04. Extract the following details from the query: 1. location_origin: The departure city or airport, ensu...
2025-09-04 15:23:20,685 - app.core.logging - INFO - User message: i want flight for delhi to mumbai on 10 oct
2025-09-04 15:23:22,328 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-04 15:23:22,349 - app.core.logging - INFO - OpenAI response: {"location_origin": "DEL", "location_destination": "BOM", "departure_date": "2025-10-10", "adults": 1}
2025-09-04 15:23:22,350 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'DEL', 'location_destination': 'BOM', 'departure_date': '2025-10-10', 'adults': 1}
2025-09-04 15:23:54,717 - app.core.logging - INFO - Created dataframe with 11 flights
2025-09-04 15:23:54,718 - app.core.logging - INFO - Sending query to LLM: System Prompt: 
        You are a professional flight booking assistant specializing in helping users find and analyze flight information. You have access to real-time flight data and can provide detailed analysis and recommendations.

        CURRENT CONTEXT:
        - Flight data from DEL to BOM
        - Real-time pricing and availability information
        - All prices are shown in Indian Rupees (INR)

        CAPABILITIES:
        - Analyze flight data including prices, airlines, stops, cabin classes
        - Provide comparative analysis and recommendations
        - Identify best deals and optimal flight options
        - Handle follow-up questions about the same flight search

        RESPONSE GUIDELINES:
        - DO NOT create a numbered list of flights with departure/arrival times and prices
        - Analyze the ACTUAL flight data available and provide specific insights
        - Mention specific prices in INR (‚Çπ), airlines, and key differences you find in the data
        - Highlight the cheapest options, direct flights, and best value choices
        - Provide actionable recommendations based on the real flight options
        - Keep it concise but informative
        - Flight cards will show the detailed flight information, but your text should reference the actual data

        ANALYSIS FOCUS:
        - Identify the cheapest flights available and their prices
        - Point out direct flights vs flights with stops
        - Highlight time differences and convenience factors
        - Mention specific airlines operating this route
        - Compare value propositions of different options

        IMPORTANT: Base your response on the ACTUAL flight data in the dataframe. Don't give generic advice - analyze the real flights available for this specific route and date.

        Provide specific insights about the available flight options to help users choose the best flight for their needs.
        
Query: i want flight for delhi to mumbai on 10 oct
2025-09-04 15:23:55,618 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-04 15:23:57,141 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-04 15:24:03,295 - app.core.logging - INFO - LLM Response: For flights from Delhi (DEL) to Mumbai (BOM) on October 10, 2025, there are several options available, primarily operated by Air India. Here's a concise analysis based on actual flight data:

1. **Cheapest Option**: The most affordable flight costs ‚Çπ5,239.05 and is a **direct flight** departing at 21:10 and arriving at 23:35. This flight has **0 stops**, making it a convenient choice for travelers looking for efficiency.

2. **Direct Flights**: Several direct flights are offered on this date, providing flexibility in departure times. The earliest direct flight departs at **07:00** and arrives at **09:15**, priced at ‚Çπ6,854.47. Other direct options are available throughout the day with similar pricing and convenient arrival times.

3. **Flight with Stops**: There are a couple of flights that include **1 stop**, departing at 11:00 and 18:00. Both cost ‚Çπ5,587.47, but they involve longer travel times due to the stopover.

4. **Value Proposition**: If convenience is a priority, opting for the direct flights at ‚Çπ6,854.47 offers a good balance between time and cost. However, if the cheapest fare is what you're after, the direct flight at ‚Çπ5,239.05 represents excellent value.

Overall, if you're looking for a straightforward and cost-effective option, the flight departing at 21:10 is the best pick. If you prefer to travel earlier, the 07:00 direct flight is also a commendable choice, albeit at a higher fare.
2025-09-04 15:24:03,298 - app.core.logging - INFO - Flight data prepared: True
2025-09-04 15:24:03,298 - app.core.logging - INFO - Flight data length: 11
2025-09-04 15:24:03,298 - app.core.logging - INFO - First flight record: {'Airline Code': 'AI', 'Airline Name': 'AIR INDIA', 'Departure': '2025-10-10T21:10:00', 'Arrival': '2025-10-10T23:35:00', 'Total Price': '5239.05', 'Currency': 'INR', 'Number of Stops': 0, 'Cabin': 'ECONOMY', 'One Way': True}
2025-09-04 15:24:03,298 - app.core.logging - INFO - Returning result with show_flight_cards: True
2025-09-04 15:27:29,705 - app.core.logging - INFO - Received chat request: Find me flights from Delhi to Mumbai on October 15...
2025-09-04 15:27:29,705 - app.core.logging - INFO - No existing flight data in session, fetching new data
2025-09-04 15:27:29,705 - app.core.logging - INFO - Processing flight search query: Find me flights from Delhi to Mumbai on October 15th
2025-09-04 15:27:29,705 - app.core.logging - INFO - Calling OpenAI with model: gpt-4o-mini
2025-09-04 15:27:29,705 - app.core.logging - INFO - System message: You are an assistant that helps extract flight information from user queries. Today is 2025-09-04. Extract the following details from the query: 1. location_origin: The departure city or airport, ensu...
2025-09-04 15:27:29,705 - app.core.logging - INFO - User message: Find me flights from Delhi to Mumbai on October 15th
2025-09-04 15:27:31,257 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-04 15:27:31,267 - app.core.logging - INFO - OpenAI response: {"location_origin": "DEL", "location_destination": "BOM", "departure_date": "2025-10-15", "adults": 1}
2025-09-04 15:27:31,267 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'DEL', 'location_destination': 'BOM', 'departure_date': '2025-10-15', 'adults': 1}
2025-09-04 15:27:43,668 - app.core.logging - INFO - Created dataframe with 10 flights
2025-09-04 15:27:43,668 - app.core.logging - INFO - Sending query to LLM: System Prompt: 
        You are a professional flight booking assistant specializing in helping users find and analyze flight information. You have access to real-time flight data and can provide detailed analysis and recommendations.

        CURRENT CONTEXT:
        - Flight data from DEL to BOM
        - Real-time pricing and availability information
        - All prices are shown in Indian Rupees (INR)

        CAPABILITIES:
        - Analyze flight data including prices, airlines, stops, cabin classes
        - Provide comparative analysis and recommendations
        - Identify best deals and optimal flight options
        - Handle follow-up questions about the same flight search

        RESPONSE GUIDELINES:
        - DO NOT create a numbered list of flights with departure/arrival times and prices
        - Analyze the ACTUAL flight data available and provide specific insights
        - Mention specific prices in INR (‚Çπ), airlines, and key differences you find in the data
        - Highlight the cheapest options, direct flights, and best value choices
        - Provide actionable recommendations based on the real flight options
        - Keep it concise but informative
        - Flight cards will show the detailed flight information, but your text should reference the actual data

        ANALYSIS FOCUS:
        - Identify the cheapest flights available and their prices
        - Point out direct flights vs flights with stops
        - Highlight time differences and convenience factors
        - Mention specific airlines operating this route
        - Compare value propositions of different options

        IMPORTANT: Base your response on the ACTUAL flight data in the dataframe. Don't give generic advice - analyze the real flights available for this specific route and date.

        Provide specific insights about the available flight options to help users choose the best flight for their needs.
        
Query: Find me flights from Delhi to Mumbai on October 15th
2025-09-04 15:27:44,638 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-04 15:27:45,560 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-04 15:27:51,943 - app.core.logging - INFO - LLM Response: On October 15th, several flight options are available from Delhi (DEL) to Mumbai (BOM) operated by Air India. Here‚Äôs a concise analysis of the current data:

### Cheapest Option:
- **Flight**: Departing at 21:10 and arriving at 23:35
- **Price**: **‚Çπ5619.15**
- **Stops**: Direct flight (0 stops)

### Other Options:
- Various flights are available for a price of **‚Çπ7519.65**. Here are some notable details:
  - **Departures**: 
    - **06:05** ‚Üí **08:30**
    - **12:15** ‚Üí **14:35**
    - **12:35** ‚Üí **14:50**
    - **16:50** ‚Üí **19:05**
    - **11:40** ‚Üí **14:05**

### Insights:
- All flights listed have **no stops**, making them convenient choices for direct travel.
- The cheapest flight (‚Çπ5619.15) offers a good value for a nighttime departure.
- The higher-priced flights (‚Çπ7519.65) provide a range of departure times across the day, suitable for different schedules.

### Recommendation:
For the best value, consider booking the flight departing at **21:10** for **‚Çπ5619.15**. If an earlier departure is preferable, look at flights around **06:05** or **12:15**, both priced at ‚Çπ7519.65. All flights ensure a comfortable direct travel experience with Air India.
2025-09-04 15:27:51,945 - app.core.logging - INFO - Flight data prepared: True
2025-09-04 15:27:51,945 - app.core.logging - INFO - Flight data length: 10
2025-09-04 15:27:51,946 - app.core.logging - INFO - First flight record: {'Airline Code': 'AI', 'Airline Name': 'AIR INDIA', 'Departure': '2025-10-15T21:10:00', 'Arrival': '2025-10-15T23:35:00', 'Total Price': '5619.15', 'Currency': 'INR', 'Number of Stops': 0, 'Cabin': 'ECONOMY', 'One Way': True}
2025-09-04 15:27:51,946 - app.core.logging - INFO - Returning result with show_flight_cards: True
2025-09-04 15:27:58,895 - app.core.logging - INFO - Received chat request: I want to fly from San Francisco to New York on Oc...
2025-09-04 15:27:58,895 - app.core.logging - INFO - No existing flight data in session, fetching new data
2025-09-04 15:27:58,895 - app.core.logging - INFO - Processing flight search query: I want to fly from San Francisco to New York on October 20
2025-09-04 15:27:58,895 - app.core.logging - INFO - Calling OpenAI with model: gpt-4o-mini
2025-09-04 15:27:58,895 - app.core.logging - INFO - System message: You are an assistant that helps extract flight information from user queries. Today is 2025-09-04. Extract the following details from the query: 1. location_origin: The departure city or airport, ensu...
2025-09-04 15:27:58,895 - app.core.logging - INFO - User message: I want to fly from San Francisco to New York on October 20
2025-09-04 15:28:00,553 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-04 15:28:00,571 - app.core.logging - INFO - OpenAI response: {"location_origin": "SFO", "location_destination": "JFK", "departure_date": "2025-10-20", "adults": 1}
2025-09-04 15:28:00,572 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'SFO', 'location_destination': 'JFK', 'departure_date': '2025-10-20', 'adults': 1}
2025-09-04 15:28:15,350 - app.core.logging - INFO - Created dataframe with 16 flights
2025-09-04 15:28:15,350 - app.core.logging - INFO - Sending query to LLM: System Prompt: 
        You are a professional flight booking assistant specializing in helping users find and analyze flight information. You have access to real-time flight data and can provide detailed analysis and recommendations.

        CURRENT CONTEXT:
        - Flight data from SFO to JFK
        - Real-time pricing and availability information
        - All prices are shown in Indian Rupees (INR)

        CAPABILITIES:
        - Analyze flight data including prices, airlines, stops, cabin classes
        - Provide comparative analysis and recommendations
        - Identify best deals and optimal flight options
        - Handle follow-up questions about the same flight search

        RESPONSE GUIDELINES:
        - DO NOT create a numbered list of flights with departure/arrival times and prices
        - Analyze the ACTUAL flight data available and provide specific insights
        - Mention specific prices in INR (‚Çπ), airlines, and key differences you find in the data
        - Highlight the cheapest options, direct flights, and best value choices
        - Provide actionable recommendations based on the real flight options
        - Keep it concise but informative
        - Flight cards will show the detailed flight information, but your text should reference the actual data

        ANALYSIS FOCUS:
        - Identify the cheapest flights available and their prices
        - Point out direct flights vs flights with stops
        - Highlight time differences and convenience factors
        - Mention specific airlines operating this route
        - Compare value propositions of different options

        IMPORTANT: Base your response on the ACTUAL flight data in the dataframe. Don't give generic advice - analyze the real flights available for this specific route and date.

        Provide specific insights about the available flight options to help users choose the best flight for their needs.
        
Query: I want to fly from San Francisco to New York on October 20
2025-09-04 15:28:16,137 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-04 15:28:17,171 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-04 15:28:22,454 - app.core.logging - INFO - LLM Response: For your flight from San Francisco to New York on October 20, 2025, here are the available options based on the real-time data:

1. **Cheapest Direct Flight**: 
   - **Airline**: Alaska Airlines
   - **Departure**: 2025-10-20 at 23:00
   - **Arrival**: 2025-10-21 at 07:34
   - **Price**: ‚Çπ9,263.58
   - **Number of Stops**: Direct (0 stops)

2. **Cheapest One-Stop Flight**:
   - **Airline**: JetBlue Airways
   - **Departure**: 2025-10-20 at 20:47
   - **Arrival**: 2025-10-21 at 05:25
   - **Price**: ‚Çπ12,351.44
   - **Number of Stops**: 1 stop

3. **Other Notable Options**:
   - **More JetBlue Flights**: You can consider multiple JetBlue flights priced at around ‚Çπ12,351.44, with varying departure times.
   - **Alaska Airlines Options**: There are several more flights from Alaska Airlines, including one-stop options that range from ‚Çπ14,588.60 to ‚Çπ18,429.42, all of which involve a layover.

### Analysis:
- **Direct Flights**: The best option if you want minimal travel time is the direct flight with Alaska Airlines. It not only offers a good price but also a relatively convenient schedule.
- **Stops**: Most of the JetBlue flights include one stop, which could add travel time, although they offer competitive pricing.
- **Value Proposition**: If time is of the essence, opting for the direct flight for ‚Çπ9,263.58 is the best deal. However, if you're flexible, investigating one-stop options with JetBlue could offer more varied departure times.

This information should help you make an informed choice regarding your flight plans. If you have any further questions or need assistance with bookings, feel free to ask!
2025-09-04 15:28:22,456 - app.core.logging - INFO - Flight data prepared: True
2025-09-04 15:28:22,456 - app.core.logging - INFO - Flight data length: 16
2025-09-04 15:28:22,456 - app.core.logging - INFO - First flight record: {'Airline Code': 'AS', 'Airline Name': 'ALASKA AIRLINES', 'Departure': '2025-10-20T23:00:00', 'Arrival': '2025-10-21T07:34:00', 'Total Price': '9263.58', 'Currency': 'INR', 'Number of Stops': 0, 'Cabin': 'ECONOMY', 'One Way': True}
2025-09-04 15:28:22,456 - app.core.logging - INFO - Returning result with show_flight_cards: True
2025-09-04 15:30:13,776 - app.core.logging - INFO - Received chat request: Show me flights from Delhi to Mumbai on October 20...
2025-09-04 15:30:13,776 - app.core.logging - INFO - No existing flight data in session, fetching new data
2025-09-04 15:30:13,776 - app.core.logging - INFO - Processing flight search query: Show me flights from Delhi to Mumbai on October 20th
2025-09-04 15:30:13,776 - app.core.logging - INFO - Calling OpenAI with model: gpt-4o-mini
2025-09-04 15:30:13,776 - app.core.logging - INFO - System message: You are an assistant that helps extract flight information from user queries. Today is 2025-09-04. Extract the following details from the query: 1. location_origin: The departure city or airport, ensu...
2025-09-04 15:30:13,776 - app.core.logging - INFO - User message: Show me flights from Delhi to Mumbai on October 20th
2025-09-04 15:30:15,337 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-04 15:30:15,583 - app.core.logging - INFO - OpenAI response: {"location_origin": "DEL", "location_destination": "BOM", "departure_date": "2025-10-20", "adults": 1}
2025-09-04 15:30:15,584 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'DEL', 'location_destination': 'BOM', 'departure_date': '2025-10-20', 'adults': 1}
2025-09-04 15:30:31,769 - app.core.logging - INFO - Created dataframe with 10 flights
2025-09-04 15:30:31,769 - app.core.logging - INFO - Sending query to LLM: System Prompt: 
        You are a professional flight booking assistant specializing in helping users find and analyze flight information. You have access to real-time flight data and can provide detailed analysis and recommendations.

        CURRENT CONTEXT:
        - Flight data from DEL to BOM
        - Real-time pricing and availability information
        - All prices are shown in Indian Rupees (INR)

        CAPABILITIES:
        - Analyze flight data including prices, airlines, stops, cabin classes
        - Provide comparative analysis and recommendations
        - Identify best deals and optimal flight options
        - Handle follow-up questions about the same flight search

        RESPONSE GUIDELINES:
        - DO NOT create a numbered list of flights with departure/arrival times and prices
        - Analyze the ACTUAL flight data available and provide specific insights
        - Mention specific prices in INR (‚Çπ), airlines, and key differences you find in the data
        - Highlight the cheapest options, direct flights, and best value choices
        - Provide actionable recommendations based on the real flight options
        - Keep it concise but informative
        - Flight cards will show the detailed flight information, but your text should reference the actual data

        ANALYSIS FOCUS:
        - Identify the cheapest flights available and their prices
        - Point out direct flights vs flights with stops
        - Highlight time differences and convenience factors
        - Mention specific airlines operating this route
        - Compare value propositions of different options

        IMPORTANT: Base your response on the ACTUAL flight data in the dataframe. Don't give generic advice - analyze the real flights available for this specific route and date.

        Provide specific insights about the available flight options to help users choose the best flight for their needs.
        
Query: Show me flights from Delhi to Mumbai on October 20th
2025-09-04 15:30:32,932 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-04 15:30:34,047 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-04 15:30:40,726 - app.core.logging - INFO - LLM Response: For flights from Delhi (DEL) to Mumbai (BOM) on October 20th, here are some key insights based on the available data:

1. **Cheapest Flight**: The most affordable option is with Air India departing at 21:10 and arriving at 23:35, priced at ‚Çπ5619.15. This is a direct flight with no stops.

2. **Other Direct Flights**: There are several other direct flights available, all operated by Air India. The prices for these flights range from ‚Çπ8659.94. They cover various departure times throughout the day:
   - Departures include:
     - 12:35 (arriving at 14:50)
     - 12:15 (arriving at 14:35)
     - 16:50 (arriving at 19:05)
     - 15:20 (arriving at 17:45)
     - Evening options include 20:00 (arriving at 22:25) and 20:30 (arriving at 22:55).

3. **Flight Convenience**: All listed flights are direct, which is convenient as it minimizes travel time and the hassle of layovers. The cheapest flight departs later in the evening, which might appeal to travelers looking for a night departure.

4. **Comparison of Value**: While the ‚Çπ5619.15 option is the cheapest, the slightly more expensive flights at ‚Çπ8659.94 might provide better timings depending on your schedule, especially if you prefer to travel during the day.

In summary, if you are looking for both cost-effectiveness and convenience, the flight departing at 21:10 for ‚Çπ5619.15 is an excellent choice. However, if you need to reach Mumbai earlier or prefer different times, consider the direct flights available for ‚Çπ8659.94.
2025-09-04 15:30:40,728 - app.core.logging - INFO - Flight data prepared: True
2025-09-04 15:30:40,728 - app.core.logging - INFO - Flight data length: 10
2025-09-04 15:30:40,728 - app.core.logging - INFO - First flight record: {'Airline Code': 'AI', 'Airline Name': 'AIR INDIA', 'Departure': '2025-10-20T21:10:00', 'Arrival': '2025-10-20T23:35:00', 'Total Price': '5619.15', 'Currency': 'INR', 'Number of Stops': 0, 'Cabin': 'ECONOMY', 'One Way': True}
2025-09-04 15:30:40,728 - app.core.logging - INFO - Returning result with show_flight_cards: True
2025-09-04 15:31:01,798 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-04 15:31:01,798 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-04 15:31:03,063 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-04 15:31:03,094 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-04 15:31:13,817 - app.core.logging - INFO - Received chat request: Show me flights from Delhi to Mumbai on October 20...
2025-09-04 15:31:13,818 - app.core.logging - INFO - No existing flight data in session, fetching new data
2025-09-04 15:31:13,818 - app.core.logging - INFO - Processing flight search query: Show me flights from Delhi to Mumbai on October 20th
2025-09-04 15:31:13,818 - app.core.logging - INFO - Calling OpenAI with model: gpt-4o-mini
2025-09-04 15:31:13,818 - app.core.logging - INFO - System message: You are an assistant that helps extract flight information from user queries. Today is 2025-09-04. Extract the following details from the query: 1. location_origin: The departure city or airport, ensu...
2025-09-04 15:31:13,818 - app.core.logging - INFO - User message: Show me flights from Delhi to Mumbai on October 20th
2025-09-04 15:31:15,434 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-04 15:31:15,443 - app.core.logging - INFO - OpenAI response: {"location_origin": "DEL", "location_destination": "BOM", "departure_date": "2025-10-20", "adults": 1}
2025-09-04 15:31:15,443 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'DEL', 'location_destination': 'BOM', 'departure_date': '2025-10-20', 'adults': 1}
2025-09-04 15:31:41,876 - app.core.logging - INFO - Created dataframe with 10 flights
2025-09-04 15:31:41,876 - app.core.logging - INFO - Sending query to LLM: System Prompt: 
        You are a professional flight booking assistant specializing in helping users find and analyze flight information. You have access to real-time flight data and can provide detailed analysis and recommendations.

        CURRENT CONTEXT:
        - Flight data from DEL to BOM
        - Real-time pricing and availability information
        - All prices are shown in Indian Rupees (INR)

        IMPORTANT: Generate your response in HTML format with inline CSS for a rich, visually appealing interface.

        HTML STRUCTURE REQUIREMENTS:
        Your entire response must be wrapped in a div with proper HTML formatting. Use this structure:
        
        <div style="font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; max-width: 100%; padding: 20px;">
            <!-- Your content here -->
        </div>

        REQUIRED HTML SECTIONS:
        
        1. HEADER SECTION:
        <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 10px; margin-bottom: 20px;">
            <h2 style="margin: 0; font-size: 24px;">‚úàÔ∏è Flight Search Results</h2>
            <p style="margin: 5px 0; opacity: 0.95;">From DEL to BOM</p>
        </div>

        2. BEST DEAL CARD:
        <div style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); color: white; padding: 15px; border-radius: 10px; margin-bottom: 20px; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
            <h3 style="margin: 0 0 10px 0; display: flex; align-items: center;">
                <span style="font-size: 24px; margin-right: 10px;">üèÜ</span>
                Best Deal
            </h3>
            <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap;">
                <div>
                    <p style="font-size: 28px; font-weight: bold; margin: 5px 0;">‚ÇπX,XXX</p>
                    <p style="margin: 5px 0; opacity: 0.95;">Airline Name ‚Ä¢ Direct/X Stops</p>
                    <p style="margin: 5px 0; opacity: 0.9;">XX:XX ‚Üí XX:XX</p>
                </div>
            </div>
        </div>

        3. FLIGHT OPTIONS GRID:
        <div style="margin-bottom: 20px;">
            <h3 style="color: #4a5568; font-size: 20px; margin-bottom: 15px;">üìä All Available Options</h3>
            <div style="display: grid; gap: 15px;">
                <!-- For each flight option -->
                <div style="background: white; border: 1px solid #e2e8f0; padding: 15px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.05); transition: transform 0.2s;">
                    <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap;">
                        <div>
                            <span style="background: #edf2f7; color: #4a5568; padding: 4px 8px; border-radius: 4px; font-size: 12px;">AIRLINE CODE</span>
                            <h4 style="margin: 8px 0; color: #2d3748;">Airline Name</h4>
                            <p style="color: #718096; margin: 5px 0;">XX:XX ‚Üí XX:XX ‚Ä¢ Duration</p>
                        </div>
                        <div style="text-align: right;">
                            <p style="font-size: 24px; color: #48bb78; font-weight: bold; margin: 0;">‚ÇπX,XXX</p>
                            <p style="color: #718096; font-size: 14px; margin: 5px 0;">Direct/X Stop(s)</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        4. INSIGHTS SECTION:
        <div style="background: #f7fafc; padding: 20px; border-radius: 10px; margin-bottom: 20px; border-left: 4px solid #4299e1;">
            <h3 style="color: #2b6cb6; margin: 0 0 15px 0;">üí° Smart Insights</h3>
            <ul style="color: #4a5568; line-height: 1.8; margin: 0; padding-left: 20px;">
                <li>Key insight about price differences</li>
                <li>Timing recommendations</li>
                <li>Stop vs direct flight analysis</li>
            </ul>
        </div>

        5. RECOMMENDATIONS:
        <div style="background: linear-gradient(135deg, #89f7fe 0%, #66a6ff 100%); color: white; padding: 20px; border-radius: 10px;">
            <h3 style="margin: 0 0 15px 0;">üéØ Our Recommendations</h3>
            <div style="display: grid; gap: 10px;">
                <div style="background: rgba(255,255,255,0.2); padding: 12px; border-radius: 6px;">
                    <strong>For Budget Travelers:</strong> Choose the flight at ‚ÇπX,XXX
                </div>
                <div style="background: rgba(255,255,255,0.2); padding: 12px; border-radius: 6px;">
                    <strong>For Convenience:</strong> Direct flight at ‚ÇπX,XXX saves X hours
                </div>
            </div>
        </div>

        STYLING GUIDELINES:
        - Use gradients for important sections
        - Add subtle shadows with box-shadow
        - Use color coding: Green for best prices, Blue for information, Purple for premium
        - Make cards responsive with flex layouts
        - Add hover effects where appropriate
        - Use proper spacing and padding

        CONTENT REQUIREMENTS:
        - Analyze ACTUAL flight data from the dataframe
        - Show specific prices in INR (‚Çπ)
        - Include airline names and codes
        - Display departure and arrival times
        - Indicate number of stops
        - Provide actionable insights
        - Compare options clearly

        IMPORTANT: Generate complete, valid HTML that can be directly rendered. Ensure all styles are inline CSS. Base all content on actual flight data, not generic examples.
        
Query: Show me flights from Delhi to Mumbai on October 20th
2025-09-04 15:32:13,025 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-04 15:32:15,163 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-04 15:32:47,751 - app.core.logging - INFO - LLM Response: ```html
<div style="font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; max-width: 100%; padding: 20px;">
    <!-- Header Section -->
    <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 10px; margin-bottom: 20px;">
        <h2 style="margin: 0; font-size: 24px;">‚úàÔ∏è Flight Search Results</h2>
        <p style="margin: 5px 0; opacity: 0.95;">From DEL to BOM</p>
    </div>

    <!-- Best Deal Card -->
    <div style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); color: white; padding: 15px; border-radius: 10px; margin-bottom: 20px; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
        <h3 style="margin: 0 0 10px 0; display: flex; align-items: center;">
            <span style="font-size: 24px; margin-right: 10px;">üèÜ</span>
            Best Deal
        </h3>
        <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap;">
            <div>
                <p style="font-size: 28px; font-weight: bold; margin: 5px 0;">‚Çπ5,619.15</p>
                <p style="margin: 5px 0; opacity: 0.95;">AIR INDIA ‚Ä¢ Direct</p>
                <p style="margin: 5px 0; opacity: 0.9;">21:10 ‚Üí 23:35</p>
            </div>
        </div>
    </div>

    <!-- Flight Options Grid -->
    <div style="margin-bottom: 20px;">
        <h3 style="color: #4a5568; font-size: 20px; margin-bottom: 15px;">üìä All Available Options</h3>
        <div style="display: grid; gap: 15px;">
            <!-- Flight Option 1 -->
            <div style="background: white; border: 1px solid #e2e8f0; padding: 15px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.05);">
                <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap;">
                    <div>
                        <span style="background: #edf2f7; color: #4a5568; padding: 4px 8px; border-radius: 4px; font-size: 12px;">AI</span>
                        <h4 style="margin: 8px 0; color: #2d3748;">AIR INDIA</h4>
                        <p style="color: #718096; margin: 5px 0;">21:10 ‚Üí 23:35 ‚Ä¢ Duration: 2h 25m</p>
                    </div>
                    <div style="text-align: right;">
                        <p style="font-size: 24px; color: #48bb78; font-weight: bold; margin: 0;">‚Çπ5,619.15</p>
                        <p style="color: #718096; font-size: 14px; margin: 5px 0;">Direct</p>
                    </div>
                </div>
            </div>
            <!-- Flight Option 2 -->
            <div style="background: white; border: 1px solid #e2e8f0; padding: 15px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.05);">
                <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap;">
                    <div>
                        <span style="background: #edf2f7; color: #4a5568; padding: 4px 8px; border-radius: 4px;">AI</span>
                        <h4 style="margin: 8px 0; color: #2d3748;">AIR INDIA</h4>
                        <p style="color: #718096; margin: 5px 0;">12:35 ‚Üí 14:50 ‚Ä¢ Duration: 2h 15m</p>
                    </div>
                    <div style="text-align: right;">
                        <p style="font-size: 24px; color: #48bb78; font-weight: bold; margin: 0;">‚Çπ8,659.94</p>
                        <p style="color: #718096; font-size: 14px; margin: 5px 0;">Direct</p>
                    </div>
                </div>
            </div>
            <!-- Additional flight cards can be added similarly -->
        </div>
    </div>

    <!-- Insights Section -->
    <div style="background: #f7fafc; padding: 20px; border-radius: 10px; margin-bottom: 20px; border-left: 4px solid #4299e1;">
        <h3 style="color: #2b6cb6; margin: 0 0 15px 0;">üí° Smart Insights</h3>
        <ul style="color: #4a5568; line-height: 1.8; margin: 0; padding-left: 20px;">
            <li>The best time to book a flight is often 2-3 weeks in advance. Booking now can secure better prices.</li>
            <li>Consider flying during off-peak hours for better rates.</li>
            <li>Direct flights are generally more convenient, especially for short distances.</li>
        </ul>
    </div>

    <!-- Recommendations Section -->
    <div style="background: linear-gradient(135deg, #89f7fe 0%, #66a6ff 100%); color: white; padding: 20px; border-radius: 10px;">
        <h3 style="margin: 0 0 15px 0;">üéØ Our Recommendations</h3>
        <div style="display: grid; gap: 10px;">
            <div style="background: rgba(255,255,255,0.2); padding: 12px; border-radius: 6px;">
                <strong>For Budget Travelers:</strong> Choose the flight at ‚Çπ5,619.15.
            </div>
            <div style="background: rgba(255,255,255,0.2); padding: 12px; border-radius: 6px;">
                <strong>For Convenience:</strong> The direct flight at ‚Çπ5,619.15 saves time and offers no stops.
            </div>
        </div>
    </div>
</div>
```
2025-09-04 15:32:47,752 - app.core.logging - INFO - Flight data prepared: True
2025-09-04 15:32:47,752 - app.core.logging - INFO - Flight data length: 10
2025-09-04 15:32:47,752 - app.core.logging - INFO - First flight record: {'Airline Code': 'AI', 'Airline Name': 'AIR INDIA', 'Departure': '2025-10-20T21:10:00', 'Arrival': '2025-10-20T23:35:00', 'Total Price': '5619.15', 'Currency': 'INR', 'Number of Stops': 0, 'Cabin': 'ECONOMY', 'One Way': True}
2025-09-04 15:32:47,752 - app.core.logging - INFO - Returning result with show_flight_cards: True
2025-09-04 15:33:42,677 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-04 15:33:42,693 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-04 15:33:42,715 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-04 15:33:42,717 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-04 15:33:42,731 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-04 15:33:42,760 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-04 15:33:42,775 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-04 15:33:42,814 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-04 15:33:54,585 - app.core.logging - INFO - Received chat request: i want flight for delhi to mumbai on 10 oct...
2025-09-04 15:33:54,585 - app.core.logging - INFO - No existing flight data in session, fetching new data
2025-09-04 15:33:54,585 - app.core.logging - INFO - Processing flight search query: i want flight for delhi to mumbai on 10 oct
2025-09-04 15:33:54,585 - app.core.logging - INFO - Calling OpenAI with model: gpt-4o-mini
2025-09-04 15:33:54,585 - app.core.logging - INFO - System message: You are an assistant that helps extract flight information from user queries. Today is 2025-09-04. Extract the following details from the query: 1. location_origin: The departure city or airport, ensu...
2025-09-04 15:33:54,585 - app.core.logging - INFO - User message: i want flight for delhi to mumbai on 10 oct
2025-09-04 15:33:56,192 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-04 15:33:56,203 - app.core.logging - INFO - OpenAI response: {"location_origin": "DEL", "location_destination": "BOM", "departure_date": "2025-10-10", "adults": 1}
2025-09-04 15:33:56,203 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'DEL', 'location_destination': 'BOM', 'departure_date': '2025-10-10', 'adults': 1}
2025-09-04 15:34:13,190 - app.core.logging - INFO - Created dataframe with 11 flights
2025-09-04 15:34:13,191 - app.core.logging - INFO - Sending query to LLM: System Prompt: 
        You are a professional flight booking assistant specializing in helping users find and analyze flight information. You have access to real-time flight data and can provide detailed analysis and recommendations.

        CURRENT CONTEXT:
        - Flight data from DEL to BOM
        - Real-time pricing and availability information
        - All prices are shown in Indian Rupees (INR)

        IMPORTANT: Generate your response in HTML format with inline CSS for a rich, visually appealing interface.

        HTML STRUCTURE REQUIREMENTS:
        Your entire response must be wrapped in a div with proper HTML formatting. Use this structure:
        
        <div style="font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; max-width: 100%; padding: 20px;">
            <!-- Your content here -->
        </div>

        REQUIRED HTML SECTIONS:
        
        1. HEADER SECTION:
        <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 10px; margin-bottom: 20px;">
            <h2 style="margin: 0; font-size: 24px;">‚úàÔ∏è Flight Search Results</h2>
            <p style="margin: 5px 0; opacity: 0.95;">From DEL to BOM</p>
        </div>

        2. BEST DEAL CARD:
        <div style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); color: white; padding: 15px; border-radius: 10px; margin-bottom: 20px; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
            <h3 style="margin: 0 0 10px 0; display: flex; align-items: center;">
                <span style="font-size: 24px; margin-right: 10px;">üèÜ</span>
                Best Deal
            </h3>
            <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap;">
                <div>
                    <p style="font-size: 28px; font-weight: bold; margin: 5px 0;">‚ÇπX,XXX</p>
                    <p style="margin: 5px 0; opacity: 0.95;">Airline Name ‚Ä¢ Direct/X Stops</p>
                    <p style="margin: 5px 0; opacity: 0.9;">XX:XX ‚Üí XX:XX</p>
                </div>
            </div>
        </div>

        3. FLIGHT OPTIONS GRID:
        <div style="margin-bottom: 20px;">
            <h3 style="color: #4a5568; font-size: 20px; margin-bottom: 15px;">üìä All Available Options</h3>
            <div style="display: grid; gap: 15px;">
                <!-- For each flight option -->
                <div style="background: white; border: 1px solid #e2e8f0; padding: 15px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.05); transition: transform 0.2s;">
                    <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap;">
                        <div>
                            <span style="background: #edf2f7; color: #4a5568; padding: 4px 8px; border-radius: 4px; font-size: 12px;">AIRLINE CODE</span>
                            <h4 style="margin: 8px 0; color: #2d3748;">Airline Name</h4>
                            <p style="color: #718096; margin: 5px 0;">XX:XX ‚Üí XX:XX ‚Ä¢ Duration</p>
                        </div>
                        <div style="text-align: right;">
                            <p style="font-size: 24px; color: #48bb78; font-weight: bold; margin: 0;">‚ÇπX,XXX</p>
                            <p style="color: #718096; font-size: 14px; margin: 5px 0;">Direct/X Stop(s)</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        4. INSIGHTS SECTION:
        <div style="background: #f7fafc; padding: 20px; border-radius: 10px; margin-bottom: 20px; border-left: 4px solid #4299e1;">
            <h3 style="color: #2b6cb6; margin: 0 0 15px 0;">üí° Smart Insights</h3>
            <ul style="color: #4a5568; line-height: 1.8; margin: 0; padding-left: 20px;">
                <li>Key insight about price differences</li>
                <li>Timing recommendations</li>
                <li>Stop vs direct flight analysis</li>
            </ul>
        </div>

        5. RECOMMENDATIONS:
        <div style="background: linear-gradient(135deg, #89f7fe 0%, #66a6ff 100%); color: white; padding: 20px; border-radius: 10px;">
            <h3 style="margin: 0 0 15px 0;">üéØ Our Recommendations</h3>
            <div style="display: grid; gap: 10px;">
                <div style="background: rgba(255,255,255,0.2); padding: 12px; border-radius: 6px;">
                    <strong>For Budget Travelers:</strong> Choose the flight at ‚ÇπX,XXX
                </div>
                <div style="background: rgba(255,255,255,0.2); padding: 12px; border-radius: 6px;">
                    <strong>For Convenience:</strong> Direct flight at ‚ÇπX,XXX saves X hours
                </div>
            </div>
        </div>

        STYLING GUIDELINES:
        - Use gradients for important sections
        - Add subtle shadows with box-shadow
        - Use color coding: Green for best prices, Blue for information, Purple for premium
        - Make cards responsive with flex layouts
        - Add hover effects where appropriate
        - Use proper spacing and padding

        CONTENT REQUIREMENTS:
        - Analyze ACTUAL flight data from the dataframe
        - Show specific prices in INR (‚Çπ)
        - Include airline names and codes
        - Display departure and arrival times
        - Indicate number of stops
        - Provide actionable insights
        - Compare options clearly

        IMPORTANT: Generate complete, valid HTML that can be directly rendered. Ensure all styles are inline CSS. Base all content on actual flight data, not generic examples.
        
Query: i want flight for delhi to mumbai on 10 oct
2025-09-04 15:34:15,851 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-04 15:34:17,591 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-04 15:34:39,495 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-04 15:34:42,676 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-04 15:34:45,132 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-04 15:34:48,631 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-04 15:35:15,711 - app.core.logging - INFO - LLM Response: ```html
<div style="font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; max-width: 100%; padding: 20px;">
    <!-- HEADER SECTION -->
    <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 10px; margin-bottom: 20px;">
        <h2 style="margin: 0; font-size: 24px;">‚úàÔ∏è Flight Search Results</h2>
        <p style="margin: 5px 0; opacity: 0.95;">From DEL to BOM</p>
    </div>

    <!-- BEST DEAL CARD -->
    <div style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); color: white; padding: 15px; border-radius: 10px; margin-bottom: 20px; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
        <h3 style="margin: 0 0 10px 0; display: flex; align-items: center;">
            <span style="font-size: 24px; margin-right: 10px;">üèÜ</span>
            Best Deal
        </h3>
        <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap;">
            <div>
                <p style="font-size: 28px; font-weight: bold; margin: 5px 0;">‚Çπ5,239</p>
                <p style="margin: 5px 0; opacity: 0.95;">AIR INDIA ‚Ä¢ Direct</p>
                <p style="margin: 5px 0; opacity: 0.9;">21:10 ‚Üí 23:35</p>
            </div>
        </div>
    </div>

    <!-- FLIGHT OPTIONS GRID -->
    <div style="margin-bottom: 20px;">
        <h3 style="color: #4a5568; font-size: 20px; margin-bottom: 15px;">üìä All Available Options</h3>
        <div style="display: grid; gap: 15px;">
            <div style="background: white; border: 1px solid #e2e8f0; padding: 15px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.05); transition: transform 0.2s;">
                <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap;">
                    <div>
                        <span style="background: #edf2f7; color: #4a5568; padding: 4px 8px; border-radius: 4px; font-size: 12px;">AI</span>
                        <h4 style="margin: 8px 0; color: #2d3748;">AIR INDIA</h4>
                        <p style="color: #718096; margin: 5px 0;">21:10 ‚Üí 23:35 ‚Ä¢ 2h 25m</p>
                    </div>
                    <div style="text-align: right;">
                        <p style="font-size: 24px; color: #48bb78; font-weight: bold; margin: 0;">‚Çπ5,239</p>
                        <p style="color: #718096; font-size: 14px; margin: 5px 0;">Direct</p>
                    </div>
                </div>
            </div>
            <div style="background: white; border: 1px solid #e2e8f0; padding: 15px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.05); transition: transform 0.2s;">
                <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap;">
                    <div>
                        <span style="background: #edf2f7; color: #4a5568; padding: 4px 8px; border-radius: 4px; font-size: 12px;">AI</span>
                        <h4 style="margin: 8px 0; color: #2d3748;">AIR INDIA</h4>
                        <p style="color: #718096; margin: 5px 0;">11:00 ‚Üí 11:50 ‚Ä¢ 50m</p>
                    </div>
                    <div style="text-align: right;">
                        <p style="font-size: 24px; color: #48bb78; font-weight: bold; margin: 0;">‚Çπ5,587</p>
                        <p style="color: #718096; font-size: 14px; margin: 5px 0;">1 Stop</p>
                    </div>
                </div>
            </div>
            <!-- Repeat for other flights -->
        </div>
    </div>

    <!-- INSIGHTS SECTION -->
    <div style="background: #f7fafc; padding: 20px; border-radius: 10px; margin-bottom: 20px; border-left: 4px solid #4299e1;">
        <h3 style="color: #2b6cb6; margin: 0 0 15px 0;">üí° Smart Insights</h3>
        <ul style="color: #4a5568; line-height: 1.8; margin: 0; padding-left: 20px;">
            <li>Direct flights are generally faster and more convenient.</li>
            <li>The best deal available today is ‚Çπ5,239 with no stops.</li>
            <li>Consider booking early for better prices.</li>
        </ul>
    </div>

    <!-- RECOMMENDATIONS -->
    <div style="background: linear-gradient(135deg, #89f7fe 0%, #66a6ff 100%); color: white; padding: 20px; border-radius: 10px;">
        <h3 style="margin: 0 0 15px 0;">üéØ Our Recommendations</h3>
        <div style="display: grid; gap: 10px;">
            <div style="background: rgba(255,255,255,0.2); padding: 12px; border-radius: 6px;">
                <strong>For Budget Travelers:</strong> Choose the flight at ‚Çπ5,239
            </div>
            <div style="background: rgba(255,255,255,0.2); padding: 12px; border-radius: 6px;">
                <strong>For Convenience:</strong> Direct flight at ‚Çπ5,239 saves time.
            </div>
        </div>
    </div>
</div>
```
2025-09-04 15:35:15,713 - app.core.logging - INFO - Flight data prepared: True
2025-09-04 15:35:15,713 - app.core.logging - INFO - Flight data length: 11
2025-09-04 15:35:15,713 - app.core.logging - INFO - First flight record: {'Airline Code': 'AI', 'Airline Name': 'AIR INDIA', 'Departure': Timestamp('2025-10-10 21:10:00'), 'Arrival': Timestamp('2025-10-10 23:35:00'), 'Total Price': '5239.05', 'Currency': 'INR', 'Number of Stops': 0, 'Cabin': 'ECONOMY', 'One Way': True}
2025-09-04 15:35:15,713 - app.core.logging - INFO - Returning result with show_flight_cards: True
2025-09-04 15:39:37,681 - app.core.logging - INFO - Received chat request: Show me flights from Delhi to Mumbai on October 15...
2025-09-04 15:39:37,681 - app.core.logging - INFO - No existing flight data in session, fetching new data
2025-09-04 15:39:37,681 - app.core.logging - INFO - Processing flight search query: Show me flights from Delhi to Mumbai on October 15th
2025-09-04 15:39:37,682 - app.core.logging - INFO - Calling OpenAI with model: gpt-4o-mini
2025-09-04 15:39:37,682 - app.core.logging - INFO - System message: You are an assistant that helps extract flight information from user queries. Today is 2025-09-04. Extract the following details from the query: 1. location_origin: The departure city or airport, ensu...
2025-09-04 15:39:37,682 - app.core.logging - INFO - User message: Show me flights from Delhi to Mumbai on October 15th
2025-09-04 15:39:39,125 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-04 15:39:39,126 - app.core.logging - INFO - OpenAI response: {"location_origin": "DEL", "location_destination": "BOM", "departure_date": "2025-10-15", "adults": 1}
2025-09-04 15:39:39,126 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'DEL', 'location_destination': 'BOM', 'departure_date': '2025-10-15', 'adults': 1}
2025-09-04 15:40:10,465 - app.core.logging - ERROR - No flights found or error in forming dataframe
2025-09-04 15:41:07,829 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-04 15:41:07,830 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-04 15:41:09,267 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-04 15:41:09,294 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-04 15:41:17,860 - app.core.logging - INFO - Received chat request: I want to fly from San Francisco to New York on Oc...
2025-09-04 15:41:17,860 - app.core.logging - INFO - No existing flight data in session, fetching new data
2025-09-04 15:41:17,860 - app.core.logging - INFO - Processing flight search query: I want to fly from San Francisco to New York on October 20
2025-09-04 15:41:17,860 - app.core.logging - INFO - Calling OpenAI with model: gpt-4o-mini
2025-09-04 15:41:17,860 - app.core.logging - INFO - System message: You are an assistant that helps extract flight information from user queries. Today is 2025-09-04. Extract the following details from the query: 1. location_origin: The departure city or airport, ensu...
2025-09-04 15:41:17,860 - app.core.logging - INFO - User message: I want to fly from San Francisco to New York on October 20
2025-09-04 15:41:19,337 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-04 15:41:19,343 - app.core.logging - INFO - OpenAI response: {"location_origin": "SFO", "location_destination": "JFK", "departure_date": "2025-10-20", "adults": 1}
2025-09-04 15:41:19,343 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'SFO', 'location_destination': 'JFK', 'departure_date': '2025-10-20', 'adults': 1}
2025-09-04 15:41:47,644 - app.core.logging - INFO - Created dataframe with 16 flights
2025-09-04 15:41:47,644 - app.core.logging - INFO - Sending query to LLM: System Prompt: 
        You are a professional flight booking assistant specializing in helping users find and analyze flight information. You have access to real-time flight data and can provide detailed analysis and recommendations.

        CURRENT CONTEXT:
        - Flight data from SFO to JFK
        - Real-time pricing and availability information
        - All prices are shown in Indian Rupees (INR)

        RESPONSE FORMAT REQUIREMENTS:
        Use clean markdown formatting with the following structure:

        ## üéØ Best Deal
        - **Price:** ‚ÇπX,XXX
        - **Airline:** Airline Name (Code)
        - **Time:** XX:XX ‚Üí XX:XX
        - **Stops:** Direct/X stops
        - **Duration:** Xh XXm

        ## ‚úàÔ∏è Available Flights

        ### Option 1
        - **Airline:** AIR INDIA (AI)
        - **Price:** ‚ÇπX,XXX
        - **Departure:** XX:XX
        - **Arrival:** XX:XX
        - **Stops:** Direct/X stops

        ### Option 2
        [Continue for top 5 flights...]

        ## üí° Key Insights
        - Point about cheapest option
        - Point about direct vs stops
        - Point about timing
        - Price comparison insight

        ## üìä Quick Comparison
        - **Cheapest:** ‚ÇπX,XXX (Airline, Time)
        - **Fastest:** Xh XXm (Airline, ‚ÇπPrice)
        - **Best Value:** Balance of price and convenience

        ## üéÅ Recommendations
        - **Budget Travelers:** Specific flight recommendation with price
        - **Business Travelers:** Direct flight option
        - **Flexible Schedule:** Best timing options

        FORMATTING RULES:
        - Use ## for main sections
        - Use ### for subsections
        - Use **bold** for important labels and prices
        - Use bullet points (-) for lists
        - Keep sections concise and scannable
        - Include emojis only in section headers

        CONTENT REQUIREMENTS:
        - Base ALL information on ACTUAL flight data
        - Show specific prices in INR (‚Çπ)
        - Include real airline names and codes
        - Display actual departure and arrival times
        - Indicate actual number of stops
        - Provide data-driven insights
        - Limit to top 5 flight options

        IMPORTANT: 
        - Keep response concise and well-structured
        - Use exact data from the dataframe
        - Do NOT include HTML or CSS
        - Focus on clear markdown formatting
        
Query: I want to fly from San Francisco to New York on October 20
2025-09-04 15:41:48,404 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-04 15:41:53,591 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-04 15:41:59,463 - app.core.logging - INFO - LLM Response: ## üéØ Best Deal
- **Price:** ‚Çπ9,263.58
- **Airline:** ALASKA AIRLINES (AS)
- **Time:** 23:00 ‚Üí 07:34
- **Stops:** Direct
- **Duration:** 8h 34m

## ‚úàÔ∏è Available Flights

### Option 1
- **Airline:** ALASKA AIRLINES (AS)
- **Price:** ‚Çπ9,263.58
- **Departure:** 23:00
- **Arrival:** 07:34
- **Stops:** Direct

### Option 2
- **Airline:** JETBLUE AIRWAYS (B6)
- **Price:** ‚Çπ12,351.40
- **Departure:** 20:47
- **Arrival:** 05:25
- **Stops:** 1 stop

### Option 3
- **Airline:** JETBLUE AIRWAYS (B6)
- **Price:** ‚Çπ12,351.40
- **Departure:** 06:30 (Next Day)
- **Arrival:** 07:35
- **Stops:** 1 stop

### Option 4
- **Airline:** JETBLUE AIRWAYS (B6)
- **Price:** ‚Çπ12,351.40
- **Departure:** 10:40
- **Arrival:** 19:19
- **Stops:** 1 stop

### Option 5
- **Airline:** JETBLUE AIRWAYS (B6)
- **Price:** ‚Çπ12,351.40
- **Departure:** 22:40
- **Arrival:** 23:56
- **Stops:** 1 stop

## üí° Key Insights
- The **cheapest option** is with Alaska Airlines at ‚Çπ9,263.58, which is a direct flight.
- Most options feature **1 stop**, while the best deal is **direct**.
- The available flights provide a broad range of **timings**, allowing for flexibility in departure schedules.
- A **price comparison** suggests significant savings if choosing the direct flight over multiple stop options.

## üìä Quick Comparison
- **Cheapest:** ‚Çπ9,263.58 (ALASKA AIRLINES, 23:00 ‚Üí 07:34)
- **Fastest:** 1h 5m (JETBLUE AIRWAYS, ‚Çπ12,351.40) 
- **Best Value:** Direct flight with Alaska Airlines for ‚Çπ9,263.58.

## üéÅ Recommendations
- **Budget Travelers:** Opt for Alaska Airlines (AS) at ‚Çπ9,263.58 for a direct and quick journey.
- **Business Travelers:** Choose the direct flight for convenience and efficiency.
- **Flexible Schedule:** Consider the range of timings offered by JetBlue for varied arrival experiences.
2025-09-04 15:41:59,465 - app.core.logging - INFO - Flight data prepared: True
2025-09-04 15:41:59,465 - app.core.logging - INFO - Flight data length: 16
2025-09-04 15:41:59,465 - app.core.logging - INFO - First flight record: {'Airline Code': 'AS', 'Airline Name': 'ALASKA AIRLINES', 'Departure': '2025-10-20T23:00:00', 'Arrival': '2025-10-21T07:34:00', 'Total Price': '9263.58', 'Currency': 'INR', 'Number of Stops': 0, 'Cabin': 'ECONOMY', 'One Way': True}
2025-09-04 15:41:59,465 - app.core.logging - INFO - Returning result with show_flight_cards: True
2025-09-04 15:52:02,041 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-04 15:52:02,052 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-04 15:52:02,067 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-04 15:52:02,082 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-04 15:52:02,088 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-04 15:52:02,102 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-04 15:52:02,115 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-04 15:52:02,154 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-04 15:52:13,013 - app.core.logging - INFO - Received chat request: i want flight for delhi to mumbai on 10 oct...
2025-09-04 15:52:13,013 - app.core.logging - INFO - No existing flight data in session, fetching new data
2025-09-04 15:52:13,013 - app.core.logging - INFO - Processing flight search query: i want flight for delhi to mumbai on 10 oct
2025-09-04 15:52:13,013 - app.core.logging - INFO - Calling OpenAI with model: gpt-4o-mini
2025-09-04 15:52:13,013 - app.core.logging - INFO - System message: You are an assistant that helps extract flight information from user queries. Today is 2025-09-04. Extract the following details from the query: 1. location_origin: The departure city or airport, ensu...
2025-09-04 15:52:13,013 - app.core.logging - INFO - User message: i want flight for delhi to mumbai on 10 oct
2025-09-04 15:52:15,858 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-04 15:52:15,865 - app.core.logging - INFO - OpenAI response: {"location_origin": "DEL", "location_destination": "BOM", "departure_date": "2025-10-10", "adults": 1}
2025-09-04 15:52:15,865 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'DEL', 'location_destination': 'BOM', 'departure_date': '2025-10-10', 'adults': 1}
2025-09-04 15:52:21,494 - app.core.logging - INFO - Created dataframe with 11 flights
2025-09-04 15:52:21,494 - app.core.logging - INFO - Sending query to LLM: System Prompt: 
        You are a professional flight booking assistant specializing in helping users find and analyze flight information. You have access to real-time flight data and can provide detailed analysis and recommendations.

        CURRENT CONTEXT:
        - Flight data from DEL to BOM
        - Real-time pricing and availability information
        - All prices are shown in Indian Rupees (INR)

        RESPONSE FORMAT REQUIREMENTS:
        Use clean markdown formatting with the following structure:

        ## üéØ Best Deal
        - **Price:** ‚ÇπX,XXX
        - **Airline:** Airline Name (Code)
        - **Time:** XX:XX ‚Üí XX:XX
        - **Stops:** Direct/X stops
        - **Duration:** Xh XXm

        ## ‚úàÔ∏è Available Flights

        ### Option 1
        - **Airline:** AIR INDIA (AI)
        - **Price:** ‚ÇπX,XXX
        - **Departure:** XX:XX
        - **Arrival:** XX:XX
        - **Stops:** Direct/X stops

        ### Option 2
        [Continue for top 5 flights...]

        ## üí° Key Insights
        - Point about cheapest option
        - Point about direct vs stops
        - Point about timing
        - Price comparison insight

        ## üìä Quick Comparison
        - **Cheapest:** ‚ÇπX,XXX (Airline, Time)
        - **Fastest:** Xh XXm (Airline, ‚ÇπPrice)
        - **Best Value:** Balance of price and convenience

        ## üéÅ Recommendations
        - **Budget Travelers:** Specific flight recommendation with price
        - **Business Travelers:** Direct flight option
        - **Flexible Schedule:** Best timing options

        FORMATTING RULES:
        - Use ## for main sections
        - Use ### for subsections
        - Use **bold** for important labels and prices
        - Use bullet points (-) for lists
        - Keep sections concise and scannable
        - Include emojis only in section headers

        CONTENT REQUIREMENTS:
        - Base ALL information on ACTUAL flight data
        - Show specific prices in INR (‚Çπ)
        - Include real airline names and codes
        - Display actual departure and arrival times
        - Indicate actual number of stops
        - Provide data-driven insights
        - Limit to top 5 flight options

        IMPORTANT: 
        - Keep response concise and well-structured
        - Use exact data from the dataframe
        - Do NOT include HTML or CSS
        - Focus on clear markdown formatting
        
Query: i want flight for delhi to mumbai on 10 oct
2025-09-04 15:52:24,156 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-04 15:52:25,076 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-04 15:52:33,452 - app.core.logging - INFO - LLM Response: ## üéØ Best Deal
- **Price:** ‚Çπ5,239.05
- **Airline:** AIR INDIA (AI)
- **Time:** 21:10 ‚Üí 23:35
- **Stops:** Direct
- **Duration:** 2h 25m

## ‚úàÔ∏è Available Flights

### Option 1
- **Airline:** AIR INDIA (AI)
- **Price:** ‚Çπ5,239.05
- **Departure:** 21:10
- **Arrival:** 23:35
- **Stops:** Direct

### Option 2
- **Airline:** AIR INDIA (AI)
- **Price:** ‚Çπ5,587.47
- **Departure:** 11:00
- **Arrival:** 11:50
- **Stops:** 1 stop

### Option 3
- **Airline:** AIR INDIA (AI)
- **Price:** ‚Çπ5,587.47
- **Departure:** 18:00
- **Arrival:** 20:00
- **Stops:** 1 stop

### Option 4
- **Airline:** AIR INDIA (AI)
- **Price:** ‚Çπ6,854.47
- **Departure:** 07:00
- **Arrival:** 09:15
- **Stops:** Direct

### Option 5
- **Airline:** AIR INDIA (AI)
- **Price:** ‚Çπ6,854.47
- **Departure:** 12:35
- **Arrival:** 14:50
- **Stops:** Direct

## üí° Key Insights
- The cheapest option is a direct flight priced at **‚Çπ5,239.05**.
- Direct flights are available, which can save travel time compared to flights with stops.
- Flight timings vary significantly; earlier departures at 07:00 and later ones after 18:00 are available.
- The difference in ticket prices indicates a range from affordable to slightly premium options depending on the time and stops.

## üìä Quick Comparison
- **Cheapest:** ‚Çπ5,239.05 (AIR INDIA, 21:10 ‚Üí 23:35)
- **Fastest:** 2h 25m (AIR INDIA, ‚Çπ5,239.05)
- **Best Value:** The direct flight at ‚Çπ5,239.05 offers great value for money.

## üéÅ Recommendations
- **Budget Travelers:** Book the direct flight at **‚Çπ5,239.05** for the best price.
- **Business Travelers:** Consider the direct flight options for convenience.
- **Flexible Schedule:** If you can adjust your timing, flights later in the evening offer low prices.
2025-09-04 15:52:33,454 - app.core.logging - INFO - Flight data prepared: True
2025-09-04 15:52:33,455 - app.core.logging - INFO - Flight data length: 11
2025-09-04 15:52:33,455 - app.core.logging - INFO - First flight record: {'Airline Code': 'AI', 'Airline Name': 'AIR INDIA', 'Departure': '2025-10-10T21:10:00', 'Arrival': '2025-10-10T23:35:00', 'Total Price': '5239.05', 'Currency': 'INR', 'Number of Stops': 0, 'Cabin': 'ECONOMY', 'One Way': True}
2025-09-04 15:52:33,455 - app.core.logging - INFO - Returning result with show_flight_cards: True
2025-09-04 16:16:44,558 - app.core.logging - INFO - Received chat request: Show me flights from Delhi to Mumbai on October 15...
2025-09-04 16:16:44,558 - app.core.logging - INFO - No existing flight data in session, fetching new data
2025-09-04 16:16:44,558 - app.core.logging - INFO - Processing flight search query: Show me flights from Delhi to Mumbai on October 15th
2025-09-04 16:16:44,558 - app.core.logging - INFO - Calling OpenAI with model: gpt-4o-mini
2025-09-04 16:16:44,558 - app.core.logging - INFO - System message: You are an assistant that helps extract flight information from user queries. Today is 2025-09-04. Extract the following details from the query: 1. location_origin: The departure city or airport, ensu...
2025-09-04 16:16:44,558 - app.core.logging - INFO - User message: Show me flights from Delhi to Mumbai on October 15th
2025-09-04 16:16:45,837 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-04 16:16:45,847 - app.core.logging - INFO - OpenAI response: {"location_origin": "DEL", "location_destination": "BOM", "departure_date": "2025-10-15", "adults": 1}
2025-09-04 16:16:45,847 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'DEL', 'location_destination': 'BOM', 'departure_date': '2025-10-15', 'adults': 1}
2025-09-04 16:16:51,473 - app.core.logging - INFO - Created dataframe with 10 flights
2025-09-04 16:16:51,473 - app.core.logging - INFO - Sending query to LLM: System Prompt: 
        You are a professional flight booking assistant specializing in helping users find and analyze flight information. You have access to real-time flight data and can provide detailed analysis and recommendations.

        CURRENT CONTEXT:
        - Flight data from DEL to BOM
        - Real-time pricing and availability information
        - All prices are shown in Indian Rupees (INR)

        RESPONSE FORMAT REQUIREMENTS:
        Use clean markdown formatting with the following structure:

        ## üéØ Best Deal
        - **Price:** ‚ÇπX,XXX
        - **Airline:** Airline Name (Code)
        - **Time:** XX:XX ‚Üí XX:XX
        - **Stops:** Direct/X stops
        - **Duration:** Xh XXm

        ## ‚úàÔ∏è Available Flights

        ### Option 1
        - **Airline:** AIR INDIA (AI)
        - **Price:** ‚ÇπX,XXX
        - **Departure:** XX:XX
        - **Arrival:** XX:XX
        - **Stops:** Direct/X stops

        ### Option 2
        [Continue for top 5 flights...]

        ## üí° Key Insights
        - Point about cheapest option
        - Point about direct vs stops
        - Point about timing
        - Price comparison insight

        ## üìä Quick Comparison
        - **Cheapest:** ‚ÇπX,XXX (Airline, Time)
        - **Fastest:** Xh XXm (Airline, ‚ÇπPrice)
        - **Best Value:** Balance of price and convenience

        ## üéÅ Recommendations
        - **Budget Travelers:** Specific flight recommendation with price
        - **Business Travelers:** Direct flight option
        - **Flexible Schedule:** Best timing options

        FORMATTING RULES:
        - Use ## for main sections
        - Use ### for subsections
        - Use **bold** for important labels and prices
        - Use bullet points (-) for lists
        - Keep sections concise and scannable
        - Include emojis only in section headers

        CONTENT REQUIREMENTS:
        - Base ALL information on ACTUAL flight data
        - Show specific prices in INR (‚Çπ)
        - Include real airline names and codes
        - Display actual departure and arrival times
        - Indicate actual number of stops
        - Provide data-driven insights
        - Limit to top 5 flight options

        IMPORTANT: 
        - Keep response concise and well-structured
        - Use exact data from the dataframe
        - Do NOT include HTML or CSS
        - Focus on clear markdown formatting
        
Query: Show me flights from Delhi to Mumbai on October 15th
2025-09-04 16:17:01,649 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-04 16:17:03,343 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-04 16:17:05,079 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-04 16:17:16,477 - app.core.logging - INFO - LLM Response: ## üéØ Best Deal
- **Price:** ‚Çπ5,619
- **Airline:** AIR INDIA (AI)
- **Time:** 21:10 ‚Üí 23:35
- **Stops:** Direct
- **Duration:** 2h 25m

## ‚úàÔ∏è Available Flights

### Option 1
- **Airline:** AIR INDIA (AI)
- **Price:** ‚Çπ5,619
- **Departure:** 21:10
- **Arrival:** 23:35
- **Stops:** Direct

### Option 2
- **Airline:** AIR INDIA (AI)
- **Price:** ‚Çπ7,519
- **Departure:** 12:35
- **Arrival:** 14:50
- **Stops:** Direct

### Option 3
- **Airline:** AIR INDIA (AI)
- **Price:** ‚Çπ7,519
- **Departure:** 16:50
- **Arrival:** 19:05
- **Stops:** Direct

### Option 4
- **Airline:** AIR INDIA (AI)
- **Price:** ‚Çπ7,519
- **Departure:** 12:15
- **Arrival:** 14:35
- **Stops:** Direct

### Option 5
- **Airline:** AIR INDIA (AI)
- **Price:** ‚Çπ7,519
- **Departure:** 06:05
- **Arrival:** 08:30
- **Stops:** Direct

## üí° Key Insights
- The **cheapest option** is ‚Çπ5,619 with AIR INDIA departing at 21:10.
- All options are **direct flights**, eliminating the need for layovers.
- Flights throughout the day provide various **timing options**, catering to different schedules.
- Prices vary significantly, with the most expensive option being ‚Çπ7,519.

## üìä Quick Comparison
- **Cheapest:** ‚Çπ5,619 (AIR INDIA, 21:10 ‚Üí 23:35)
- **Fastest:** 2h 25m (AIR INDIA, ‚Çπ5,619)
- **Best Value:** ‚Çπ5,619 for a direct flight with convenient timing.

## üéÅ Recommendations
- **Budget Travelers:** Opt for the ‚Çπ5,619 flight at 21:10 for the best price.
- **Business Travelers:** Consider the 12:35 flight for a more convenient arrival time at ‚Çπ7,519.
- **Flexible Schedule:** The option at 12:15 offers a balance of timing and price, also at ‚Çπ7,519.
2025-09-04 16:17:16,478 - app.core.logging - INFO - Flight data prepared: True
2025-09-04 16:17:16,478 - app.core.logging - INFO - Flight data length: 10
2025-09-04 16:17:16,478 - app.core.logging - INFO - First flight record: {'Airline Code': 'AI', 'Airline Name': 'AIR INDIA', 'Departure': '2025-10-15T21:10:00', 'Arrival': '2025-10-15T23:35:00', 'Total Price': '5619.15', 'Currency': 'INR', 'Number of Stops': 0, 'Cabin': 'ECONOMY', 'One Way': True}
2025-09-04 16:17:16,478 - app.core.logging - INFO - Returning result with show_flight_cards: True
2025-09-04 16:17:52,131 - app.core.logging - INFO - Received chat request: Show me flights from Delhi to Mumbai on October 15...
2025-09-04 16:17:52,131 - app.core.logging - INFO - No existing flight data in session, fetching new data
2025-09-04 16:17:52,131 - app.core.logging - INFO - Processing flight search query: Show me flights from Delhi to Mumbai on October 15th
2025-09-04 16:17:52,131 - app.core.logging - INFO - Calling OpenAI with model: gpt-4o-mini
2025-09-04 16:17:52,131 - app.core.logging - INFO - System message: You are an assistant that helps extract flight information from user queries. Today is 2025-09-04. Extract the following details from the query: 1. location_origin: The departure city or airport, ensu...
2025-09-04 16:17:52,131 - app.core.logging - INFO - User message: Show me flights from Delhi to Mumbai on October 15th
2025-09-04 16:17:54,060 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-04 16:17:54,093 - app.core.logging - INFO - OpenAI response: {"location_origin": "DEL", "location_destination": "BOM", "departure_date": "2025-10-15", "adults": 1}
2025-09-04 16:17:54,093 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'DEL', 'location_destination': 'BOM', 'departure_date': '2025-10-15', 'adults': 1}
2025-09-04 16:17:59,418 - app.core.logging - INFO - Created dataframe with 10 flights
2025-09-04 16:17:59,418 - app.core.logging - INFO - Sending query to LLM: System Prompt: 
        You are a professional flight booking assistant specializing in helping users find and analyze flight information. You have access to real-time flight data and can provide detailed analysis and recommendations.

        CURRENT CONTEXT:
        - Flight data from DEL to BOM
        - Real-time pricing and availability information
        - All prices are shown in Indian Rupees (INR)

        RESPONSE FORMAT REQUIREMENTS:
        Use clean markdown formatting with the following structure:

        ## üéØ Best Deal
        - **Price:** ‚ÇπX,XXX
        - **Airline:** Airline Name (Code)
        - **Time:** XX:XX ‚Üí XX:XX
        - **Stops:** Direct/X stops
        - **Duration:** Xh XXm

        ## ‚úàÔ∏è Available Flights

        ### Option 1
        - **Airline:** AIR INDIA (AI)
        - **Price:** ‚ÇπX,XXX
        - **Departure:** XX:XX
        - **Arrival:** XX:XX
        - **Stops:** Direct/X stops

        ### Option 2
        [Continue for top 5 flights...]

        ## üí° Key Insights
        - Point about cheapest option
        - Point about direct vs stops
        - Point about timing
        - Price comparison insight

        ## üìä Quick Comparison
        - **Cheapest:** ‚ÇπX,XXX (Airline, Time)
        - **Fastest:** Xh XXm (Airline, ‚ÇπPrice)
        - **Best Value:** Balance of price and convenience

        ## üéÅ Recommendations
        - **Budget Travelers:** Specific flight recommendation with price
        - **Business Travelers:** Direct flight option
        - **Flexible Schedule:** Best timing options

        FORMATTING RULES:
        - Use ## for main sections
        - Use ### for subsections
        - Use **bold** for important labels and prices
        - Use bullet points (-) for lists
        - Keep sections concise and scannable
        - Include emojis only in section headers

        CONTENT REQUIREMENTS:
        - Base ALL information on ACTUAL flight data
        - Show specific prices in INR (‚Çπ)
        - Include real airline names and codes
        - Display actual departure and arrival times
        - Indicate actual number of stops
        - Provide data-driven insights
        - Limit to top 5 flight options

        IMPORTANT: 
        - Keep response concise and well-structured
        - Use exact data from the dataframe
        - Do NOT include HTML or CSS
        - Focus on clear markdown formatting
        
Query: Show me flights from Delhi to Mumbai on October 15th
2025-09-04 16:18:01,639 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-04 16:18:01,649 - app.core.logging - ERROR - Error getting LLM response: The server had an error while processing your request. Sorry about that!
2025-09-04 16:18:01,649 - app.core.logging - ERROR - Error processing message: The server had an error while processing your request. Sorry about that!
2025-09-04 16:18:30,609 - app.core.logging - INFO - Received chat request: Show me flights from Delhi to Mumbai on October 15...
2025-09-04 16:18:30,609 - app.core.logging - INFO - No existing flight data in session, fetching new data
2025-09-04 16:18:30,609 - app.core.logging - INFO - Processing flight search query: Show me flights from Delhi to Mumbai on October 15th
2025-09-04 16:18:30,609 - app.core.logging - INFO - Calling OpenAI with model: gpt-4o-mini
2025-09-04 16:18:30,609 - app.core.logging - INFO - System message: You are an assistant that helps extract flight information from user queries. Today is 2025-09-04. Extract the following details from the query: 1. location_origin: The departure city or airport, ensu...
2025-09-04 16:18:30,609 - app.core.logging - INFO - User message: Show me flights from Delhi to Mumbai on October 15th
2025-09-04 16:18:31,927 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-04 16:18:31,928 - app.core.logging - INFO - OpenAI response: {"location_origin": "DEL", "location_destination": "BOM", "departure_date": "2025-10-15", "adults": 1}
2025-09-04 16:18:31,928 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'DEL', 'location_destination': 'BOM', 'departure_date': '2025-10-15', 'adults': 1}
2025-09-04 16:18:36,335 - app.core.logging - INFO - Created dataframe with 10 flights
2025-09-04 16:18:36,335 - app.core.logging - INFO - Sending query to LLM: System Prompt: 
        You are a professional flight booking assistant specializing in helping users find and analyze flight information. You have access to real-time flight data and can provide detailed analysis and recommendations.

        CURRENT CONTEXT:
        - Flight data from DEL to BOM
        - Real-time pricing and availability information
        - All prices are shown in Indian Rupees (INR)

        RESPONSE FORMAT REQUIREMENTS:
        Use clean markdown formatting with the following structure:

        ## üéØ Best Deal
        - **Price:** ‚ÇπX,XXX
        - **Airline:** Airline Name (Code)
        - **Time:** XX:XX ‚Üí XX:XX
        - **Stops:** Direct/X stops
        - **Duration:** Xh XXm

        ## ‚úàÔ∏è Available Flights

        ### Option 1
        - **Airline:** AIR INDIA (AI)
        - **Price:** ‚ÇπX,XXX
        - **Departure:** XX:XX
        - **Arrival:** XX:XX
        - **Stops:** Direct/X stops

        ### Option 2
        [Continue for top 5 flights...]

        ## üí° Key Insights
        - Point about cheapest option
        - Point about direct vs stops
        - Point about timing
        - Price comparison insight

        ## üìä Quick Comparison
        - **Cheapest:** ‚ÇπX,XXX (Airline, Time)
        - **Fastest:** Xh XXm (Airline, ‚ÇπPrice)
        - **Best Value:** Balance of price and convenience

        ## üéÅ Recommendations
        - **Budget Travelers:** Specific flight recommendation with price
        - **Business Travelers:** Direct flight option
        - **Flexible Schedule:** Best timing options

        FORMATTING RULES:
        - Use ## for main sections
        - Use ### for subsections
        - Use **bold** for important labels and prices
        - Use bullet points (-) for lists
        - Keep sections concise and scannable
        - Include emojis only in section headers

        CONTENT REQUIREMENTS:
        - Base ALL information on ACTUAL flight data
        - Show specific prices in INR (‚Çπ)
        - Include real airline names and codes
        - Display actual departure and arrival times
        - Indicate actual number of stops
        - Provide data-driven insights
        - Limit to top 5 flight options

        IMPORTANT: 
        - Keep response concise and well-structured
        - Use exact data from the dataframe
        - Do NOT include HTML or CSS
        - Focus on clear markdown formatting
        
Query: Show me flights from Delhi to Mumbai on October 15th
2025-09-04 16:18:53,465 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-04 16:18:54,969 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-04 16:19:06,956 - app.core.logging - INFO - LLM Response: ## üéØ Best Deal
- **Price:** ‚Çπ5,619.15
- **Airline:** AIR INDIA (AI)
- **Time:** 21:10 ‚Üí 23:35
- **Stops:** Direct
- **Duration:** 2h 25m

## ‚úàÔ∏è Available Flights

### Option 1
- **Airline:** AIR INDIA (AI)
- **Price:** ‚Çπ5,619.15
- **Departure:** 21:10
- **Arrival:** 23:35
- **Stops:** Direct

### Option 2
- **Airline:** AIR INDIA (AI)
- **Price:** ‚Çπ7,519.65
- **Departure:** 12:35
- **Arrival:** 14:50
- **Stops:** Direct

### Option 3
- **Airline:** AIR INDIA (AI)
- **Price:** ‚Çπ7,519.65
- **Departure:** 16:50
- **Arrival:** 19:05
- **Stops:** Direct

### Option 4
- **Airline:** AIR INDIA (AI)
- **Price:** ‚Çπ7,519.65
- **Departure:** 12:15
- **Arrival:** 14:35
- **Stops:** Direct

### Option 5
- **Airline:** AIR INDIA (AI)
- **Price:** ‚Çπ7,519.65
- **Departure:** 06:05
- **Arrival:** 08:30
- **Stops:** Direct

## üí° Key Insights
- The **cheapest option** is priced at ‚Çπ5,619.15 with AIR INDIA, making it a budget-friendly choice.
- All options provided are **direct flights**, which minimizes travel time.
- The departure times range from early morning (06:05) to late evening (21:10), offering flexibility in scheduling.
- Comparing prices, the direct flight costs increase significantly; the cheapest option is ‚Çπ1,900 less than the next available flight.

## üìä Quick Comparison
- **Cheapest:** ‚Çπ5,619.15 (AIR INDIA, 21:10 ‚Üí 23:35)
- **Fastest:** 2h 25m (AIR INDIA, ‚Çπ5,619.15)
- **Best Value:** Best price with a convenient time is the 21:10 flight.

## üéÅ Recommendations
- **Budget Travelers:** Choose the evening flight (21:10) for ‚Çπ5,619.15.
- **Business Travelers:** If same-day arrival is preferable, consider the 12:35 flight.
- **Flexible Schedule:** Morning options (06:05 and 12:15) offer a wider choice for arrival times.
2025-09-04 16:19:06,958 - app.core.logging - INFO - Flight data prepared: True
2025-09-04 16:19:06,959 - app.core.logging - INFO - Flight data length: 10
2025-09-04 16:19:06,959 - app.core.logging - INFO - First flight record: {'Airline Code': 'AI', 'Airline Name': 'AIR INDIA', 'Departure': Timestamp('2025-10-15 21:10:00'), 'Arrival': Timestamp('2025-10-15 23:35:00'), 'Total Price': '5619.15', 'Currency': 'INR', 'Number of Stops': 0, 'Cabin': 'ECONOMY', 'One Way': True, 'Duration': 145.0}
2025-09-04 16:19:06,959 - app.core.logging - INFO - Returning result with show_flight_cards: True
2025-09-04 16:19:46,923 - app.core.logging - INFO - Received chat request: Show me flights from San Francisco to New York on ...
2025-09-04 16:19:46,923 - app.core.logging - INFO - No existing flight data in session, fetching new data
2025-09-04 16:19:46,923 - app.core.logging - INFO - Processing flight search query: Show me flights from San Francisco to New York on October 20th
2025-09-04 16:19:46,923 - app.core.logging - INFO - Calling OpenAI with model: gpt-4o-mini
2025-09-04 16:19:46,923 - app.core.logging - INFO - System message: You are an assistant that helps extract flight information from user queries. Today is 2025-09-04. Extract the following details from the query: 1. location_origin: The departure city or airport, ensu...
2025-09-04 16:19:46,923 - app.core.logging - INFO - User message: Show me flights from San Francisco to New York on October 20th
2025-09-04 16:19:49,653 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-04 16:19:49,657 - app.core.logging - INFO - OpenAI response: {"location_origin": "SFO", "location_destination": "JFK", "departure_date": "2025-10-20", "adults": 1}
2025-09-04 16:19:49,658 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'SFO', 'location_destination': 'JFK', 'departure_date': '2025-10-20', 'adults': 1}
2025-09-04 16:19:55,551 - app.core.logging - INFO - Created dataframe with 16 flights
2025-09-04 16:19:55,552 - app.core.logging - INFO - Sending query to LLM: System Prompt: 
        You are a professional flight booking assistant specializing in helping users find and analyze flight information. You have access to real-time flight data and can provide detailed analysis and recommendations.

        CURRENT CONTEXT:
        - Flight data from SFO to JFK
        - Real-time pricing and availability information
        - All prices are shown in Indian Rupees (INR)

        RESPONSE FORMAT REQUIREMENTS:
        Use clean markdown formatting with the following structure:

        ## üéØ Best Deal
        - **Price:** ‚ÇπX,XXX
        - **Airline:** Airline Name (Code)
        - **Time:** XX:XX ‚Üí XX:XX
        - **Stops:** Direct/X stops
        - **Duration:** Xh XXm

        ## ‚úàÔ∏è Available Flights

        ### Option 1
        - **Airline:** AIR INDIA (AI)
        - **Price:** ‚ÇπX,XXX
        - **Departure:** XX:XX
        - **Arrival:** XX:XX
        - **Stops:** Direct/X stops

        ### Option 2
        [Continue for top 5 flights...]

        ## üí° Key Insights
        - Point about cheapest option
        - Point about direct vs stops
        - Point about timing
        - Price comparison insight

        ## üìä Quick Comparison
        - **Cheapest:** ‚ÇπX,XXX (Airline, Time)
        - **Fastest:** Xh XXm (Airline, ‚ÇπPrice)
        - **Best Value:** Balance of price and convenience

        ## üéÅ Recommendations
        - **Budget Travelers:** Specific flight recommendation with price
        - **Business Travelers:** Direct flight option
        - **Flexible Schedule:** Best timing options

        FORMATTING RULES:
        - Use ## for main sections
        - Use ### for subsections
        - Use **bold** for important labels and prices
        - Use bullet points (-) for lists
        - Keep sections concise and scannable
        - Include emojis only in section headers

        CONTENT REQUIREMENTS:
        - Base ALL information on ACTUAL flight data
        - Show specific prices in INR (‚Çπ)
        - Include real airline names and codes
        - Display actual departure and arrival times
        - Indicate actual number of stops
        - Provide data-driven insights
        - Limit to top 5 flight options

        IMPORTANT: 
        - Keep response concise and well-structured
        - Use exact data from the dataframe
        - Do NOT include HTML or CSS
        - Focus on clear markdown formatting
        
Query: Show me flights from San Francisco to New York on October 20th
2025-09-04 16:19:57,872 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-04 16:19:58,970 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-04 16:20:00,569 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-04 16:20:03,887 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-04 16:20:21,003 - app.core.logging - INFO - LLM Response: ## üéØ Best Deal
- **Price:** ‚Çπ9,263.58
- **Airline:** ALASKA AIRLINES (AS)
- **Time:** 23:00 ‚Üí 07:34 (Next Day)
- **Stops:** Direct
- **Duration:** 8h 34m

## ‚úàÔ∏è Available Flights

### Option 1
- **Airline:** ALASKA AIRLINES (AS)
- **Price:** ‚Çπ9,263.58
- **Departure:** 23:00
- **Arrival:** 07:34 (Next Day)
- **Stops:** Direct

### Option 2
- **Airline:** JETBLUE AIRWAYS (B6)
- **Price:** ‚Çπ12,351.44
- **Departure:** 20:47
- **Arrival:** 05:25 (Next Day)
- **Stops:** 1

### Option 3
- **Airline:** JETBLUE AIRWAYS (B6)
- **Price:** ‚Çπ12,351.44
- **Departure:** 10:40
- **Arrival:** 19:19
- **Stops:** 1

### Option 4
- **Airline:** JETBLUE AIRWAYS (B6)
- **Price:** ‚Çπ12,351.44
- **Departure:** 22:40
- **Arrival:** 23:56
- **Stops:** 1

### Option 5
- **Airline:** JETBLUE AIRWAYS (B6)
- **Price:** ‚Çπ12,786.74
- **Departure:** 20:47
- **Arrival:** 05:25 (Next Day)
- **Stops:** 1

## üí° Key Insights
- **Cheapest Option:** The cheapest flight is with Alaska Airlines at ‚Çπ9,263.58, offered as a direct flight.
- **Direct vs Stops:** For those looking for speed, a direct flight with Alaska Airlines is available, while other options have one stop.
- **Timing:** The most economical flight departs late at night and arrives the next morning, which could be optimal for night travel.
- **Price Comparison:** The price difference between the cheapest and the next cheapest options reflects a significant jump, suggesting limited direct options.

## üìä Quick Comparison
- **Cheapest:** ‚Çπ9,263.58 (ALASKA AIRLINES, 23:00 ‚Üí 07:34)
- **Fastest:** 8h 34m (ALASKA AIRLINES, ‚Çπ9,263.58)
- **Best Value:** ALASKA AIRLINES for the cheapest and direct travel experience.

## üéÅ Recommendations
- **Budget Travelers:** Consider Alaska Airlines for the best price and no stops.
- **Business Travelers:** If flexibility is required, opt for the JETBLUE flights that offer more time options with one stop.
- **Flexible Schedule:** Look into the JETBLUE flights for later departures if schedule flexibility is needed.
2025-09-04 16:20:21,005 - app.core.logging - INFO - Flight data prepared: True
2025-09-04 16:20:21,005 - app.core.logging - INFO - Flight data length: 16
2025-09-04 16:20:21,005 - app.core.logging - INFO - First flight record: {'Airline Code': 'AS', 'Airline Name': 'ALASKA AIRLINES', 'Departure': '2025-10-20T23:00:00', 'Arrival': '2025-10-21T07:34:00', 'Total Price': 9263.58, 'Currency': 'INR', 'Number of Stops': 0, 'Cabin': 'ECONOMY', 'One Way': True}
2025-09-04 16:20:21,005 - app.core.logging - INFO - Returning result with show_flight_cards: True
2025-09-04 16:20:58,094 - app.core.logging - INFO - Received chat request: Show me flights from San Francisco to New York on ...
2025-09-04 16:20:58,094 - app.core.logging - INFO - No existing flight data in session, fetching new data
2025-09-04 16:20:58,094 - app.core.logging - INFO - Processing flight search query: Show me flights from San Francisco to New York on October 20th
2025-09-04 16:20:58,094 - app.core.logging - INFO - Calling OpenAI with model: gpt-4o-mini
2025-09-04 16:20:58,094 - app.core.logging - INFO - System message: You are an assistant that helps extract flight information from user queries. Today is 2025-09-04. Extract the following details from the query: 1. location_origin: The departure city or airport, ensu...
2025-09-04 16:20:58,094 - app.core.logging - INFO - User message: Show me flights from San Francisco to New York on October 20th
2025-09-04 16:20:59,510 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-04 16:20:59,511 - app.core.logging - INFO - OpenAI response: {"location_origin": "SFO", "location_destination": "JFK", "departure_date": "2025-10-20", "adults": 1}
2025-09-04 16:20:59,511 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'SFO', 'location_destination': 'JFK', 'departure_date': '2025-10-20', 'adults': 1}
2025-09-04 16:21:07,928 - app.core.logging - INFO - Created dataframe with 16 flights
2025-09-04 16:21:07,928 - app.core.logging - INFO - Sending query to LLM: System Prompt: 
        You are a professional flight booking assistant specializing in helping users find and analyze flight information. You have access to real-time flight data and can provide detailed analysis and recommendations.

        CURRENT CONTEXT:
        - Flight data from SFO to JFK
        - Real-time pricing and availability information
        - All prices are shown in Indian Rupees (INR)

        RESPONSE FORMAT REQUIREMENTS:
        Use clean markdown formatting with the following structure:

        ## üéØ Best Deal
        - **Price:** ‚ÇπX,XXX
        - **Airline:** Airline Name (Code)
        - **Time:** XX:XX ‚Üí XX:XX
        - **Stops:** Direct/X stops
        - **Duration:** Xh XXm

        ## ‚úàÔ∏è Available Flights

        ### Option 1
        - **Airline:** AIR INDIA (AI)
        - **Price:** ‚ÇπX,XXX
        - **Departure:** XX:XX
        - **Arrival:** XX:XX
        - **Stops:** Direct/X stops

        ### Option 2
        [Continue for top 5 flights...]

        ## üí° Key Insights
        - Point about cheapest option
        - Point about direct vs stops
        - Point about timing
        - Price comparison insight

        ## üìä Quick Comparison
        - **Cheapest:** ‚ÇπX,XXX (Airline, Time)
        - **Fastest:** Xh XXm (Airline, ‚ÇπPrice)
        - **Best Value:** Balance of price and convenience

        ## üéÅ Recommendations
        - **Budget Travelers:** Specific flight recommendation with price
        - **Business Travelers:** Direct flight option
        - **Flexible Schedule:** Best timing options

        FORMATTING RULES:
        - Use ## for main sections
        - Use ### for subsections
        - Use **bold** for important labels and prices
        - Use bullet points (-) for lists
        - Keep sections concise and scannable
        - Include emojis only in section headers

        CONTENT REQUIREMENTS:
        - Base ALL information on ACTUAL flight data
        - Show specific prices in INR (‚Çπ)
        - Include real airline names and codes
        - Display actual departure and arrival times
        - Indicate actual number of stops
        - Provide data-driven insights
        - Limit to top 5 flight options

        IMPORTANT: 
        - Keep response concise and well-structured
        - Use exact data from the dataframe
        - Do NOT include HTML or CSS
        - Focus on clear markdown formatting
        
Query: Show me flights from San Francisco to New York on October 20th
2025-09-04 16:21:10,244 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-04 16:21:15,876 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-04 16:21:20,381 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-04 16:21:32,506 - app.core.logging - INFO - LLM Response: ## üéØ Best Deal
- **Price:** ‚Çπ9,263.58
- **Airline:** ALASKA AIRLINES (AS)
- **Time:** 23:00 ‚Üí 07:34
- **Stops:** Direct
- **Duration:** 8h 34m

## ‚úàÔ∏è Available Flights

### Option 1
- **Airline:** ALASKA AIRLINES (AS)
- **Price:** ‚Çπ9,263.58
- **Departure:** 23:00
- **Arrival:** 07:34
- **Stops:** Direct

### Option 2
- **Airline:** JETBLUE AIRWAYS (B6)
- **Price:** ‚Çπ12,351.44
- **Departure:** 20:47
- **Arrival:** 05:25
- **Stops:** 1 stop

### Option 3
- **Airline:** JETBLUE AIRWAYS (B6)
- **Price:** ‚Çπ12,351.44
- **Departure:** 10:40
- **Arrival:** 19:19
- **Stops:** 1 stop

### Option 4
- **Airline:** JETBLUE AIRWAYS (B6)
- **Price:** ‚Çπ12,351.44
- **Departure:** 22:40
- **Arrival:** 23:56
- **Stops:** 1 stop

### Option 5
- **Airline:** JETBLUE AIRWAYS (B6)
- **Price:** ‚Çπ12,786.74
- **Departure:** 20:47
- **Arrival:** 05:25
- **Stops:** 1 stop

## üí° Key Insights
- The **cheapest option** available is offered by ALASKA AIRLINES, providing a direct flight at ‚Çπ9,263.58.
- **Direct flights** are available, while most options have at least one stop, which can affect your total travel time.
- The timing shows that you have a late-night departure or early morning options, which may influence your overall schedule.
- Comparatively, JETBLUE AIRWAYS provides various flight schedules with slightly higher prices but might come with better timing depending on your needs.

## üìä Quick Comparison
- **Cheapest:** ‚Çπ9,263.58 (ALASKA AIRLINES, 23:00 ‚Üí 07:34)
- **Fastest:** 8h 34m (ALASKA AIRLINES, ‚Çπ9,263.58)
- **Best Value:** ALASKA AIRLINES, offering a direct flight at the lowest price.

## üéÅ Recommendations
- **Budget Travelers:** Go with ALASKA AIRLINES for the best price at ‚Çπ9,263.58.
- **Business Travelers:** Consider a JETBLUE AIRWAYS option for a potentially more convenient, although pricier, schedule.
- **Flexible Schedule:** Look at the different JETBLUE AIRWAYS options, especially departing earlier in the day for ease and comfort during travel.
2025-09-04 16:21:32,508 - app.core.logging - INFO - Flight data prepared: True
2025-09-04 16:21:32,508 - app.core.logging - INFO - Flight data length: 16
2025-09-04 16:21:32,508 - app.core.logging - INFO - First flight record: {'Airline Code': 'AS', 'Airline Name': 'ALASKA AIRLINES', 'Departure': Timestamp('2025-10-20 23:00:00'), 'Arrival': '2025-10-21T07:34:00', 'Total Price': 9263.58, 'Currency': 'INR', 'Number of Stops': 0, 'Cabin': 'ECONOMY', 'One Way': True}
2025-09-04 16:21:32,508 - app.core.logging - INFO - Returning result with show_flight_cards: True
2025-09-04 16:21:51,382 - app.core.logging - INFO - Received chat request: Show me flights from San Francisco to New York on ...
2025-09-04 16:21:51,382 - app.core.logging - INFO - No existing flight data in session, fetching new data
2025-09-04 16:21:51,382 - app.core.logging - INFO - Processing flight search query: Show me flights from San Francisco to New York on October 20th
2025-09-04 16:21:51,382 - app.core.logging - INFO - Calling OpenAI with model: gpt-4o-mini
2025-09-04 16:21:51,382 - app.core.logging - INFO - System message: You are an assistant that helps extract flight information from user queries. Today is 2025-09-04. Extract the following details from the query: 1. location_origin: The departure city or airport, ensu...
2025-09-04 16:21:51,382 - app.core.logging - INFO - User message: Show me flights from San Francisco to New York on October 20th
2025-09-04 16:21:52,537 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-04 16:21:52,538 - app.core.logging - INFO - OpenAI response: {"location_origin": "SFO", "location_destination": "JFK", "departure_date": "2025-10-20", "adults": 1}
2025-09-04 16:21:52,538 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'SFO', 'location_destination': 'JFK', 'departure_date': '2025-10-20', 'adults': 1}
2025-09-04 16:21:59,909 - app.core.logging - WARNING - Could not fetch airline name for B6: [429]

2025-09-04 16:21:59,914 - app.core.logging - INFO - Created dataframe with 17 flights
2025-09-04 16:21:59,914 - app.core.logging - INFO - Sending query to LLM: System Prompt: 
        You are a professional flight booking assistant specializing in helping users find and analyze flight information. You have access to real-time flight data and can provide detailed analysis and recommendations.

        CURRENT CONTEXT:
        - Flight data from SFO to JFK
        - Real-time pricing and availability information
        - All prices are shown in Indian Rupees (INR)

        RESPONSE FORMAT REQUIREMENTS:
        Use clean markdown formatting with the following structure:

        ## üéØ Best Deal
        - **Price:** ‚ÇπX,XXX
        - **Airline:** Airline Name (Code)
        - **Time:** XX:XX ‚Üí XX:XX
        - **Stops:** Direct/X stops
        - **Duration:** Xh XXm

        ## ‚úàÔ∏è Available Flights

        ### Option 1
        - **Airline:** AIR INDIA (AI)
        - **Price:** ‚ÇπX,XXX
        - **Departure:** XX:XX
        - **Arrival:** XX:XX
        - **Stops:** Direct/X stops

        ### Option 2
        [Continue for top 5 flights...]

        ## üí° Key Insights
        - Point about cheapest option
        - Point about direct vs stops
        - Point about timing
        - Price comparison insight

        ## üìä Quick Comparison
        - **Cheapest:** ‚ÇπX,XXX (Airline, Time)
        - **Fastest:** Xh XXm (Airline, ‚ÇπPrice)
        - **Best Value:** Balance of price and convenience

        ## üéÅ Recommendations
        - **Budget Travelers:** Specific flight recommendation with price
        - **Business Travelers:** Direct flight option
        - **Flexible Schedule:** Best timing options

        FORMATTING RULES:
        - Use ## for main sections
        - Use ### for subsections
        - Use **bold** for important labels and prices
        - Use bullet points (-) for lists
        - Keep sections concise and scannable
        - Include emojis only in section headers

        CONTENT REQUIREMENTS:
        - Base ALL information on ACTUAL flight data
        - Show specific prices in INR (‚Çπ)
        - Include real airline names and codes
        - Display actual departure and arrival times
        - Indicate actual number of stops
        - Provide data-driven insights
        - Limit to top 5 flight options

        IMPORTANT: 
        - Keep response concise and well-structured
        - Use exact data from the dataframe
        - Do NOT include HTML or CSS
        - Focus on clear markdown formatting
        
Query: Show me flights from San Francisco to New York on October 20th
2025-09-04 16:22:00,729 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-04 16:22:02,061 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-04 16:22:15,036 - app.core.logging - INFO - LLM Response: ## üéØ Best Deal
- **Price:** ‚Çπ12,351.44
- **Airline:** B6
- **Time:** 10:40 ‚Üí 19:19
- **Stops:** 1 stop
- **Duration:** 8h 39m

## ‚úàÔ∏è Available Flights

### Option 1
- **Airline:** B6
- **Price:** ‚Çπ12,351.44
- **Departure:** 10:40
- **Arrival:** 19:19
- **Stops:** 1 stop

### Option 2
- **Airline:** B6
- **Price:** ‚Çπ12,351.44
- **Departure:** 22:40
- **Arrival:** 23:56
- **Stops:** 1 stop

### Option 3
- **Airline:** ALASKA AIRLINES (AS)
- **Price:** ‚Çπ14,588.60
- **Departure:** 20:15
- **Arrival:** 21:52
- **Stops:** 1 stop

### Option 4
- **Airline:** ALASKA AIRLINES (AS)
- **Price:** ‚Çπ14,588.60
- **Departure:** 18:30
- **Arrival:** 20:04
- **Stops:** 1 stop

### Option 5
- **Airline:** HAWAIIAN AIRLINES (HA)
- **Price:** ‚Çπ14,927.07
- **Departure:** 20:15
- **Arrival:** 21:52
- **Stops:** 1 stop

## üí° Key Insights
- The cheapest option available is ‚Çπ12,351.44 with B6, offering 1 stop.
- All options consist of 1 stop, making them relatively convenient for travelers.
- The earliest departure is at 10:40 AM, providing a good opportunity to maximize time in New York.
- Prices are competitive, with very little variance among the top choices, indicating a balanced market for this route.

## üìä Quick Comparison
- **Cheapest:** ‚Çπ12,351.44 (B6, 10:40 ‚Üí 19:19)
- **Fastest:** 8h 39m (B6, ‚Çπ12,351.44)
- **Best Value:** B6 (‚Çπ12,351.44 for the earliest departure)

## üéÅ Recommendations
- **Budget Travelers:** Choose B6 at ‚Çπ12,351.44 for the best price and acceptable timing.
- **Business Travelers:** B6 with the first departure at 10:40 AM is recommended for optimal time management.
- **Flexible Schedule:** The late flight by B6 at 22:40 also offers a good option for those looking for later departures.
2025-09-04 16:22:15,040 - app.core.logging - INFO - Flight data prepared: True
2025-09-04 16:22:15,041 - app.core.logging - INFO - Flight data length: 17
2025-09-04 16:22:15,041 - app.core.logging - INFO - First flight record: {'Airline Code': 'AS', 'Airline Name': 'ALASKA AIRLINES', 'Departure': '2025-10-20T23:00:00', 'Arrival': '2025-10-21T07:34:00', 'Total Price': '9263.58', 'Currency': 'INR', 'Number of Stops': 0, 'Cabin': 'ECONOMY', 'One Way': True}
2025-09-04 16:22:15,042 - app.core.logging - INFO - Returning result with show_flight_cards: True
2025-09-04 16:24:25,589 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-04 16:24:25,624 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-04 16:24:25,634 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-04 16:24:25,649 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-04 16:24:25,670 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-04 16:24:25,672 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-04 16:24:25,684 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-04 16:24:25,709 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-04 16:25:03,040 - app.core.logging - INFO - Received chat request: Find me flights from New York to London on Decembe...
2025-09-04 16:25:03,040 - app.core.logging - INFO - No existing flight data in session, fetching new data
2025-09-04 16:25:03,041 - app.core.logging - INFO - Processing flight search query: Find me flights from New York to London on December 15, 2024
2025-09-04 16:25:03,041 - app.core.logging - INFO - Calling OpenAI with model: gpt-4o-mini
2025-09-04 16:25:03,041 - app.core.logging - INFO - System message: You are an assistant that helps extract flight information from user queries. Today is 2025-09-04. Extract the following details from the query: 1. location_origin: The departure city or airport, ensu...
2025-09-04 16:25:03,041 - app.core.logging - INFO - User message: Find me flights from New York to London on December 15, 2024
2025-09-04 16:25:04,850 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-04 16:25:04,856 - app.core.logging - INFO - OpenAI response: {"location_origin": "JFK", "location_destination": "LHR", "departure_date": "2024-12-15", "adults": 1}
2025-09-04 16:25:04,856 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'JFK', 'location_destination': 'LHR', 'departure_date': '2024-12-15', 'adults': 1}
2025-09-04 16:25:07,553 - app.core.logging - ERROR - Flight search error: [400]

2025-09-04 16:25:07,553 - app.core.logging - ERROR - No flights found or error in forming dataframe
2025-09-04 16:25:28,514 - app.core.logging - INFO - Received chat request: Show me the cheapest flights from Delhi to Mumbai ...
2025-09-04 16:25:28,515 - app.core.logging - INFO - No existing flight data in session, fetching new data
2025-09-04 16:25:28,515 - app.core.logging - INFO - Processing flight search query: Show me the cheapest flights from Delhi to Mumbai next week
2025-09-04 16:25:28,515 - app.core.logging - INFO - Calling OpenAI with model: gpt-4o-mini
2025-09-04 16:25:28,515 - app.core.logging - INFO - System message: You are an assistant that helps extract flight information from user queries. Today is 2025-09-04. Extract the following details from the query: 1. location_origin: The departure city or airport, ensu...
2025-09-04 16:25:28,515 - app.core.logging - INFO - User message: Show me the cheapest flights from Delhi to Mumbai next week
2025-09-04 16:25:30,146 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-04 16:25:30,155 - app.core.logging - INFO - OpenAI response: {"location_origin": "DEL", "location_destination": "BOM", "departure_date": "2025-09-11", "adults": 1}
2025-09-04 16:25:30,155 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'DEL', 'location_destination': 'BOM', 'departure_date': '2025-09-11', 'adults': 1}
2025-09-04 16:25:35,191 - app.core.logging - INFO - Created dataframe with 12 flights
2025-09-04 16:25:35,192 - app.core.logging - INFO - Sending query to LLM: System Prompt: 
        You are a professional flight booking assistant specializing in helping users find and analyze flight information. You have access to real-time flight data and can provide detailed analysis and recommendations.

        CURRENT CONTEXT:
        - Flight data from DEL to BOM
        - Real-time pricing and availability information
        - All prices are shown in Indian Rupees (INR)

        RESPONSE FORMAT REQUIREMENTS:
        Use clean text formatting with these section markers that the frontend can detect and style:

        üéØ Best Deal
        Price: ‚ÇπX,XXX
        Airline: Airline Name (Code)
        Time: XX:XX ‚Üí XX:XX
        Stops: Direct/X stops
        Duration: Xh XXm

        ‚úàÔ∏è Available Flights

        Option 1
        Airline: AIR INDIA (AI)
        Price: ‚ÇπX,XXX
        Departure: XX:XX
        Arrival: XX:XX
        Stops: Direct/X stops

        Option 2
        [Continue for top 5 flights...]

        üí° Key Insights
        - Point about cheapest option
        - Point about direct vs stops
        - Point about timing
        - Price comparison insight

        üìä Quick Comparison
        Cheapest: ‚ÇπX,XXX (Airline, Time)
        Fastest: Xh XXm (Airline, ‚ÇπPrice)
        Best Value: Balance of price and convenience

        üéÅ Recommendations
        Budget Travelers: Specific flight recommendation with price
        Business Travelers: Direct flight option
        Flexible Schedule: Best timing options

        FORMATTING RULES:
        - Use emoji + space + text for main section headers (üéØ Best Deal)
        - Use simple text for subsection headers (Option 1, Option 2)
        - Use "Label: Value" format for data points
        - Use simple bullet points (-) only for insight lists
        - NO markdown symbols (**, ##, ###) - IMPORTANT: NEVER use any markdown formatting
        - Keep sections clearly separated with line breaks

        CONTENT REQUIREMENTS:
        - Base ALL information on ACTUAL flight data
        - Show specific prices in INR (‚Çπ)
        - Include real airline names and codes
        - Display actual departure and arrival times
        - Indicate actual number of stops
        - Provide data-driven insights
        - Limit to top 5 flight options

        CRITICAL FORMATTING REQUIREMENTS: 
        - NEVER EVER use markdown symbols: NO **, NO ##, NO ###, NO *, NO _
        - ONLY use plain text with emoji headers
        - Use exact data from the dataframe
        - Frontend will handle all styling - provide clean text only
        - If you use ANY markdown symbols (**,##,###,*,_), the response will be REJECTED
        
Query: Show me the cheapest flights from Delhi to Mumbai next week
2025-09-04 16:25:36,187 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-04 16:25:37,305 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-04 16:25:50,699 - app.core.logging - INFO - LLM Response: üéØ Best Deal  
Price: ‚Çπ4,352  
Airline: AIR INDIA (AI)  
Time: 04:30 ‚Üí 07:10  
Stops: 1 stop  
Duration: 2h 40m  

‚úàÔ∏è Available Flights  

Option 1  
Airline: AIR INDIA (AI)  
Price: ‚Çπ4,352  
Departure: 04:30  
Arrival: 07:10  
Stops: 1 stop  

Option 2  
Airline: AIR INDIA (AI)  
Price: ‚Çπ4,352  
Departure: 13:50  
Arrival: 14:55  
Stops: 1 stop  

Option 3  
Airline: AIR INDIA (AI)  
Price: ‚Çπ4,859  
Departure: 21:10  
Arrival: 23:35  
Stops: Direct  

Option 4  
Airline: AIR INDIA (AI)  
Price: ‚Çπ5,112  
Departure: 11:00  
Arrival: 11:50  
Stops: 1 stop  

Option 5  
Airline: AIR INDIA (AI)  
Price: ‚Çπ5,112  
Departure: 18:00  
Arrival: 20:00  
Stops: 1 stop  

üí° Key Insights  
- The cheapest flights are both priced at ‚Çπ4,352 with 1 stop.  
- There is a direct flight available at ‚Çπ4,859, which can save travel time.  
- Morning and early afternoon flights might be less crowded compared to evening slots.  
- The price difference between 1 stop and direct flights is relatively small, making direct flights an attractive option for quicker travel.  

üìä Quick Comparison  
Cheapest: ‚Çπ4,352 (AIR INDIA, 04:30 ‚Üí 07:10)  
Fastest: 2h 40m (AIR INDIA, ‚Çπ4,859)  
Best Value: ‚Çπ4,352 with 1 stop, balancing cost and convenience.  

üéÅ Recommendations  
Budget Travelers: Option 1 (AIR INDIA, ‚Çπ4,352)  
Business Travelers: Direct flight at ‚Çπ4,859 (AIR INDIA)  
Flexible Schedule: Early morning option at ‚Çπ4,352 offers good availability and price.  
2025-09-04 16:25:50,701 - app.core.logging - INFO - Flight data prepared: True
2025-09-04 16:25:50,701 - app.core.logging - INFO - Flight data length: 12
2025-09-04 16:25:50,701 - app.core.logging - INFO - First flight record: {'Airline Code': 'AI', 'Airline Name': 'AIR INDIA', 'Departure': '2025-09-11T04:30:00', 'Arrival': '2025-09-11T07:10:00', 'Total Price': '4352.15', 'Currency': 'INR', 'Number of Stops': 1, 'Cabin': 'ECONOMY', 'One Way': True}
2025-09-04 16:25:50,701 - app.core.logging - INFO - Returning result with show_flight_cards: True
2025-09-04 16:34:45,424 - app.core.logging - INFO - Received chat request: Show me flights from San Francisco to New York on ...
2025-09-04 16:34:45,425 - app.core.logging - INFO - No existing flight data in session, fetching new data
2025-09-04 16:34:45,425 - app.core.logging - INFO - Processing flight search query: Show me flights from San Francisco to New York on October 20th
2025-09-04 16:34:45,425 - app.core.logging - INFO - Calling OpenAI with model: gpt-4o-mini
2025-09-04 16:34:45,425 - app.core.logging - INFO - System message: You are an assistant that helps extract flight information from user queries. Today is 2025-09-04. Extract the following details from the query: 1. location_origin: The departure city or airport, ensu...
2025-09-04 16:34:45,425 - app.core.logging - INFO - User message: Show me flights from San Francisco to New York on October 20th
2025-09-04 16:34:46,908 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-04 16:34:46,923 - app.core.logging - INFO - OpenAI response: {"location_origin": "SFO", "location_destination": "JFK", "departure_date": "2025-10-20", "adults": 1}
2025-09-04 16:34:46,923 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'SFO', 'location_destination': 'JFK', 'departure_date': '2025-10-20', 'adults': 1}
2025-09-04 16:34:54,253 - app.core.logging - INFO - Created dataframe with 16 flights
2025-09-04 16:34:54,253 - app.core.logging - INFO - Sending query to LLM: System Prompt: 
        You are a professional flight booking assistant specializing in helping users find and analyze flight information. You have access to real-time flight data and can provide detailed analysis and recommendations.

        CURRENT CONTEXT:
        - Flight data from SFO to JFK
        - Real-time pricing and availability information
        - All prices are shown in Indian Rupees (INR)

        RESPONSE FORMAT REQUIREMENTS:
        Use clean text formatting with these section markers that the frontend can detect and style:

        üéØ Best Deal
        Price: ‚ÇπX,XXX
        Airline: Airline Name (Code)
        Time: XX:XX ‚Üí XX:XX
        Stops: Direct/X stops
        Duration: Xh XXm

        ‚úàÔ∏è Available Flights

        Option 1
        Airline: AIR INDIA (AI)
        Price: ‚ÇπX,XXX
        Departure: XX:XX
        Arrival: XX:XX
        Stops: Direct/X stops

        Option 2
        [Continue for top 5 flights...]

        üí° Key Insights
        - Point about cheapest option
        - Point about direct vs stops
        - Point about timing
        - Price comparison insight

        üìä Quick Comparison
        Cheapest: ‚ÇπX,XXX (Airline, Time)
        Fastest: Xh XXm (Airline, ‚ÇπPrice)
        Best Value: Balance of price and convenience

        üéÅ Recommendations
        Budget Travelers: Specific flight recommendation with price
        Business Travelers: Direct flight option
        Flexible Schedule: Best timing options

        FORMATTING RULES:
        - Use emoji + space + text for main section headers (üéØ Best Deal)
        - Use simple text for subsection headers (Option 1, Option 2)
        - Use "Label: Value" format for data points
        - Use simple bullet points (-) only for insight lists
        - NO markdown symbols (**, ##, ###) - IMPORTANT: NEVER use any markdown formatting
        - Keep sections clearly separated with line breaks

        CONTENT REQUIREMENTS:
        - Base ALL information on ACTUAL flight data
        - Show specific prices in INR (‚Çπ)
        - Include real airline names and codes
        - Display actual departure and arrival times
        - Indicate actual number of stops
        - Provide data-driven insights
        - Limit to top 5 flight options

        CRITICAL FORMATTING REQUIREMENTS: 
        - NEVER EVER use markdown symbols: NO **, NO ##, NO ###, NO *, NO _
        - ONLY use plain text with emoji headers
        - Use exact data from the dataframe
        - Frontend will handle all styling - provide clean text only
        - If you use ANY markdown symbols (**,##,###,*,_), the response will be REJECTED
        
Query: Show me flights from San Francisco to New York on October 20th
2025-09-04 16:34:55,221 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-04 16:35:10,602 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-04 16:35:21,738 - app.core.logging - INFO - LLM Response: üéØ Best Deal  
Price: ‚Çπ9,263.58  
Airline: ALASKA AIRLINES (AS)  
Time: 23:00 ‚Üí 07:34  
Stops: Direct  
Duration: 8h 34m  

‚úàÔ∏è Available Flights  

Option 1  
Airline: ALASKA AIRLINES (AS)  
Price: ‚Çπ9,263.58  
Departure: 23:00  
Arrival: 07:34  
Stops: Direct  

Option 2  
Airline: JETBLUE AIRWAYS (B6)  
Price: ‚Çπ12,351.40  
Departure: 20:47  
Arrival: 05:25  
Stops: 1  

Option 3  
Airline: JETBLUE AIRWAYS (B6)  
Price: ‚Çπ12,351.40  
Departure: 10:40  
Arrival: 19:19  
Stops: 1  

Option 4  
Airline: JETBLUE AIRWAYS (B6)  
Price: ‚Çπ12,351.40  
Departure: 22:40  
Arrival: 23:56  
Stops: 1  

üí° Key Insights  
- The cheapest option is ALASKA AIRLINES, offering a direct flight.  
- JetBlue Airways has multiple options with one stop.  
- Evening departures provide the best timing for late travelers.  
- ALASKA AIRLINES offers a significantly lower price compared to others.  

üìä Quick Comparison  
Cheapest: ‚Çπ9,263.58 (ALASKA AIRLINES, 23:00 ‚Üí 07:34)  
Fastest: 8h 34m (ALASKA AIRLINES, ‚Çπ9,263.58)  
Best Value: ALASKA AIRLINES with the best price and direct service.  

üéÅ Recommendations  
Budget Travelers: Choose ALASKA AIRLINES for the lowest fare of ‚Çπ9,263.58.  
Business Travelers: Opt for JETBLUE AIRWAYS if a slightly flexible schedule is preferred with one stop.  
Flexible Schedule: Late evening options with JetBlue could work well for those needing flexibility.
2025-09-04 16:35:21,740 - app.core.logging - INFO - Flight data prepared: True
2025-09-04 16:35:21,740 - app.core.logging - INFO - Flight data length: 16
2025-09-04 16:35:21,740 - app.core.logging - INFO - First flight record: {'Airline Code': 'AS', 'Airline Name': 'ALASKA AIRLINES', 'Departure': '2025-10-20T23:00:00', 'Arrival': '2025-10-21T07:34:00', 'Total Price': '9263.58', 'Currency': 'INR', 'Number of Stops': 0, 'Cabin': 'ECONOMY', 'One Way': True}
2025-09-04 16:35:21,740 - app.core.logging - INFO - Returning result with show_flight_cards: True
2025-09-04 16:36:50,798 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-04 16:36:50,800 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-04 16:36:50,819 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-04 16:36:50,833 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-04 16:36:50,834 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-04 16:36:50,854 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-04 16:36:50,855 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-04 16:36:50,888 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-04 16:37:03,879 - app.core.logging - INFO - Received chat request: Show me the cheapest flights from Delhi to Mumbai ...
2025-09-04 16:37:03,879 - app.core.logging - INFO - No existing flight data in session, fetching new data
2025-09-04 16:37:03,879 - app.core.logging - INFO - Processing flight search query: Show me the cheapest flights from Delhi to Mumbai next week
2025-09-04 16:37:03,879 - app.core.logging - INFO - Calling OpenAI with model: gpt-4o-mini
2025-09-04 16:37:03,880 - app.core.logging - INFO - System message: You are an assistant that helps extract flight information from user queries. Today is 2025-09-04. Extract the following details from the query: 1. location_origin: The departure city or airport, ensu...
2025-09-04 16:37:03,880 - app.core.logging - INFO - User message: Show me the cheapest flights from Delhi to Mumbai next week
2025-09-04 16:37:05,252 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-04 16:37:05,264 - app.core.logging - INFO - OpenAI response: {"location_origin": "DEL", "location_destination": "BOM", "departure_date": "2025-09-11", "adults": 1}
2025-09-04 16:37:05,264 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'DEL', 'location_destination': 'BOM', 'departure_date': '2025-09-11', 'adults': 1}
2025-09-04 16:37:11,396 - app.core.logging - INFO - Created dataframe with 12 flights
2025-09-04 16:37:11,396 - app.core.logging - INFO - Sending query to LLM: System Prompt: 
        You are a professional flight booking assistant specializing in helping users find and analyze flight information. You have access to real-time flight data and can provide detailed analysis and recommendations.

        CURRENT CONTEXT:
        - Flight data from DEL to BOM
        - Real-time pricing and availability information
        - All prices are shown in Indian Rupees (INR)

        RESPONSE FORMAT REQUIREMENTS:
        Use clean text formatting with these section markers that the frontend can detect and style:

        üéØ Best Deal
        Price: ‚ÇπX,XXX
        Airline: Airline Name (Code)
        Time: XX:XX ‚Üí XX:XX
        Stops: Direct/X stops
        Duration: Xh XXm

        ‚úàÔ∏è Available Flights

        Option 1
        Airline: AIR INDIA (AI)
        Price: ‚ÇπX,XXX
        Departure: XX:XX
        Arrival: XX:XX
        Stops: Direct/X stops

        Option 2
        [Continue for top 5 flights...]

        üí° Key Insights
        - Point about cheapest option
        - Point about direct vs stops
        - Point about timing
        - Price comparison insight

        üìä Quick Comparison
        Cheapest: ‚ÇπX,XXX (Airline, Time)
        Fastest: Xh XXm (Airline, ‚ÇπPrice)
        Best Value: Balance of price and convenience

        üéÅ Recommendations
        Budget Travelers: Specific flight recommendation with price
        Business Travelers: Direct flight option
        Flexible Schedule: Best timing options

        FORMATTING RULES:
        - Use emoji + space + text for main section headers (üéØ Best Deal)
        - Use simple text for subsection headers (Option 1, Option 2)
        - Use "Label: Value" format for data points
        - Use simple bullet points (-) only for insight lists
        - NO markdown symbols (**, ##, ###) - IMPORTANT: NEVER use any markdown formatting
        - Keep sections clearly separated with line breaks

        CONTENT REQUIREMENTS:
        - Base ALL information on ACTUAL flight data
        - Show specific prices in INR (‚Çπ)
        - Include real airline names and codes
        - Display actual departure and arrival times
        - Indicate actual number of stops
        - Provide data-driven insights
        - Limit to top 5 flight options

        CRITICAL FORMATTING REQUIREMENTS: 
        - NEVER EVER use markdown symbols: NO **, NO ##, NO ###, NO *, NO _
        - ONLY use plain text with emoji headers
        - Use exact data from the dataframe
        - Frontend will handle all styling - provide clean text only
        - If you use ANY markdown symbols (**,##,###,*,_), the response will be REJECTED
        
Query: Show me the cheapest flights from Delhi to Mumbai next week
2025-09-04 16:37:12,727 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-04 16:37:48,464 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-04 16:37:50,717 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-04 16:38:02,407 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-04 16:38:12,732 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-04 16:38:18,878 - app.core.logging - ERROR - Error getting LLM response: The server had an error while processing your request. Sorry about that!
2025-09-04 16:38:18,878 - app.core.logging - ERROR - Error processing message: The server had an error while processing your request. Sorry about that!
2025-09-04 16:40:18,061 - app.core.logging - INFO - Received chat request: Show me flights from San Francisco to New York on ...
2025-09-04 16:40:18,061 - app.core.logging - INFO - No existing flight data in session, fetching new data
2025-09-04 16:40:18,061 - app.core.logging - INFO - Processing flight search query: Show me flights from San Francisco to New York on October 20th
2025-09-04 16:40:18,061 - app.core.logging - INFO - Calling OpenAI with model: gpt-4o-mini
2025-09-04 16:40:18,061 - app.core.logging - INFO - System message: You are an assistant that helps extract flight information from user queries. Today is 2025-09-04. Extract the following details from the query: 1. location_origin: The departure city or airport, ensu...
2025-09-04 16:40:18,061 - app.core.logging - INFO - User message: Show me flights from San Francisco to New York on October 20th
2025-09-04 16:40:19,509 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-04 16:40:19,518 - app.core.logging - INFO - OpenAI response: {"location_origin": "SFO", "location_destination": "JFK", "departure_date": "2025-10-20", "adults": 1}
2025-09-04 16:40:19,518 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'SFO', 'location_destination': 'JFK', 'departure_date': '2025-10-20', 'adults': 1}
2025-09-04 16:40:30,054 - app.core.logging - INFO - Created dataframe with 16 flights
2025-09-04 16:40:30,054 - app.core.logging - INFO - Sending query to LLM: System Prompt: 
        You are a professional flight booking assistant specializing in helping users find and analyze flight information. You have access to real-time flight data and can provide detailed analysis and recommendations.

        CURRENT CONTEXT:
        - Flight data from SFO to JFK
        - Real-time pricing and availability information
        - All prices are shown in Indian Rupees (INR)

        RESPONSE FORMAT REQUIREMENTS:
        Use clean text formatting with these section markers that the frontend can detect and style:

        üéØ Best Deal
        Price: ‚ÇπX,XXX
        Airline: Airline Name (Code)
        Time: XX:XX ‚Üí XX:XX
        Stops: Direct/X stops
        Duration: Xh XXm

        ‚úàÔ∏è Available Flights

        Option 1
        Airline: AIR INDIA (AI)
        Price: ‚ÇπX,XXX
        Departure: XX:XX
        Arrival: XX:XX
        Stops: Direct/X stops

        Option 2
        [Continue for top 5 flights...]

        üí° Key Insights
        - Point about cheapest option
        - Point about direct vs stops
        - Point about timing
        - Price comparison insight

        üìä Quick Comparison
        Cheapest: ‚ÇπX,XXX (Airline, Time)
        Fastest: Xh XXm (Airline, ‚ÇπPrice)
        Best Value: Balance of price and convenience

        üéÅ Recommendations
        Budget Travelers: Specific flight recommendation with price
        Business Travelers: Direct flight option
        Flexible Schedule: Best timing options

        FORMATTING RULES:
        - Use emoji + space + text for main section headers (üéØ Best Deal)
        - Use simple text for subsection headers (Option 1, Option 2)
        - Use "Label: Value" format for data points
        - Use simple bullet points (-) only for insight lists
        - NO markdown symbols (**, ##, ###) - IMPORTANT: NEVER use any markdown formatting
        - Keep sections clearly separated with line breaks

        CONTENT REQUIREMENTS:
        - Base ALL information on ACTUAL flight data
        - Show specific prices in INR (‚Çπ)
        - Include real airline names and codes
        - Display actual departure and arrival times
        - Indicate actual number of stops
        - Provide data-driven insights
        - Limit to top 5 flight options

        CRITICAL FORMATTING REQUIREMENTS: 
        - NEVER EVER use markdown symbols: NO **, NO ##, NO ###, NO *, NO _
        - ONLY use plain text with emoji headers
        - Use exact data from the dataframe
        - Frontend will handle all styling - provide clean text only
        - If you use ANY markdown symbols (**,##,###,*,_), the response will be REJECTED
        
Query: Show me flights from San Francisco to New York on October 20th
2025-09-04 16:40:30,995 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-04 16:40:34,151 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-04 16:40:37,326 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-04 16:40:38,348 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-04 16:40:47,801 - app.core.logging - INFO - LLM Response: üéØ Best Deal  
Price: ‚Çπ12,351.44  
Airline: JETBLUE AIRWAYS (B6)  
Time: 20:47 ‚Üí 05:25  
Stops: 1 stop  
Duration: 8h 38m  

‚úàÔ∏è Available Flights  

Option 1  
Airline: JETBLUE AIRWAYS (B6)  
Price: ‚Çπ12,351.44  
Departure: 20:47  
Arrival: 05:25  
Stops: 1 stop  

Option 2  
Airline: JETBLUE AIRWAYS (B6)  
Price: ‚Çπ12,351.44  
Departure: 10:40  
Arrival: 19:19  
Stops: 1 stop  

Option 3  
Airline: JETBLUE AIRWAYS (B6)  
Price: ‚Çπ12,351.44  
Departure: 22:40  
Arrival: 23:56  
Stops: 1 stop  

Option 4  
Airline: JETBLUE AIRWAYS (B6)  
Price: ‚Çπ12,786.74  
Departure: 20:47  
Arrival: 05:25  
Stops: 1 stop  

Option 5  
Airline: ALASKA AIRLINES (AS)  
Price: ‚Çπ14,588.60  
Departure: 20:15  
Arrival: 21:52  
Stops: 1 stop  

üí° Key Insights  
- The cheapest option is ‚Çπ12,351.44 with JETBLUE AIRWAYS.  
- All listed flights have 1 stop, making them less ideal for travelers seeking direct routes.  
- Departure times are spread throughout the day, providing flexibility.  
- The price difference between the top options is minor, suggesting similar service levels.  

üìä Quick Comparison  
Cheapest: ‚Çπ12,351.44 (JETBLUE AIRWAYS, 20:47 ‚Üí 05:25)  
Fastest: 8h 38m (JETBLUE AIRWAYS, ‚Çπ12,351.44)  
Best Value: JETBLUE AIRWAYS offers a balance of price and convenience.  

üéÅ Recommendations  
Budget Travelers: Choose JETBLUE AIRWAYS at ‚Çπ12,351.44 for cost savings.  
Business Travelers: Consider the flight departing at 10:40 for earlier arrival.  
Flexible Schedule: The 22:40 departure offers a later traveling option.
2025-09-04 16:40:47,803 - app.core.logging - INFO - Flight data prepared: True
2025-09-04 16:40:47,803 - app.core.logging - INFO - Flight data length: 16
2025-09-04 16:40:47,803 - app.core.logging - INFO - First flight record: {'Airline Code': 'AS', 'Airline Name': 'ALASKA AIRLINES', 'Departure': Timestamp('2025-10-20 23:00:00'), 'Arrival': Timestamp('2025-10-21 07:34:00'), 'Total Price': '9263.58', 'Currency': 'INR', 'Number of Stops': 0, 'Cabin': 'ECONOMY', 'One Way': True}
2025-09-04 16:40:47,803 - app.core.logging - INFO - Returning result with show_flight_cards: True
2025-09-04 16:42:07,235 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-04 16:42:07,266 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-04 16:42:07,269 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-04 16:42:07,296 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-04 16:42:07,298 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-04 16:42:07,299 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-04 16:42:07,329 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-04 16:42:07,338 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-04 16:42:14,261 - app.core.logging - INFO - Received chat request: Find me flights from New York to London on Decembe...
2025-09-04 16:42:14,261 - app.core.logging - INFO - No existing flight data in session, fetching new data
2025-09-04 16:42:14,261 - app.core.logging - INFO - Processing flight search query: Find me flights from New York to London on December 15, 2024
2025-09-04 16:42:14,262 - app.core.logging - INFO - Calling OpenAI with model: gpt-4o-mini
2025-09-04 16:42:14,262 - app.core.logging - INFO - System message: You are an assistant that helps extract flight information from user queries. Today is 2025-09-04. Extract the following details from the query: 1. location_origin: The departure city or airport, ensu...
2025-09-04 16:42:14,262 - app.core.logging - INFO - User message: Find me flights from New York to London on December 15, 2024
2025-09-04 16:42:15,635 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-04 16:42:15,647 - app.core.logging - INFO - OpenAI response: {"location_origin": "JFK", "location_destination": "LHR", "departure_date": "2024-12-15", "adults": 1}
2025-09-04 16:42:15,647 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'JFK', 'location_destination': 'LHR', 'departure_date': '2024-12-15', 'adults': 1}
2025-09-04 16:42:18,189 - app.core.logging - ERROR - Flight search error: [400]

2025-09-04 16:42:18,190 - app.core.logging - ERROR - No flights found or error in forming dataframe
2025-09-04 16:42:55,211 - app.core.logging - INFO - Received chat request: cheapest flights to delhi from mumbai , next monda...
2025-09-04 16:42:55,211 - app.core.logging - INFO - No existing flight data in session, fetching new data
2025-09-04 16:42:55,211 - app.core.logging - INFO - Processing flight search query: cheapest flights to delhi from mumbai , next monday
2025-09-04 16:42:55,211 - app.core.logging - INFO - Calling OpenAI with model: gpt-4o-mini
2025-09-04 16:42:55,211 - app.core.logging - INFO - System message: You are an assistant that helps extract flight information from user queries. Today is 2025-09-04. Extract the following details from the query: 1. location_origin: The departure city or airport, ensu...
2025-09-04 16:42:55,211 - app.core.logging - INFO - User message: cheapest flights to delhi from mumbai , next monday
2025-09-04 16:42:57,618 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-04 16:42:57,636 - app.core.logging - INFO - OpenAI response: {"location_origin": "BOM", "location_destination": "DEL", "departure_date": "2025-09-08", "adults": 1}
2025-09-04 16:42:57,636 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'BOM', 'location_destination': 'DEL', 'departure_date': '2025-09-08', 'adults': 1}
2025-09-04 16:43:04,486 - app.core.logging - INFO - Created dataframe with 14 flights
2025-09-04 16:43:04,490 - app.core.logging - ERROR - Error creating flight summary: Column 'Total Price' has dtype object, cannot use method 'nsmallest' with this dtype
2025-09-04 16:43:04,490 - app.core.logging - INFO - Sending focused query to LLM (length: 2837 chars)
2025-09-04 16:43:19,837 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-04 16:43:19,842 - app.core.logging - INFO - LLM Response received (length: 1458 chars)
2025-09-04 16:43:19,845 - app.core.logging - INFO - Flight data prepared: True
2025-09-04 16:43:19,846 - app.core.logging - INFO - Flight data length: 14
2025-09-04 16:43:19,846 - app.core.logging - INFO - First flight record: {'Airline Code': 'AI', 'Airline Name': 'AIR INDIA', 'Departure': '2025-09-08T18:20:00', 'Arrival': '2025-09-08T19:35:00', 'Total Price': '3905.07', 'Currency': 'INR', 'Number of Stops': 1, 'Cabin': 'ECONOMY', 'One Way': True}
2025-09-04 16:43:19,846 - app.core.logging - INFO - Returning result with show_flight_cards: True
2025-09-04 16:46:19,983 - app.core.logging - INFO - Received chat request: Show me flights from San Francisco to New York on ...
2025-09-04 16:46:19,983 - app.core.logging - INFO - No existing flight data in session, fetching new data
2025-09-04 16:46:19,983 - app.core.logging - INFO - Processing flight search query: Show me flights from San Francisco to New York on October 20th
2025-09-04 16:46:19,983 - app.core.logging - INFO - Calling OpenAI with model: gpt-4o-mini
2025-09-04 16:46:19,984 - app.core.logging - INFO - System message: You are an assistant that helps extract flight information from user queries. Today is 2025-09-04. Extract the following details from the query: 1. location_origin: The departure city or airport, ensu...
2025-09-04 16:46:19,984 - app.core.logging - INFO - User message: Show me flights from San Francisco to New York on October 20th
2025-09-04 16:46:21,489 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-04 16:46:21,492 - app.core.logging - INFO - OpenAI response: {"location_origin": "SFO", "location_destination": "JFK", "departure_date": "2025-10-20", "adults": 1}
2025-09-04 16:46:21,492 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'SFO', 'location_destination': 'JFK', 'departure_date': '2025-10-20', 'adults': 1}
2025-09-04 16:46:28,722 - app.core.logging - INFO - Created dataframe with 17 flights
2025-09-04 16:46:28,725 - app.core.logging - ERROR - Error creating flight summary: Column 'Total Price' has dtype object, cannot use method 'nsmallest' with this dtype
2025-09-04 16:46:28,725 - app.core.logging - INFO - Sending focused query to LLM (length: 2859 chars)
2025-09-04 16:46:39,827 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-04 16:46:39,832 - app.core.logging - INFO - LLM Response received (length: 1477 chars)
2025-09-04 16:46:39,837 - app.core.logging - INFO - Flight data prepared: True
2025-09-04 16:46:39,837 - app.core.logging - INFO - Flight data length: 17
2025-09-04 16:46:39,837 - app.core.logging - INFO - First flight record: {'Airline Code': 'AS', 'Airline Name': 'ALASKA AIRLINES', 'Departure': '2025-10-20T23:00:00', 'Arrival': '2025-10-21T07:34:00', 'Total Price': '9263.58', 'Currency': 'INR', 'Number of Stops': 0, 'Cabin': 'ECONOMY', 'One Way': True}
2025-09-04 16:46:39,838 - app.core.logging - INFO - Returning result with show_flight_cards: True
2025-09-04 16:46:55,304 - app.core.logging - INFO - Received chat request: cheapest flights from mumbai to delhi next monday...
2025-09-04 16:46:55,304 - app.core.logging - INFO - No existing flight data in session, fetching new data
2025-09-04 16:46:55,304 - app.core.logging - INFO - Processing flight search query: cheapest flights from mumbai to delhi next monday
2025-09-04 16:46:55,304 - app.core.logging - INFO - Calling OpenAI with model: gpt-4o-mini
2025-09-04 16:46:55,304 - app.core.logging - INFO - System message: You are an assistant that helps extract flight information from user queries. Today is 2025-09-04. Extract the following details from the query: 1. location_origin: The departure city or airport, ensu...
2025-09-04 16:46:55,304 - app.core.logging - INFO - User message: cheapest flights from mumbai to delhi next monday
2025-09-04 16:46:56,716 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-04 16:46:57,034 - app.core.logging - INFO - OpenAI response: {"location_origin": "BOM", "location_destination": "DEL", "departure_date": "2025-09-08", "adults": 1}
2025-09-04 16:46:57,034 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'BOM', 'location_destination': 'DEL', 'departure_date': '2025-09-08', 'adults': 1}
2025-09-04 16:47:03,455 - app.core.logging - INFO - Created dataframe with 14 flights
2025-09-04 16:47:03,456 - app.core.logging - ERROR - Error creating flight summary: Column 'Total Price' has dtype object, cannot use method 'nsmallest' with this dtype
2025-09-04 16:47:03,456 - app.core.logging - INFO - Sending focused query to LLM (length: 2833 chars)
2025-09-04 16:47:20,763 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-04 16:47:20,768 - app.core.logging - INFO - LLM Response received (length: 1359 chars)
2025-09-04 16:47:20,770 - app.core.logging - INFO - Flight data prepared: True
2025-09-04 16:47:20,771 - app.core.logging - INFO - Flight data length: 14
2025-09-04 16:47:20,771 - app.core.logging - INFO - First flight record: {'Airline Code': 'AI', 'Airline Name': 'AIR INDIA', 'Departure': '2025-09-08T18:20:00', 'Arrival': '2025-09-08T19:35:00', 'Total Price': '3905.07', 'Currency': 'INR', 'Number of Stops': 1, 'Cabin': 'ECONOMY', 'One Way': True}
2025-09-04 16:47:20,771 - app.core.logging - INFO - Returning result with show_flight_cards: True
2025-09-04 16:48:47,844 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-04 16:48:47,863 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-04 16:48:47,877 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-04 16:48:47,887 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-04 16:48:47,898 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-04 16:48:47,907 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-04 16:48:47,922 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-04 16:48:47,941 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-04 16:49:13,859 - app.core.logging - INFO - Received chat request: i want to go mumbai to delhi next monday...
2025-09-04 16:49:13,859 - app.core.logging - INFO - No existing flight data in session, fetching new data
2025-09-04 16:49:13,860 - app.core.logging - INFO - Processing flight search query: i want to go mumbai to delhi next monday
2025-09-04 16:49:13,860 - app.core.logging - INFO - Calling OpenAI with model: gpt-4o-mini
2025-09-04 16:49:13,860 - app.core.logging - INFO - System message: You are an assistant that helps extract flight information from user queries. Today is 2025-09-04. Extract the following details from the query: 1. location_origin: The departure city or airport, ensu...
2025-09-04 16:49:13,860 - app.core.logging - INFO - User message: i want to go mumbai to delhi next monday
2025-09-04 16:49:17,818 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-04 16:49:17,850 - app.core.logging - INFO - OpenAI response: {"location_origin": "BOM", "location_destination": "DEL", "departure_date": "2025-09-08", "adults": 1}
2025-09-04 16:49:17,850 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'BOM', 'location_destination': 'DEL', 'departure_date': '2025-09-08', 'adults': 1}
2025-09-04 16:49:24,171 - app.core.logging - INFO - Created dataframe with 14 flights
2025-09-04 16:49:24,180 - app.core.logging - INFO - Sending focused query to LLM (length: 3144 chars)
2025-09-04 16:49:40,188 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-04 16:49:40,192 - app.core.logging - INFO - LLM Response received (length: 1397 chars)
2025-09-04 16:49:40,195 - app.core.logging - INFO - Flight data prepared: True
2025-09-04 16:49:40,195 - app.core.logging - INFO - Flight data length: 14
2025-09-04 16:49:40,195 - app.core.logging - INFO - First flight record: {'Airline Code': 'AI', 'Airline Name': 'AIR INDIA', 'Departure': '2025-09-08T18:20:00', 'Arrival': '2025-09-08T19:35:00', 'Total Price': 3905.07, 'Currency': 'INR', 'Number of Stops': 1, 'Cabin': 'ECONOMY', 'One Way': True}
2025-09-04 16:49:40,195 - app.core.logging - INFO - Returning result with show_flight_cards: True
2025-09-04 16:53:20,925 - app.core.logging - INFO - Received chat request: cheapest flights from mumbai to delhi next monday...
2025-09-04 16:53:20,926 - app.core.logging - INFO - No existing flight data in session, fetching new data
2025-09-04 16:53:20,926 - app.core.logging - INFO - Processing flight search query: cheapest flights from mumbai to delhi next monday
2025-09-04 16:53:20,926 - app.core.logging - INFO - Calling OpenAI with model: gpt-4o-mini
2025-09-04 16:53:20,926 - app.core.logging - INFO - System message: You are an assistant that helps extract flight information from user queries. Today is 2025-09-04. Extract the following details from the query: 1. location_origin: The departure city or airport, ensu...
2025-09-04 16:53:20,926 - app.core.logging - INFO - User message: cheapest flights from mumbai to delhi next monday
2025-09-04 16:53:23,928 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-04 16:53:23,928 - app.core.logging - INFO - OpenAI response: {"location_origin": "BOM", "location_destination": "DEL", "departure_date": "2025-09-08", "adults": 1}
2025-09-04 16:53:23,929 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'BOM', 'location_destination': 'DEL', 'departure_date': '2025-09-08', 'adults': 1}
2025-09-04 16:53:28,910 - app.core.logging - INFO - Created dataframe with 14 flights
2025-09-04 16:53:28,916 - app.core.logging - INFO - Sending focused query to LLM (length: 3162 chars)
2025-09-04 16:53:42,897 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-04 16:53:42,898 - app.core.logging - INFO - LLM Response received (length: 1467 chars)
2025-09-04 16:53:42,899 - app.core.logging - INFO - Flight data prepared: True
2025-09-04 16:53:42,899 - app.core.logging - INFO - Flight data length: 14
2025-09-04 16:53:42,899 - app.core.logging - INFO - First flight record: {'Airline Code': 'AI', 'Airline Name': 'AIR INDIA', 'Departure': '2025-09-08T18:20:00', 'Arrival': '2025-09-08T19:35:00', 'Total Price': 3905.07, 'Currency': 'INR', 'Number of Stops': 1, 'Cabin': 'ECONOMY', 'One Way': True}
2025-09-04 16:53:42,900 - app.core.logging - INFO - Returning result with show_flight_cards: True
2025-09-04 16:55:00,409 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-04 16:55:00,425 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-04 16:55:00,427 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-04 16:55:00,433 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-04 16:55:00,438 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-04 16:55:00,454 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-04 16:55:00,456 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-04 16:55:00,463 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-04 16:56:26,699 - app.core.logging - INFO - Received chat request: i want to go mumbai to delhi next monday...
2025-09-04 16:56:26,699 - app.core.logging - INFO - No existing flight data in session, fetching new data
2025-09-04 16:56:26,700 - app.core.logging - INFO - Processing flight search query: i want to go mumbai to delhi next monday
2025-09-04 16:56:26,700 - app.core.logging - INFO - Calling OpenAI with model: gpt-4o-mini
2025-09-04 16:56:26,700 - app.core.logging - INFO - System message: You are an assistant that helps extract flight information from user queries. Today is 2025-09-04. Extract the following details from the query: 1. location_origin: The departure city or airport, ensu...
2025-09-04 16:56:26,700 - app.core.logging - INFO - User message: i want to go mumbai to delhi next monday
2025-09-04 16:56:32,348 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-04 16:56:32,360 - app.core.logging - INFO - OpenAI response: Next Monday is 2025-09-08. The airport codes for Mumbai and Delhi are BOM and DEL, respectively. 

Here is the extracted information in JSON format:

```json
{
  "location_origin": "BOM",
  "location_destination": "DEL",
  "departure_date": "2025-09-08",
  "adults": 1
}
```
2025-09-04 16:56:32,360 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'BOM', 'location_destination': 'DEL', 'departure_date': '2025-09-08', 'adults': 1}
2025-09-04 16:56:39,263 - app.core.logging - INFO - Created dataframe with 14 flights
2025-09-04 16:56:39,275 - app.core.logging - INFO - Sending focused query to LLM (length: 3144 chars)
2025-09-04 16:56:49,097 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-04 16:56:49,104 - app.core.logging - INFO - LLM Response received (length: 1449 chars)
2025-09-04 16:56:49,106 - app.core.logging - INFO - Flight data prepared: True
2025-09-04 16:56:49,106 - app.core.logging - INFO - Flight data length: 14
2025-09-04 16:56:49,106 - app.core.logging - INFO - First flight record: {'Airline Code': 'AI', 'Airline Name': 'AIR INDIA', 'Departure': '2025-09-08T18:20:00', 'Arrival': '2025-09-08T19:35:00', 'Total Price': 3905.07, 'Currency': 'INR', 'Number of Stops': 1, 'Cabin': 'ECONOMY', 'One Way': True}
2025-09-04 16:56:49,106 - app.core.logging - INFO - Returning result with show_flight_cards: True
2025-09-04 16:57:28,033 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-04 16:57:28,056 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-04 16:57:28,066 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-04 16:57:28,089 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-04 16:57:28,097 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-04 16:57:28,113 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-04 16:57:28,127 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-04 16:57:28,140 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-04 20:30:16,541 - app.core.logging - INFO - Shutting down application
2025-09-04 20:30:16,636 - app.core.logging - INFO - Shutting down application
2025-09-04 20:30:16,637 - app.core.logging - INFO - Shutting down application
2025-09-04 20:30:16,639 - app.core.logging - INFO - Shutting down application
2025-09-05 15:02:15,717 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-05 15:02:15,717 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-05 15:02:15,717 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-05 15:02:15,717 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-05 15:02:15,718 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-05 15:02:15,718 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-05 15:02:15,718 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-05 15:02:15,718 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-05 15:02:17,570 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 15:02:17,570 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 15:02:17,570 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 15:02:17,571 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 15:02:17,613 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-05 15:02:17,614 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-05 15:02:17,615 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-05 15:02:17,617 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-05 15:02:42,576 - app.core.logging - INFO - Received chat request: i want to go delhi to mumbai next monday...
2025-09-05 15:02:42,576 - app.core.logging - INFO - No existing flight data in session, fetching new data
2025-09-05 15:02:42,577 - app.core.logging - INFO - Processing flight search query: i want to go delhi to mumbai next monday
2025-09-05 15:02:42,577 - app.core.logging - INFO - Calling OpenAI with model: gpt-4o-mini
2025-09-05 15:02:42,577 - app.core.logging - INFO - System message: You are an assistant that helps extract flight information from user queries. Today is 2025-09-05. Extract the following details from the query: 1. location_origin: The departure city or airport, ensu...
2025-09-05 15:02:42,578 - app.core.logging - INFO - User message: i want to go delhi to mumbai next monday
2025-09-05 15:02:45,203 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 15:02:45,240 - app.core.logging - INFO - OpenAI response: Next Monday is 2025-09-08. The airport codes for Delhi and Mumbai are DEL and BOM, respectively. 

Here is the extracted information in JSON format:

```json
{
  "location_origin": "DEL",
  "location_destination": "BOM",
  "departure_date": "2025-09-08",
  "adults": 1
}
```
2025-09-05 15:02:45,240 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'DEL', 'location_destination': 'BOM', 'departure_date': '2025-09-08', 'adults': 1}
2025-09-05 15:02:51,317 - app.core.logging - INFO - Created dataframe with 12 flights
2025-09-05 15:02:51,360 - app.core.logging - INFO - Sending focused query to LLM (length: 3135 chars)
2025-09-05 15:02:58,076 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 15:02:58,361 - app.core.logging - INFO - LLM Response received (length: 1271 chars)
2025-09-05 15:02:58,369 - app.core.logging - INFO - Flight data prepared: True
2025-09-05 15:02:58,370 - app.core.logging - INFO - Flight data length: 12
2025-09-05 15:02:58,370 - app.core.logging - INFO - First flight record: {'Airline Code': 'AI', 'Airline Name': 'AIR INDIA', 'Departure': '2025-09-08T11:00:00', 'Arrival': '2025-09-08T11:50:00', 'Total Price': 4067.07, 'Currency': 'INR', 'Number of Stops': 1, 'Cabin': 'ECONOMY', 'One Way': True}
2025-09-05 15:02:58,370 - app.core.logging - INFO - Returning result with show_flight_cards: True
2025-09-05 15:14:16,596 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-05 15:14:16,596 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-05 15:14:16,597 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-05 15:14:16,597 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-05 15:14:16,607 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-05 15:14:16,607 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-05 15:14:16,609 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-05 15:14:16,609 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-05 15:14:18,463 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 15:14:18,474 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 15:14:18,474 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 15:14:18,500 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 15:14:18,516 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-05 15:14:18,525 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-05 15:14:18,526 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-05 15:14:18,555 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-05 15:14:41,728 - app.core.logging - INFO - Received chat request: i want to go delhi to mumbai next monday...
2025-09-05 15:14:41,728 - app.core.logging - INFO - No existing flight data in session, fetching new data
2025-09-05 15:14:41,729 - app.core.logging - INFO - Processing flight search query: i want to go delhi to mumbai next monday
2025-09-05 15:14:41,729 - app.core.logging - INFO - Calling OpenAI with model: gpt-4o-mini
2025-09-05 15:14:41,729 - app.core.logging - INFO - System message: You are an assistant that helps extract flight information from user queries. Today is 2025-09-05. Extract the following details from the query: 1. location_origin: The departure city or airport, ensu...
2025-09-05 15:14:41,730 - app.core.logging - INFO - User message: i want to go delhi to mumbai next monday
2025-09-05 15:14:44,218 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 15:14:44,237 - app.core.logging - INFO - OpenAI response: Next Monday is 2025-09-08. The airport codes for Delhi and Mumbai are DEL and BOM, respectively. 

Here is the extracted information in JSON format:

```json
{
  "location_origin": "DEL",
  "location_destination": "BOM",
  "departure_date": "2025-09-08",
  "adults": 1
}
```
2025-09-05 15:14:44,238 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'DEL', 'location_destination': 'BOM', 'departure_date': '2025-09-08', 'adults': 1}
2025-09-05 15:14:51,285 - app.core.logging - INFO - Created dataframe with 12 flights
2025-09-05 15:14:51,326 - app.core.logging - INFO - Sending focused query to LLM (length: 2871 chars)
2025-09-05 15:14:58,035 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 15:14:58,065 - app.core.logging - INFO - LLM Response received (length: 1113 chars)
2025-09-05 15:14:58,073 - app.core.logging - INFO - Flight data prepared: True
2025-09-05 15:14:58,073 - app.core.logging - INFO - Flight data length: 12
2025-09-05 15:14:58,074 - app.core.logging - INFO - First flight record: {'Airline Code': 'AI', 'Airline Name': 'AIR INDIA', 'Departure': '2025-09-08T11:00:00', 'Arrival': '2025-09-08T11:50:00', 'Total Price': 4067.07, 'Currency': 'INR', 'Number of Stops': 1, 'Cabin': 'ECONOMY', 'One Way': True}
2025-09-05 15:14:58,075 - app.core.logging - INFO - Returning result with show_flight_cards: True
2025-09-05 15:20:05,258 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-05 15:20:05,259 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-05 15:20:05,259 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-05 15:20:05,259 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-05 15:20:05,259 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-05 15:20:05,259 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-05 15:20:05,265 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-05 15:20:05,265 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-05 15:20:06,713 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 15:20:06,733 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 15:20:06,733 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 15:20:06,736 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 15:20:06,749 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-05 15:20:06,769 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-05 15:20:06,769 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-05 15:20:06,772 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-05 15:20:36,911 - app.core.logging - INFO - Received chat request: i want to go delhi to mumbai next monday...
2025-09-05 15:20:36,912 - app.core.logging - INFO - No existing flight data in session, fetching new data
2025-09-05 15:20:36,912 - app.core.logging - INFO - Processing flight search query: i want to go delhi to mumbai next monday
2025-09-05 15:20:36,912 - app.core.logging - INFO - Calling OpenAI with model: gpt-4o-mini
2025-09-05 15:20:36,913 - app.core.logging - INFO - System message: You are an assistant that helps extract flight information from user queries. Today is 2025-09-05. Extract the following details from the query: 1. location_origin: The departure city or airport, ensu...
2025-09-05 15:20:36,913 - app.core.logging - INFO - User message: i want to go delhi to mumbai next monday
2025-09-05 15:20:40,564 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 15:20:40,602 - app.core.logging - INFO - OpenAI response: Next Monday is 2025-09-08. The airport codes for Delhi and Mumbai are DEL and BOM, respectively. 

Here is the extracted information in JSON format:

```json
{
  "location_origin": "DEL",
  "location_destination": "BOM",
  "departure_date": "2025-09-08",
  "adults": 1
}
```
2025-09-05 15:20:40,602 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'DEL', 'location_destination': 'BOM', 'departure_date': '2025-09-08', 'adults': 1}
2025-09-05 15:20:46,816 - app.core.logging - INFO - Created dataframe with 12 flights
2025-09-05 15:20:46,862 - app.core.logging - INFO - Sending focused query to LLM (length: 2871 chars)
2025-09-05 15:20:53,874 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 15:20:53,879 - app.core.logging - INFO - LLM Response received (length: 1230 chars)
2025-09-05 15:20:53,887 - app.core.logging - INFO - Flight data prepared: True
2025-09-05 15:20:53,887 - app.core.logging - INFO - Flight data length: 12
2025-09-05 15:20:53,887 - app.core.logging - INFO - First flight record: {'Airline Code': 'AI', 'Airline Name': 'AIR INDIA', 'Departure': '2025-09-08T11:00:00', 'Arrival': '2025-09-08T11:50:00', 'Total Price': 4067.07, 'Currency': 'INR', 'Number of Stops': 1, 'Cabin': 'ECONOMY', 'One Way': True}
2025-09-05 15:20:53,888 - app.core.logging - INFO - Returning result with show_flight_cards: True
2025-09-05 15:23:49,731 - app.core.logging - INFO - Received chat request: i want to go delhi to mumbai next monday...
2025-09-05 15:23:49,731 - app.core.logging - INFO - No existing flight data in session, fetching new data
2025-09-05 15:23:49,732 - app.core.logging - INFO - Processing flight search query: i want to go delhi to mumbai next monday
2025-09-05 15:23:49,732 - app.core.logging - INFO - Calling OpenAI with model: gpt-4o-mini
2025-09-05 15:23:49,732 - app.core.logging - INFO - System message: You are an assistant that helps extract flight information from user queries. Today is 2025-09-05. Extract the following details from the query: 1. location_origin: The departure city or airport, ensu...
2025-09-05 15:23:49,732 - app.core.logging - INFO - User message: i want to go delhi to mumbai next monday
2025-09-05 15:23:51,633 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 15:23:51,672 - app.core.logging - INFO - OpenAI response: Next Monday is 2025-09-08. The airport codes for Delhi and Mumbai are DEL and BOM, respectively. 

Here is the extracted information in JSON format:

```json
{
  "location_origin": "DEL",
  "location_destination": "BOM",
  "departure_date": "2025-09-08",
  "adults": 1
}
```
2025-09-05 15:23:51,673 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'DEL', 'location_destination': 'BOM', 'departure_date': '2025-09-08', 'adults': 1}
2025-09-05 15:23:57,682 - app.core.logging - INFO - Created dataframe with 12 flights
2025-09-05 15:23:57,723 - app.core.logging - INFO - Sending focused query to LLM (length: 2871 chars)
2025-09-05 15:24:04,329 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 15:24:04,334 - app.core.logging - INFO - LLM Response received (length: 1152 chars)
2025-09-05 15:24:04,340 - app.core.logging - INFO - Flight data prepared: True
2025-09-05 15:24:04,340 - app.core.logging - INFO - Flight data length: 12
2025-09-05 15:24:04,340 - app.core.logging - INFO - First flight record: {'Airline Code': 'AI', 'Airline Name': 'AIR INDIA', 'Departure': '2025-09-08T11:00:00', 'Arrival': '2025-09-08T11:50:00', 'Total Price': 4067.07, 'Currency': 'INR', 'Number of Stops': 1, 'Cabin': 'ECONOMY', 'One Way': True}
2025-09-05 15:24:04,341 - app.core.logging - INFO - Returning result with show_flight_cards: True
2025-09-05 15:28:06,007 - app.core.logging - INFO - Received chat request: Find me flights from New York to London on Decembe...
2025-09-05 15:28:06,008 - app.core.logging - INFO - No existing flight data in session, fetching new data
2025-09-05 15:28:06,008 - app.core.logging - INFO - Processing flight search query: Find me flights from New York to London on December 15, 2024
2025-09-05 15:28:06,009 - app.core.logging - INFO - Calling OpenAI with model: gpt-4o-mini
2025-09-05 15:28:06,009 - app.core.logging - INFO - System message: You are an assistant that helps extract flight information from user queries. Today is 2025-09-05. Extract the following details from the query: 1. location_origin: The departure city or airport, ensu...
2025-09-05 15:28:06,009 - app.core.logging - INFO - User message: Find me flights from New York to London on December 15, 2024
2025-09-05 15:28:12,232 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 15:28:12,267 - app.core.logging - INFO - OpenAI response: {"location_origin": "JFK", "location_destination": "LON", "departure_date": "2024-12-15", "adults": 1}
2025-09-05 15:28:12,268 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'JFK', 'location_destination': 'LON', 'departure_date': '2024-12-15', 'adults': 1}
2025-09-05 15:28:14,998 - app.core.logging - ERROR - Flight search error: [400]

2025-09-05 15:28:14,999 - app.core.logging - ERROR - No flights found or error in forming dataframe
2025-09-05 15:28:23,645 - app.core.logging - INFO - Received chat request: i want to go delhi to mumbai next monday...
2025-09-05 15:28:23,646 - app.core.logging - INFO - No existing flight data in session, fetching new data
2025-09-05 15:28:23,646 - app.core.logging - INFO - Processing flight search query: i want to go delhi to mumbai next monday
2025-09-05 15:28:23,646 - app.core.logging - INFO - Calling OpenAI with model: gpt-4o-mini
2025-09-05 15:28:23,647 - app.core.logging - INFO - System message: You are an assistant that helps extract flight information from user queries. Today is 2025-09-05. Extract the following details from the query: 1. location_origin: The departure city or airport, ensu...
2025-09-05 15:28:23,647 - app.core.logging - INFO - User message: i want to go delhi to mumbai next monday
2025-09-05 15:28:24,889 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 15:28:24,892 - app.core.logging - INFO - OpenAI response: {"location_origin": "DEL", "location_destination": "BOM", "departure_date": "2025-09-08", "adults": 1}
2025-09-05 15:28:24,892 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'DEL', 'location_destination': 'BOM', 'departure_date': '2025-09-08', 'adults': 1}
2025-09-05 15:28:29,454 - app.core.logging - INFO - Created dataframe with 12 flights
2025-09-05 15:28:29,476 - app.core.logging - INFO - Sending focused query to LLM (length: 2871 chars)
2025-09-05 15:28:35,987 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 15:28:35,991 - app.core.logging - INFO - LLM Response received (length: 1130 chars)
2025-09-05 15:28:35,996 - app.core.logging - INFO - Flight data prepared: True
2025-09-05 15:28:35,997 - app.core.logging - INFO - Flight data length: 12
2025-09-05 15:28:35,997 - app.core.logging - INFO - First flight record: {'Airline Code': 'AI', 'Airline Name': 'AIR INDIA', 'Departure': '2025-09-08T11:00:00', 'Arrival': '2025-09-08T11:50:00', 'Total Price': 4067.07, 'Currency': 'INR', 'Number of Stops': 1, 'Cabin': 'ECONOMY', 'One Way': True}
2025-09-05 15:28:35,997 - app.core.logging - INFO - Returning result with show_flight_cards: True
2025-09-05 15:33:57,765 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-05 15:33:57,765 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-05 15:33:57,765 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-05 15:33:57,765 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-05 15:33:57,765 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-05 15:33:57,766 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-05 15:33:57,767 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-05 15:33:57,767 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-05 15:33:59,455 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 15:33:59,457 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 15:33:59,460 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 15:33:59,465 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 15:33:59,503 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-05 15:33:59,506 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-05 15:33:59,510 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-05 15:33:59,516 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-05 15:34:35,474 - app.core.logging - INFO - Received chat request: i want to go delhi to mumbai next monday...
2025-09-05 15:34:35,475 - app.core.logging - INFO - No existing flight data in session, fetching new data
2025-09-05 15:34:35,475 - app.core.logging - INFO - Processing flight search query: i want to go delhi to mumbai next monday
2025-09-05 15:34:35,476 - app.core.logging - INFO - Calling OpenAI with model: gpt-4o-mini
2025-09-05 15:34:35,476 - app.core.logging - INFO - System message: You are an assistant that helps extract flight information from user queries. Today is 2025-09-05. Extract the following details from the query: 1. location_origin: The departure city or airport, ensu...
2025-09-05 15:34:35,476 - app.core.logging - INFO - User message: i want to go delhi to mumbai next monday
2025-09-05 15:34:37,147 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 15:34:37,180 - app.core.logging - INFO - OpenAI response: {"location_origin": "DEL", "location_destination": "BOM", "departure_date": "2025-09-08", "adults": 1}
2025-09-05 15:34:37,180 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'DEL', 'location_destination': 'BOM', 'departure_date': '2025-09-08', 'adults': 1}
2025-09-05 15:34:44,893 - app.core.logging - INFO - Created dataframe with 12 flights
2025-09-05 15:34:44,945 - app.core.logging - INFO - Sending focused query to LLM (length: 2871 chars)
2025-09-05 15:34:52,506 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 15:34:52,512 - app.core.logging - INFO - LLM Response received (length: 1154 chars)
2025-09-05 15:34:52,518 - app.core.logging - INFO - Flight data prepared: True
2025-09-05 15:34:52,518 - app.core.logging - INFO - Flight data length: 12
2025-09-05 15:34:52,519 - app.core.logging - INFO - First flight record: {'Airline Code': 'AI', 'Airline Name': 'AIR INDIA', 'Departure': '2025-09-08T11:00:00', 'Arrival': '2025-09-08T11:50:00', 'Total Price': 4067.07, 'Currency': 'INR', 'Number of Stops': 1, 'Cabin': 'ECONOMY', 'One Way': True}
2025-09-05 15:34:52,519 - app.core.logging - INFO - Returning result with show_flight_cards: True
2025-09-05 15:39:09,938 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-05 15:39:09,938 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-05 15:39:09,939 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-05 15:39:09,939 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-05 15:39:09,941 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-05 15:39:09,942 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-05 15:39:09,944 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-05 15:39:09,945 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-05 15:39:11,782 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 15:39:11,786 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 15:39:11,826 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-05 15:39:11,832 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-05 15:39:11,854 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 15:39:11,856 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 15:39:11,903 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-05 15:39:11,903 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-05 15:41:06,603 - app.core.logging - INFO - Received chat request: i want to go delhi to mumbai next monday...
2025-09-05 15:41:06,603 - app.core.logging - INFO - No existing flight data in session, fetching new data
2025-09-05 15:41:06,604 - app.core.logging - INFO - Processing flight search query: i want to go delhi to mumbai next monday
2025-09-05 15:41:06,604 - app.core.logging - INFO - Calling OpenAI with model: gpt-4o-mini
2025-09-05 15:41:06,604 - app.core.logging - INFO - System message: You are an assistant that helps extract flight information from user queries. Today is 2025-09-05. Extract the following details from the query: 1. location_origin: The departure city or airport, ensu...
2025-09-05 15:41:06,604 - app.core.logging - INFO - User message: i want to go delhi to mumbai next monday
2025-09-05 15:41:11,285 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 15:41:11,318 - app.core.logging - INFO - OpenAI response: Next Monday is 2025-09-08. The airport codes for Delhi and Mumbai are DEL and BOM, respectively. 

Here is the extracted information in JSON format:

```json
{
  "location_origin": "DEL",
  "location_destination": "BOM",
  "departure_date": "2025-09-08",
  "adults": 1
}
```
2025-09-05 15:41:11,319 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'DEL', 'location_destination': 'BOM', 'departure_date': '2025-09-08', 'adults': 1}
2025-09-05 15:41:17,775 - app.core.logging - INFO - Created dataframe with 12 flights
2025-09-05 15:41:17,812 - app.core.logging - INFO - Sending focused query to LLM (length: 2871 chars)
2025-09-05 15:41:26,745 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 15:41:26,750 - app.core.logging - INFO - LLM Response received (length: 1228 chars)
2025-09-05 15:41:26,756 - app.core.logging - INFO - Flight data prepared: True
2025-09-05 15:41:26,756 - app.core.logging - INFO - Flight data length: 12
2025-09-05 15:41:26,756 - app.core.logging - INFO - First flight record: {'Airline Code': 'AI', 'Airline Name': 'AIR INDIA', 'Departure': '2025-09-08T11:00:00', 'Arrival': '2025-09-08T11:50:00', 'Total Price': 4067.07, 'Currency': 'INR', 'Number of Stops': 1, 'Cabin': 'ECONOMY', 'One Way': True}
2025-09-05 15:41:26,757 - app.core.logging - INFO - Returning result with show_flight_cards: True
2025-09-05 15:43:26,364 - app.core.logging - INFO - Received chat request: i want to go delhi to mumbai next monday...
2025-09-05 15:43:26,365 - app.core.logging - INFO - No existing flight data in session, fetching new data
2025-09-05 15:43:26,365 - app.core.logging - INFO - Processing flight search query: i want to go delhi to mumbai next monday
2025-09-05 15:43:26,365 - app.core.logging - INFO - Calling OpenAI with model: gpt-4o-mini
2025-09-05 15:43:26,366 - app.core.logging - INFO - System message: You are an assistant that helps extract flight information from user queries. Today is 2025-09-05. Extract the following details from the query: 1. location_origin: The departure city or airport, ensu...
2025-09-05 15:43:26,366 - app.core.logging - INFO - User message: i want to go delhi to mumbai next monday
2025-09-05 15:43:27,865 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 15:43:27,907 - app.core.logging - INFO - OpenAI response: {"location_origin": "DEL", "location_destination": "BOM", "departure_date": "2025-09-08", "adults": 1}
2025-09-05 15:43:27,908 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'DEL', 'location_destination': 'BOM', 'departure_date': '2025-09-08', 'adults': 1}
2025-09-05 15:43:33,933 - app.core.logging - INFO - Created dataframe with 12 flights
2025-09-05 15:43:33,972 - app.core.logging - INFO - Sending focused query to LLM (length: 2871 chars)
2025-09-05 15:43:41,810 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 15:43:41,815 - app.core.logging - INFO - LLM Response received (length: 1136 chars)
2025-09-05 15:43:41,820 - app.core.logging - INFO - Flight data prepared: True
2025-09-05 15:43:41,821 - app.core.logging - INFO - Flight data length: 12
2025-09-05 15:43:41,821 - app.core.logging - INFO - First flight record: {'Airline Code': 'AI', 'Airline Name': 'AIR INDIA', 'Departure': '2025-09-08T11:00:00', 'Arrival': '2025-09-08T11:50:00', 'Total Price': 4067.07, 'Currency': 'INR', 'Number of Stops': 1, 'Cabin': 'ECONOMY', 'One Way': True}
2025-09-05 15:43:41,821 - app.core.logging - INFO - Returning result with show_flight_cards: True
2025-09-05 18:02:31,011 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-05 18:02:31,011 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-05 18:02:31,015 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-05 18:02:31,015 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-05 18:02:31,024 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-05 18:02:31,024 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-05 18:02:31,026 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-05 18:02:31,026 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-05 18:02:32,110 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 18:02:32,140 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 18:02:32,141 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-05 18:02:32,141 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 18:02:32,156 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 18:02:32,169 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-05 18:02:32,170 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-05 18:02:32,184 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-05 18:20:12,500 - app.core.logging - INFO - Shutting down application
2025-09-05 18:20:12,500 - app.core.logging - INFO - Shutting down application
2025-09-05 18:20:12,506 - app.core.logging - INFO - Shutting down application
2025-09-05 18:20:12,507 - app.core.logging - INFO - Shutting down application
2025-09-05 19:25:44,312 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 19:25:44,312 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 19:25:44,312 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 19:25:44,312 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 19:25:44,341 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-05 19:25:44,341 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-05 19:25:44,341 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-05 19:25:44,341 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-05 19:26:13,332 - app.core.logging - INFO - Received chat request: i want to go from mumbai to delhi next monday...
2025-09-05 19:26:13,332 - app.core.logging - INFO - No existing flight data in session, fetching new data
2025-09-05 19:26:13,332 - app.core.logging - INFO - Processing flight search query: i want to go from mumbai to delhi next monday
2025-09-05 19:26:13,332 - app.core.logging - INFO - Calling OpenAI with model: gpt-4o-mini
2025-09-05 19:26:13,332 - app.core.logging - INFO - System message: You are an assistant that helps extract flight information from user queries. Today is 2025-09-05. Extract the following details from the query: 1. location_origin: The departure city or airport, ensu...
2025-09-05 19:26:13,332 - app.core.logging - INFO - User message: i want to go from mumbai to delhi next monday
2025-09-05 19:26:15,761 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 19:26:15,785 - app.core.logging - INFO - OpenAI response: Next Monday is 2025-09-08. The valid airport codes for Mumbai and Delhi are BOM and DEL, respectively. 

Here is the extracted information in JSON format:

```json
{
  "location_origin": "BOM",
  "location_destination": "DEL",
  "departure_date": "2025-09-08",
  "adults": 1
}
```
2025-09-05 19:26:15,786 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'BOM', 'location_destination': 'DEL', 'departure_date': '2025-09-08', 'adults': 1}
2025-09-05 19:26:25,695 - app.core.logging - INFO - Created dataframe with 14 flights
2025-09-05 19:26:25,711 - app.core.logging - INFO - Sending focused query to LLM (length: 2890 chars)
2025-09-05 19:26:34,191 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 19:26:34,201 - app.core.logging - INFO - LLM Response received (length: 1128 chars)
2025-09-05 19:26:34,207 - app.core.logging - INFO - Flight data prepared: True
2025-09-05 19:26:34,207 - app.core.logging - INFO - Flight data length: 14
2025-09-05 19:26:34,207 - app.core.logging - INFO - First flight record: {'Airline Code': 'AI', 'Airline Name': 'AIR INDIA', 'Departure': '2025-09-08T18:20:00', 'Arrival': '2025-09-08T19:35:00', 'Total Price': 3905.07, 'Currency': 'INR', 'Number of Stops': 1, 'Cabin': 'ECONOMY', 'One Way': True}
2025-09-05 19:26:34,207 - app.core.logging - INFO - Returning result with show_flight_cards: True
2025-09-05 19:44:34,913 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-05 19:44:34,913 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-05 19:44:35,865 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 19:44:35,880 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 19:44:35,897 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 19:44:35,928 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-05 19:44:35,929 - app.core.logging - INFO - Shutting down application
2025-09-05 19:44:43,821 - app.core.logging - INFO - Shutting down application
2025-09-05 19:44:43,822 - app.core.logging - INFO - Shutting down application
2025-09-05 19:44:43,845 - app.core.logging - INFO - Shutting down application
2025-09-05 19:44:43,890 - app.core.logging - INFO - Shutting down application
2025-09-05 19:44:45,362 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 19:44:45,381 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 19:44:45,388 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 19:44:45,407 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 19:44:45,418 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 19:44:45,436 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 19:44:45,440 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 19:44:45,451 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-05 19:44:45,465 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 19:44:45,468 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-05 19:44:45,490 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 19:44:45,516 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-05 19:44:45,801 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 19:44:45,816 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 19:44:45,833 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 19:44:45,852 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-05 19:45:07,102 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-05 19:45:07,102 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-05 19:45:07,831 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 19:45:07,846 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 19:45:07,864 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 19:45:07,885 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-05 19:45:37,850 - app.core.logging - INFO - Received chat request: i want hotel in mumbai in less price...
2025-09-05 19:45:37,851 - app.core.logging - INFO - Query type detection - Hotel score: 1, Flight score: 0
2025-09-05 19:45:37,851 - app.core.logging - INFO - Detected query type: hotel
2025-09-05 19:45:37,851 - app.core.logging - INFO - No existing hotel data in session, fetching new data
2025-09-05 19:45:37,851 - app.core.logging - INFO - Processing hotel search query: i want hotel in mumbai in less price
2025-09-05 19:45:37,851 - app.core.logging - INFO - Calling OpenAI for hotel query extraction
2025-09-05 19:45:39,938 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 19:45:39,947 - app.core.logging - INFO - OpenAI response: {"location": "Mumbai", "check_in_date": "2025-09-05", "check_out_date": "2025-09-06", "adults": 1, "rooms": 1, "price_range": "cheap", "amenities": [], "hotel_rating": null}
2025-09-05 19:45:39,947 - app.core.logging - INFO - Extracted hotel info: {'location': 'Mumbai', 'check_in_date': '2025-09-05', 'check_out_date': '2025-09-06', 'adults': 1, 'rooms': 1, 'price_range': 'cheap', 'amenities': [], 'hotel_rating': None}
2025-09-05 19:45:55,012 - app.core.logging - INFO - Created dataframe with 1 hotels
2025-09-05 19:45:55,014 - app.core.logging - INFO - Sending hotel query to LLM (length: 2874 chars)
2025-09-05 19:46:00,422 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 19:46:00,432 - app.core.logging - INFO - Hotel LLM Response received (length: 866 chars)
2025-09-05 19:47:00,314 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 19:47:00,334 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 19:47:00,337 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 19:47:00,356 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 19:47:00,362 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 19:47:00,362 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 19:47:00,376 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 19:47:00,380 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 19:47:00,384 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 19:47:00,389 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-05 19:47:00,397 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 19:47:00,406 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-05 19:47:00,408 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 19:47:00,420 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 19:47:00,432 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-05 19:47:00,442 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-05 19:58:24,504 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 19:58:24,509 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 19:58:24,512 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 19:58:24,523 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 19:58:24,527 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 19:58:24,532 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 19:58:24,537 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 19:58:24,558 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 19:58:24,558 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 19:58:24,561 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 19:58:24,567 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 19:58:24,594 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-05 19:58:24,595 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-05 19:58:24,600 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 19:58:24,602 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-05 19:58:24,634 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-05 19:59:48,574 - app.core.logging - INFO - Received chat request: i want hotel in mumbai can you please show me the ...
2025-09-05 19:59:48,574 - app.core.logging - INFO - Query type detection - Hotel score: 1, Flight score: 0
2025-09-05 19:59:48,574 - app.core.logging - INFO - Detected query type: hotel
2025-09-05 19:59:48,574 - app.core.logging - INFO - No existing hotel data in session, fetching new data
2025-09-05 19:59:48,574 - app.core.logging - INFO - Processing hotel search query: i want hotel in mumbai can you please show me the cheapest ones for next friday
2025-09-05 19:59:48,574 - app.core.logging - INFO - Calling OpenAI for hotel query extraction
2025-09-05 19:59:50,975 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 19:59:50,993 - app.core.logging - INFO - OpenAI response: {"location": "Mumbai", "check_in_date": "2025-09-12", "check_out_date": "2025-09-13", "adults": 1, "rooms": 1, "price_range": "cheap", "amenities": [], "hotel_rating": null}
2025-09-05 19:59:50,993 - app.core.logging - INFO - Extracted hotel info: {'location': 'Mumbai', 'check_in_date': '2025-09-12', 'check_out_date': '2025-09-13', 'adults': 1, 'rooms': 1, 'price_range': 'cheap', 'amenities': [], 'hotel_rating': None}
2025-09-05 20:00:10,247 - app.core.logging - INFO - Created dataframe with 1 hotels
2025-09-05 20:00:10,250 - app.core.logging - INFO - Sending hotel query to LLM (length: 2959 chars)
2025-09-05 20:00:14,752 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 20:00:14,753 - app.core.logging - INFO - Hotel LLM Response received (length: 888 chars)
2025-09-05 20:03:42,238 - app.core.logging - INFO - Received chat request: i want to go delhi to mumbai next froday...
2025-09-05 20:03:42,239 - app.core.logging - INFO - Query type detection - Hotel score: 0, Flight score: 0
2025-09-05 20:03:42,239 - app.core.logging - INFO - Detected query type: flight
2025-09-05 20:03:42,239 - app.core.logging - INFO - No existing flight data in session, fetching new data
2025-09-05 20:03:42,239 - app.core.logging - INFO - Processing flight search query: i want to go delhi to mumbai next froday
2025-09-05 20:03:42,239 - app.core.logging - INFO - Calling OpenAI with model: gpt-4o-mini
2025-09-05 20:03:42,239 - app.core.logging - INFO - System message: You are an assistant that helps extract flight information from user queries. Today is 2025-09-05. Extract the following details from the query: 1. location_origin: The departure city or airport, ensu...
2025-09-05 20:03:42,239 - app.core.logging - INFO - User message: i want to go delhi to mumbai next froday
2025-09-05 20:03:47,278 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 20:03:47,353 - app.core.logging - INFO - OpenAI response: To determine the date for "next Friday," we need to find the next occurrence of Friday from today's date, which is September 5, 2025. The next Friday will be September 12, 2025.

Now, let's extract the flight information:

1. location_origin: DEL (Indira Gandhi International Airport, Delhi)
2. location_destination: BOM (Chhatrapati Shivaji Maharaj International Airport, Mumbai)
3. departure_date: 2025-09-12
4. adults: 1 (since no specific number of adults was mentioned)

Here is the information in JSON format:

```json
{
  "location_origin": "DEL",
  "location_destination": "BOM",
  "departure_date": "2025-09-12",
  "adults": 1
}
```
2025-09-05 20:03:47,355 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'DEL', 'location_destination': 'BOM', 'departure_date': '2025-09-12', 'adults': 1}
2025-09-05 20:04:02,417 - app.core.logging - INFO - Created dataframe with 12 flights
2025-09-05 20:04:02,432 - app.core.logging - INFO - Sending focused query to LLM (length: 2877 chars)
2025-09-05 20:04:09,168 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 20:04:09,184 - app.core.logging - INFO - LLM Response received (length: 1173 chars)
2025-09-05 20:04:43,263 - app.core.logging - ERROR - Error clearing session: 404: Session not found
2025-09-05 20:05:21,224 - app.core.logging - INFO - Received chat request: i want a cheap hotel in mumbai for next weekend fo...
2025-09-05 20:05:21,224 - app.core.logging - INFO - Query type detection - Hotel score: 1, Flight score: 0
2025-09-05 20:05:21,225 - app.core.logging - INFO - Detected query type: hotel
2025-09-05 20:05:21,225 - app.core.logging - INFO - No existing hotel data in session, fetching new data
2025-09-05 20:05:21,225 - app.core.logging - INFO - Processing hotel search query: i want a cheap hotel in mumbai for next weekend for 2 days
2025-09-05 20:05:21,225 - app.core.logging - INFO - Calling OpenAI for hotel query extraction
2025-09-05 20:05:22,879 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 20:05:22,898 - app.core.logging - INFO - OpenAI response: {"location": "mumbai", "check_in_date": "2025-09-12", "check_out_date": "2025-09-14", "adults": 1, "rooms": 1, "price_range": "cheap", "amenities": [], "hotel_rating": null}
2025-09-05 20:05:22,899 - app.core.logging - INFO - Extracted hotel info: {'location': 'mumbai', 'check_in_date': '2025-09-12', 'check_out_date': '2025-09-14', 'adults': 1, 'rooms': 1, 'price_range': 'cheap', 'amenities': [], 'hotel_rating': None}
2025-09-05 20:05:46,015 - app.core.logging - INFO - Created dataframe with 2 hotels
2025-09-05 20:05:46,020 - app.core.logging - INFO - Sending hotel query to LLM (length: 2997 chars)
2025-09-05 20:05:51,643 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 20:05:51,647 - app.core.logging - INFO - Hotel LLM Response received (length: 1101 chars)
2025-09-05 20:06:22,965 - app.core.logging - ERROR - Error clearing session: 404: Session not found
2025-09-05 20:07:08,515 - app.core.logging - INFO - Received chat request: i want hotel in mumbai for next weekend...
2025-09-05 20:07:08,515 - app.core.logging - INFO - Query type detection - Hotel score: 1, Flight score: 0
2025-09-05 20:07:08,515 - app.core.logging - INFO - Detected query type: hotel
2025-09-05 20:07:08,515 - app.core.logging - INFO - No existing hotel data in session, fetching new data
2025-09-05 20:07:08,515 - app.core.logging - INFO - Processing hotel search query: i want hotel in mumbai for next weekend
2025-09-05 20:07:08,515 - app.core.logging - INFO - Calling OpenAI for hotel query extraction
2025-09-05 20:07:10,263 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 20:07:10,280 - app.core.logging - INFO - OpenAI response: {"location": "Mumbai", "check_in_date": "2025-09-13", "check_out_date": "2025-09-14", "adults": 1, "rooms": 1, "price_range": "moderate", "amenities": [], "hotel_rating": null}
2025-09-05 20:07:10,280 - app.core.logging - INFO - Extracted hotel info: {'location': 'Mumbai', 'check_in_date': '2025-09-13', 'check_out_date': '2025-09-14', 'adults': 1, 'rooms': 1, 'price_range': 'moderate', 'amenities': [], 'hotel_rating': None}
2025-09-05 20:07:25,941 - app.core.logging - INFO - Created dataframe with 3 hotels
2025-09-05 20:07:25,944 - app.core.logging - INFO - Sending hotel query to LLM (length: 3048 chars)
2025-09-05 20:07:38,729 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 20:07:38,731 - app.core.logging - INFO - Hotel LLM Response received (length: 1445 chars)
2025-09-05 21:57:59,469 - app.core.logging - INFO - Shutting down application
2025-09-05 22:03:36,613 - app.core.logging - INFO - Shutting down application
2025-09-05 22:03:36,613 - app.core.logging - INFO - Shutting down application
2025-09-05 22:03:36,619 - app.core.logging - INFO - Shutting down application
2025-09-05 22:03:36,639 - app.core.logging - INFO - Shutting down application
2025-09-05 22:09:56,083 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-05 22:09:56,083 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-05 22:09:56,084 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-05 22:09:56,084 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-05 22:09:56,092 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-05 22:09:56,092 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-05 22:09:56,133 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-05 22:09:56,133 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-05 22:09:57,384 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:09:57,410 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:09:57,412 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:09:57,438 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:09:57,443 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:09:57,467 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:09:57,469 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:09:57,469 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:09:57,494 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-05 22:09:57,494 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:09:57,496 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:09:57,511 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-05 22:09:57,525 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:09:57,530 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:09:57,566 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-05 22:09:57,572 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-05 22:17:06,386 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:17:06,426 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:17:06,445 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:17:06,471 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:17:06,481 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:17:06,495 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:17:06,506 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:17:06,516 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:17:06,551 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:17:06,566 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:17:06,575 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:17:06,621 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:17:06,655 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-05 22:17:06,728 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-05 22:17:06,743 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-05 22:17:06,777 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-05 22:17:08,374 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:17:08,425 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:17:08,479 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:17:25,507 - app.core.logging - INFO - Creating simple travel plan for query: Plan a romantic weekend trip from Bangalore to Goa for 2 adults
2025-09-05 22:17:25,576 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:17:25,653 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:17:25,705 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:17:25,818 - app.core.logging - INFO - Creating complete itinerary for query: Plan a romantic weekend trip from Bangalore to Goa for 2 adults
2025-09-05 22:17:25,818 - app.core.logging - INFO - Parsing travel query: Plan a romantic weekend trip from Bangalore to Goa for 2 adults
2025-09-05 22:17:29,335 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 22:17:29,383 - app.core.logging - INFO - OpenAI parsing response: {
  "origin_city": "Bangalore",
  "destination_city": "Goa",
  "departure_date": "2025-09-06",
  "return_date": "2025-09-07",
  "duration_days": 2,
  "travelers": 2,
  "travel_type": "romantic",
  "budget_preference": "moderate",
  "accommodation_preference": "any",
  "interests": [],
  "special_requirements": [],
  "transportation_preference": null
}
2025-09-05 22:17:29,384 - app.core.logging - INFO - Parsed travel data: {'origin_city': 'Bangalore', 'destination_city': 'Goa', 'departure_date': '2025-09-06', 'return_date': '2025-09-07', 'duration_days': 2, 'travelers': 2, 'travel_type': 'romantic', 'budget_preference': 'moderate', 'accommodation_preference': 'any', 'interests': [], 'special_requirements': [], 'transportation_preference': None}
2025-09-05 22:17:29,384 - app.core.logging - INFO - Processing flight search query: Flight from Bangalore to Goa on 2025-09-06 for 2 adults
2025-09-05 22:17:29,385 - app.core.logging - INFO - Calling OpenAI with model: gpt-4o-mini
2025-09-05 22:17:29,385 - app.core.logging - INFO - System message: You are an assistant that helps extract flight information from user queries. Today is 2025-09-05. Extract the following details from the query: 1. location_origin: The departure city or airport, ensu...
2025-09-05 22:17:29,385 - app.core.logging - INFO - User message: Flight from Bangalore to Goa on 2025-09-06 for 2 adults
2025-09-05 22:17:30,978 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 22:17:30,984 - app.core.logging - INFO - OpenAI response: {"location_origin": "BLR", "location_destination": "GOI", "departure_date": "2025-09-06", "adults": 2}
2025-09-05 22:17:30,985 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'BLR', 'location_destination': 'GOI', 'departure_date': '2025-09-06', 'adults': 2}
2025-09-05 22:17:38,420 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:17:38,470 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:17:38,501 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:17:47,246 - app.core.logging - INFO - Created dataframe with 15 flights
2025-09-05 22:17:47,249 - app.core.logging - INFO - Processing flight search query: Flight from Goa to Bangalore on 2025-09-07 for 2 adults
2025-09-05 22:17:47,249 - app.core.logging - INFO - Calling OpenAI with model: gpt-4o-mini
2025-09-05 22:17:47,249 - app.core.logging - INFO - System message: You are an assistant that helps extract flight information from user queries. Today is 2025-09-05. Extract the following details from the query: 1. location_origin: The departure city or airport, ensu...
2025-09-05 22:17:47,250 - app.core.logging - INFO - User message: Flight from Goa to Bangalore on 2025-09-07 for 2 adults
2025-09-05 22:17:48,889 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 22:17:48,905 - app.core.logging - INFO - OpenAI response: {"location_origin": "GOI", "location_destination": "BLR", "departure_date": "2025-09-07", "adults": 2}
2025-09-05 22:17:48,905 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'GOI', 'location_destination': 'BLR', 'departure_date': '2025-09-07', 'adults': 2}
2025-09-05 22:18:08,377 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:18:08,409 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:18:08,441 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:18:08,967 - app.core.logging - INFO - Created dataframe with 15 flights
2025-09-05 22:18:08,971 - app.core.logging - INFO - Processing hotel search query: Hotels in Goa from 2025-09-06 to 2025-09-07 for 2 adults, 1 rooms
2025-09-05 22:18:08,971 - app.core.logging - INFO - Calling OpenAI for hotel query extraction
2025-09-05 22:18:12,031 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 22:18:12,045 - app.core.logging - INFO - OpenAI response: ```json
{
  "location": "Goa",
  "check_in_date": "2025-09-06",
  "check_out_date": "2025-09-07",
  "adults": 2,
  "rooms": 1,
  "price_range": "moderate",
  "amenities": [],
  "hotel_rating": null
}
```
2025-09-05 22:18:12,045 - app.core.logging - INFO - Extracted hotel info: {'location': 'Goa', 'check_in_date': '2025-09-06', 'check_out_date': '2025-09-07', 'adults': 2, 'rooms': 1, 'price_range': 'moderate', 'amenities': [], 'hotel_rating': None}
2025-09-05 22:18:31,590 - app.core.logging - ERROR - No hotels found or error in forming dataframe
2025-09-05 22:18:36,210 - app.core.logging - ERROR - Error getting attractions: 'Locations' object has no attribute 'points_of_interest'
2025-09-05 22:18:38,406 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:18:38,452 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:18:38,483 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:18:53,866 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 22:19:07,531 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 22:19:07,544 - app.core.logging - INFO - Successfully created simple travel itinerary
2025-09-05 22:19:08,380 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:19:08,409 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:19:08,437 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:19:38,390 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:19:38,425 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:19:38,458 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:20:08,387 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:20:08,414 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:20:08,441 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:20:38,353 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:20:38,380 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:20:38,407 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:21:08,373 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:21:08,407 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:21:08,467 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:21:38,418 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:21:38,452 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:21:38,483 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:22:08,390 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:22:08,511 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:22:08,599 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:22:38,389 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:22:38,423 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:22:38,452 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:22:47,496 - app.core.logging - INFO - Shutting down application
2025-09-05 22:22:47,547 - app.core.logging - INFO - Shutting down application
2025-09-05 22:22:47,555 - app.core.logging - INFO - Shutting down application
2025-09-05 22:22:47,584 - app.core.logging - INFO - Shutting down application
2025-09-05 22:22:53,908 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-05 22:22:53,908 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-05 22:22:53,908 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-05 22:22:53,908 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-05 22:22:53,911 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-05 22:22:53,911 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-05 22:22:53,943 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-05 22:22:53,943 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-05 22:22:55,983 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:22:56,007 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:22:56,009 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:22:56,016 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:22:56,046 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:22:56,047 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:22:56,055 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:22:56,062 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:22:56,090 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:22:56,094 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:22:56,098 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:22:56,125 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-05 22:22:56,135 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:22:56,142 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-05 22:22:56,158 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-05 22:22:56,195 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-05 22:23:08,300 - app.core.logging - INFO - Initializing OptimizedTravelService (singleton)
2025-09-05 22:23:08,408 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:23:08,437 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:23:24,343 - app.core.logging - INFO - Initializing OptimizedTravelService (singleton)
2025-09-05 22:23:24,385 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:23:24,421 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:23:24,505 - app.core.logging - INFO - Creating simple travel plan for query: Plan a romantic weekend trip from Bangalore to Goa for 2 adults
2025-09-05 22:23:24,506 - app.core.logging - INFO - Creating optimized travel plan for query: Plan a romantic weekend trip from Bangalore to Goa for 2 adults
2025-09-05 22:23:24,506 - app.core.logging - INFO - Parsing travel query: Plan a romantic weekend trip from Bangalore to Goa for 2 adults
2025-09-05 22:23:26,151 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 22:23:26,194 - app.core.logging - INFO - Successfully parsed travel query: {'origin_city': 'Bangalore', 'destination_city': 'Goa', 'departure_date': '2025-09-06', 'travelers': 2, 'travel_type': 'romantic weekend trip', 'duration_days': 2, 'return_date': '2025-09-08'}
2025-09-05 22:23:26,194 - app.core.logging - INFO - Searching flights...
2025-09-05 22:23:26,195 - app.core.logging - INFO - Processing flight search query: Flight from Bangalore to Goa on 2025-09-06 for 2 adults
2025-09-05 22:23:26,195 - app.core.logging - INFO - Calling OpenAI with model: gpt-4o-mini
2025-09-05 22:23:26,196 - app.core.logging - INFO - System message: You are an assistant that helps extract flight information from user queries. Today is 2025-09-05. Extract the following details from the query: 1. location_origin: The departure city or airport, ensu...
2025-09-05 22:23:26,197 - app.core.logging - INFO - User message: Flight from Bangalore to Goa on 2025-09-06 for 2 adults
2025-09-05 22:23:27,528 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 22:23:27,545 - app.core.logging - INFO - OpenAI response: {"location_origin": "BLR", "location_destination": "GOI", "departure_date": "2025-09-06", "adults": 2}
2025-09-05 22:23:27,546 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'BLR', 'location_destination': 'GOI', 'departure_date': '2025-09-06', 'adults': 2}
2025-09-05 22:23:38,299 - app.core.logging - INFO - Initializing OptimizedTravelService (singleton)
2025-09-05 22:23:38,393 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:23:38,452 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:23:41,080 - app.core.logging - INFO - Created dataframe with 15 flights
2025-09-05 22:23:41,085 - app.core.logging - INFO - Processing flight search query: Flight from Goa to Bangalore on 2025-09-08 for 2 adults
2025-09-05 22:23:41,085 - app.core.logging - INFO - Calling OpenAI with model: gpt-4o-mini
2025-09-05 22:23:41,085 - app.core.logging - INFO - System message: You are an assistant that helps extract flight information from user queries. Today is 2025-09-05. Extract the following details from the query: 1. location_origin: The departure city or airport, ensu...
2025-09-05 22:23:41,085 - app.core.logging - INFO - User message: Flight from Goa to Bangalore on 2025-09-08 for 2 adults
2025-09-05 22:23:42,380 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 22:23:42,420 - app.core.logging - INFO - OpenAI response: {"location_origin": "GOI", "location_destination": "BLR", "departure_date": "2025-09-08", "adults": 2}
2025-09-05 22:23:42,421 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'GOI', 'location_destination': 'BLR', 'departure_date': '2025-09-08', 'adults': 2}
2025-09-05 22:23:48,014 - app.core.logging - INFO - Created dataframe with 14 flights
2025-09-05 22:23:48,021 - app.core.logging - INFO - Searching hotels...
2025-09-05 22:23:48,022 - app.core.logging - INFO - Processing hotel search query: Hotels in Goa from 2025-09-06 to 2025-09-08 for 2 adults
2025-09-05 22:23:48,022 - app.core.logging - INFO - Calling OpenAI for hotel query extraction
2025-09-05 22:23:50,196 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 22:23:50,209 - app.core.logging - INFO - OpenAI response: ```json
{
  "location": "Goa",
  "check_in_date": "2025-09-06",
  "check_out_date": "2025-09-08",
  "adults": 2,
  "rooms": 1,
  "price_range": "moderate",
  "amenities": [],
  "hotel_rating": null
}
```
2025-09-05 22:23:50,209 - app.core.logging - INFO - Extracted hotel info: {'location': 'Goa', 'check_in_date': '2025-09-06', 'check_out_date': '2025-09-08', 'adults': 2, 'rooms': 1, 'price_range': 'moderate', 'amenities': [], 'hotel_rating': None}
2025-09-05 22:23:56,356 - app.core.logging - INFO - Created dataframe with 1 hotels
2025-09-05 22:23:56,359 - app.core.logging - INFO - Getting attractions and dining...
2025-09-05 22:24:03,812 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 22:24:11,826 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 22:24:11,834 - app.core.logging - INFO - Creating itinerary...
2025-09-05 22:24:27,726 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 22:24:27,731 - app.core.logging - INFO - Successfully created optimized travel plan
2025-09-05 22:24:27,731 - app.core.logging - ERROR - Error creating simple travel plan: 'data'
2025-09-05 22:24:27,733 - app.core.logging - ERROR - Traceback: Traceback (most recent call last):
  File "/home/vineet/Desktop/projects/booking_agent/Gen_AI/app/api/travel_itinerary.py", line 82, in create_simple_travel_plan
    data = result['data']
           ~~~~~~^^^^^^^^
KeyError: 'data'

2025-09-05 22:27:09,100 - app.core.logging - INFO - Creating simple travel plan for query: Plan a weekend trip from Mumbai to Delhi for 2 people
2025-09-05 22:27:09,100 - app.core.logging - INFO - Creating optimized travel plan for query: Plan a weekend trip from Mumbai to Delhi for 2 people
2025-09-05 22:27:09,100 - app.core.logging - INFO - Parsing travel query: Plan a weekend trip from Mumbai to Delhi for 2 people
2025-09-05 22:27:11,466 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 22:27:11,483 - app.core.logging - INFO - Successfully parsed travel query: {'origin_city': 'Mumbai', 'destination_city': 'Delhi', 'departure_date': '2025-09-06', 'travelers': 2, 'travel_type': 'weekend', 'duration_days': 2, 'return_date': '2025-09-08'}
2025-09-05 22:27:11,484 - app.core.logging - INFO - Searching flights...
2025-09-05 22:27:11,485 - app.core.logging - INFO - Processing flight search query: Flight from Mumbai to Delhi on 2025-09-06 for 2 adults
2025-09-05 22:27:11,485 - app.core.logging - INFO - Calling OpenAI with model: gpt-4o-mini
2025-09-05 22:27:11,486 - app.core.logging - INFO - System message: You are an assistant that helps extract flight information from user queries. Today is 2025-09-05. Extract the following details from the query: 1. location_origin: The departure city or airport, ensu...
2025-09-05 22:27:11,486 - app.core.logging - INFO - User message: Flight from Mumbai to Delhi on 2025-09-06 for 2 adults
2025-09-05 22:27:13,031 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 22:27:13,034 - app.core.logging - INFO - OpenAI response: {"location_origin": "BOM", "location_destination": "DEL", "departure_date": "2025-09-06", "adults": 2}
2025-09-05 22:27:13,035 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'BOM', 'location_destination': 'DEL', 'departure_date': '2025-09-06', 'adults': 2}
2025-09-05 22:27:18,953 - app.core.logging - INFO - Created dataframe with 13 flights
2025-09-05 22:27:18,957 - app.core.logging - INFO - Processing flight search query: Flight from Delhi to Mumbai on 2025-09-08 for 2 adults
2025-09-05 22:27:18,957 - app.core.logging - INFO - Calling OpenAI with model: gpt-4o-mini
2025-09-05 22:27:18,957 - app.core.logging - INFO - System message: You are an assistant that helps extract flight information from user queries. Today is 2025-09-05. Extract the following details from the query: 1. location_origin: The departure city or airport, ensu...
2025-09-05 22:27:18,958 - app.core.logging - INFO - User message: Flight from Delhi to Mumbai on 2025-09-08 for 2 adults
2025-09-05 22:27:20,971 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 22:27:20,974 - app.core.logging - INFO - OpenAI response: {"location_origin": "DEL", "location_destination": "BOM", "departure_date": "2025-09-08", "adults": 2}
2025-09-05 22:27:20,975 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'DEL', 'location_destination': 'BOM', 'departure_date': '2025-09-08', 'adults': 2}
2025-09-05 22:27:38,300 - app.core.logging - INFO - Created dataframe with 13 flights
2025-09-05 22:27:38,304 - app.core.logging - INFO - Searching hotels...
2025-09-05 22:27:38,304 - app.core.logging - INFO - Processing hotel search query: Hotels in Delhi from 2025-09-06 to 2025-09-08 for 2 adults
2025-09-05 22:27:38,305 - app.core.logging - INFO - Calling OpenAI for hotel query extraction
2025-09-05 22:27:40,167 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 22:27:40,186 - app.core.logging - INFO - OpenAI response: ```json
{
  "location": "Delhi",
  "check_in_date": "2025-09-06",
  "check_out_date": "2025-09-08",
  "adults": 2,
  "rooms": 1,
  "price_range": "moderate",
  "amenities": [],
  "hotel_rating": null
}
```
2025-09-05 22:27:40,187 - app.core.logging - INFO - Extracted hotel info: {'location': 'Delhi', 'check_in_date': '2025-09-06', 'check_out_date': '2025-09-08', 'adults': 2, 'rooms': 1, 'price_range': 'moderate', 'amenities': [], 'hotel_rating': None}
2025-09-05 22:28:08,303 - app.core.logging - INFO - Initializing OptimizedTravelService (singleton)
2025-09-05 22:28:08,396 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:28:08,428 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:28:11,573 - app.core.logging - ERROR - No hotels found or error in forming dataframe
2025-09-05 22:28:11,573 - app.core.logging - INFO - Getting attractions and dining...
2025-09-05 22:28:23,858 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 22:28:32,236 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 22:28:32,253 - app.core.logging - INFO - Creating itinerary...
2025-09-05 22:28:47,619 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 22:28:47,624 - app.core.logging - INFO - Successfully created optimized travel plan
2025-09-05 22:28:47,625 - app.core.logging - ERROR - Error creating simple travel plan: 'data'
2025-09-05 22:28:47,626 - app.core.logging - ERROR - Traceback: Traceback (most recent call last):
  File "/home/vineet/Desktop/projects/booking_agent/Gen_AI/app/api/travel_itinerary.py", line 82, in create_simple_travel_plan
    # Handle both old and new response formats
           ^^^^^^^^^^^^^^
KeyError: 'data'

2025-09-05 22:28:56,093 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:28:56,096 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:28:56,128 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:28:56,134 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:28:56,142 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:28:56,172 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:28:56,182 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:28:56,186 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:28:56,189 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:28:56,231 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:28:56,231 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:28:56,292 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:28:56,325 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-05 22:28:56,337 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-05 22:28:56,386 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-05 22:28:56,437 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-05 22:29:08,302 - app.core.logging - INFO - Initializing OptimizedTravelService (singleton)
2025-09-05 22:29:08,393 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:29:08,422 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:29:19,785 - app.core.logging - INFO - Initializing OptimizedTravelService (singleton)
2025-09-05 22:29:19,913 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:29:20,013 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:29:24,491 - app.core.logging - INFO - Creating simple travel plan for query: Family vacation from Pune to Jaipur next month for 4 days, 4 people
2025-09-05 22:29:24,491 - app.core.logging - INFO - Creating optimized travel plan for query: Family vacation from Pune to Jaipur next month for 4 days, 4 people
2025-09-05 22:29:24,491 - app.core.logging - INFO - Parsing travel query: Family vacation from Pune to Jaipur next month for 4 days, 4 people
2025-09-05 22:29:26,029 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 22:29:26,061 - app.core.logging - INFO - Successfully parsed travel query: {'origin_city': 'Pune', 'destination_city': 'Jaipur', 'departure_date': '2025-10-05', 'travelers': 4, 'travel_type': 'family vacation', 'duration_days': 4, 'return_date': '2025-10-09'}
2025-09-05 22:29:26,061 - app.core.logging - INFO - Searching flights...
2025-09-05 22:29:26,061 - app.core.logging - INFO - Processing flight search query: Flight from Pune to Jaipur on 2025-10-05 for 4 adults
2025-09-05 22:29:26,062 - app.core.logging - INFO - Calling OpenAI with model: gpt-4o-mini
2025-09-05 22:29:26,062 - app.core.logging - INFO - System message: You are an assistant that helps extract flight information from user queries. Today is 2025-09-05. Extract the following details from the query: 1. location_origin: The departure city or airport, ensu...
2025-09-05 22:29:26,062 - app.core.logging - INFO - User message: Flight from Pune to Jaipur on 2025-10-05 for 4 adults
2025-09-05 22:29:27,254 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 22:29:27,269 - app.core.logging - INFO - OpenAI response: {"location_origin": "PNQ", "location_destination": "JAI", "departure_date": "2025-10-05", "adults": 4}
2025-09-05 22:29:27,269 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'PNQ', 'location_destination': 'JAI', 'departure_date': '2025-10-05', 'adults': 4}
2025-09-05 22:29:33,099 - app.core.logging - INFO - Created dataframe with 18 flights
2025-09-05 22:29:33,104 - app.core.logging - INFO - Processing flight search query: Flight from Jaipur to Pune on 2025-10-09 for 4 adults
2025-09-05 22:29:33,105 - app.core.logging - INFO - Calling OpenAI with model: gpt-4o-mini
2025-09-05 22:29:33,105 - app.core.logging - INFO - System message: You are an assistant that helps extract flight information from user queries. Today is 2025-09-05. Extract the following details from the query: 1. location_origin: The departure city or airport, ensu...
2025-09-05 22:29:33,105 - app.core.logging - INFO - User message: Flight from Jaipur to Pune on 2025-10-09 for 4 adults
2025-09-05 22:29:34,284 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 22:29:34,305 - app.core.logging - INFO - OpenAI response: {"location_origin": "JAI", "location_destination": "PNQ", "departure_date": "2025-10-09", "adults": 4}
2025-09-05 22:29:34,305 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'JAI', 'location_destination': 'PNQ', 'departure_date': '2025-10-09', 'adults': 4}
2025-09-05 22:29:38,298 - app.core.logging - INFO - Initializing OptimizedTravelService (singleton)
2025-09-05 22:29:38,425 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:29:38,488 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:29:43,199 - app.core.logging - INFO - Created dataframe with 16 flights
2025-09-05 22:29:43,203 - app.core.logging - INFO - Searching hotels...
2025-09-05 22:29:43,203 - app.core.logging - INFO - Processing hotel search query: Hotels in Jaipur from 2025-10-05 to 2025-10-09 for 4 adults
2025-09-05 22:29:43,203 - app.core.logging - INFO - Calling OpenAI for hotel query extraction
2025-09-05 22:29:45,791 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 22:29:45,804 - app.core.logging - INFO - OpenAI response: ```json
{
  "location": "Jaipur",
  "check_in_date": "2025-10-05",
  "check_out_date": "2025-10-09",
  "adults": 4,
  "rooms": 1,
  "price_range": "moderate",
  "amenities": [],
  "hotel_rating": null
}
```
2025-09-05 22:29:45,804 - app.core.logging - INFO - Extracted hotel info: {'location': 'Jaipur', 'check_in_date': '2025-10-05', 'check_out_date': '2025-10-09', 'adults': 4, 'rooms': 1, 'price_range': 'moderate', 'amenities': [], 'hotel_rating': None}
2025-09-05 22:29:49,789 - app.core.logging - INFO - Initializing OptimizedTravelService (singleton)
2025-09-05 22:29:49,860 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:29:49,894 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:29:50,524 - app.core.logging - ERROR - Hotel search error: [400]
[hotelIds=DHJAIALA,TJJAIRAL,YXJAIRRS,YXJAISPO] Provider Error - INVALID PROPERTY CODE
2025-09-05 22:29:50,525 - app.core.logging - ERROR - No hotels found or error in forming dataframe
2025-09-05 22:29:50,525 - app.core.logging - INFO - Getting attractions and dining...
2025-09-05 22:29:59,413 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 22:30:08,556 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 22:30:08,582 - app.core.logging - INFO - Creating itinerary...
2025-09-05 22:30:32,352 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 22:30:32,374 - app.core.logging - INFO - Successfully created optimized travel plan
2025-09-05 22:30:32,375 - app.core.logging - ERROR - Error creating simple travel plan: 'attractions'
2025-09-05 22:30:32,377 - app.core.logging - ERROR - Traceback: Traceback (most recent call last):
  File "/home/vineet/Desktop/projects/booking_agent/Gen_AI/app/api/travel_itinerary.py", line 104, in create_simple_travel_plan
    "must_visit": data['attractions']['attractions'][:5],
                  ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
KeyError: 'attractions'

2025-09-05 22:35:09,608 - app.core.logging - INFO - Creating simple travel plan for query: Weekend trip from Mumbai to Delhi for 2 people
2025-09-05 22:35:09,608 - app.core.logging - INFO - Creating optimized travel plan for query: Weekend trip from Mumbai to Delhi for 2 people
2025-09-05 22:35:09,609 - app.core.logging - INFO - Parsing travel query: Weekend trip from Mumbai to Delhi for 2 people
2025-09-05 22:35:11,381 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 22:35:11,427 - app.core.logging - INFO - Successfully parsed travel query: {'origin_city': 'Mumbai', 'destination_city': 'Delhi', 'departure_date': '2025-09-06', 'travelers': 2, 'travel_type': 'weekend trip', 'duration_days': 2, 'return_date': '2025-09-08'}
2025-09-05 22:35:11,428 - app.core.logging - INFO - Searching flights...
2025-09-05 22:35:11,428 - app.core.logging - INFO - Processing flight search query: Flight from Mumbai to Delhi on 2025-09-06 for 2 adults
2025-09-05 22:35:11,428 - app.core.logging - INFO - Calling OpenAI with model: gpt-4o-mini
2025-09-05 22:35:11,428 - app.core.logging - INFO - System message: You are an assistant that helps extract flight information from user queries. Today is 2025-09-05. Extract the following details from the query: 1. location_origin: The departure city or airport, ensu...
2025-09-05 22:35:11,429 - app.core.logging - INFO - User message: Flight from Mumbai to Delhi on 2025-09-06 for 2 adults
2025-09-05 22:35:13,041 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 22:35:13,047 - app.core.logging - INFO - OpenAI response: {"location_origin": "BOM", "location_destination": "DEL", "departure_date": "2025-09-06", "adults": 2}
2025-09-05 22:35:13,049 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'BOM', 'location_destination': 'DEL', 'departure_date': '2025-09-06', 'adults': 2}
2025-09-05 22:35:19,677 - app.core.logging - INFO - Created dataframe with 13 flights
2025-09-05 22:35:19,684 - app.core.logging - INFO - Processing flight search query: Flight from Delhi to Mumbai on 2025-09-08 for 2 adults
2025-09-05 22:35:19,684 - app.core.logging - INFO - Calling OpenAI with model: gpt-4o-mini
2025-09-05 22:35:19,685 - app.core.logging - INFO - System message: You are an assistant that helps extract flight information from user queries. Today is 2025-09-05. Extract the following details from the query: 1. location_origin: The departure city or airport, ensu...
2025-09-05 22:35:19,685 - app.core.logging - INFO - User message: Flight from Delhi to Mumbai on 2025-09-08 for 2 adults
2025-09-05 22:35:21,181 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 22:35:21,192 - app.core.logging - INFO - OpenAI response: {"location_origin": "DEL", "location_destination": "BOM", "departure_date": "2025-09-08", "adults": 2}
2025-09-05 22:35:21,193 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'DEL', 'location_destination': 'BOM', 'departure_date': '2025-09-08', 'adults': 2}
2025-09-05 22:35:25,562 - app.core.logging - INFO - Created dataframe with 13 flights
2025-09-05 22:35:25,565 - app.core.logging - INFO - Searching hotels...
2025-09-05 22:35:25,565 - app.core.logging - INFO - Processing hotel search query: Hotels in Delhi from 2025-09-06 to 2025-09-08 for 2 adults
2025-09-05 22:35:25,565 - app.core.logging - INFO - Calling OpenAI for hotel query extraction
2025-09-05 22:35:28,078 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 22:35:28,089 - app.core.logging - INFO - OpenAI response: ```json
{
  "location": "Delhi",
  "check_in_date": "2025-09-06",
  "check_out_date": "2025-09-08",
  "adults": 2,
  "rooms": 1,
  "price_range": "moderate",
  "amenities": [],
  "hotel_rating": null
}
```
2025-09-05 22:35:28,090 - app.core.logging - INFO - Extracted hotel info: {'location': 'Delhi', 'check_in_date': '2025-09-06', 'check_out_date': '2025-09-08', 'adults': 2, 'rooms': 1, 'price_range': 'moderate', 'amenities': [], 'hotel_rating': None}
2025-09-05 22:35:39,027 - app.core.logging - ERROR - No hotels found or error in forming dataframe
2025-09-05 22:35:39,028 - app.core.logging - INFO - Getting attractions and dining...
2025-09-05 22:35:51,262 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 22:36:00,163 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 22:36:00,181 - app.core.logging - INFO - Creating itinerary...
2025-09-05 22:36:17,639 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 22:36:17,646 - app.core.logging - INFO - Successfully created optimized travel plan
2025-09-05 22:36:17,647 - app.core.logging - ERROR - Error creating simple travel plan: 'attractions'
2025-09-05 22:36:17,648 - app.core.logging - ERROR - Traceback: Traceback (most recent call last):
  File "/home/vineet/Desktop/projects/booking_agent/Gen_AI/app/api/travel_itinerary.py", line 104, in create_simple_travel_plan
    "tips": data.get('tips', {})
                      ^^^^^^^^^^^
KeyError: 'attractions'

2025-09-05 22:42:44,942 - app.core.logging - INFO - Shutting down application
2025-09-05 22:42:44,950 - app.core.logging - INFO - Shutting down application
2025-09-05 22:42:44,979 - app.core.logging - INFO - Shutting down application
2025-09-05 22:42:44,981 - app.core.logging - INFO - Shutting down application
2025-09-05 22:42:53,901 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:42:53,931 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:42:53,963 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:42:54,005 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:42:54,009 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:42:54,033 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:42:54,034 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:42:54,037 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:42:54,061 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:42:54,067 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:42:54,068 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:42:54,102 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:42:54,102 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-05 22:42:54,214 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-05 22:42:54,217 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-05 22:42:54,246 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-05 22:42:55,311 - app.core.logging - INFO - Initializing OptimizedTravelService (singleton)
2025-09-05 22:42:55,351 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:42:55,387 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:42:57,036 - app.core.logging - INFO - Creating simple travel plan for query: I want to go from Mumbai to Delhi next Monday for 2 days, 2 people
2025-09-05 22:42:57,036 - app.core.logging - INFO - Creating optimized travel plan for query: I want to go from Mumbai to Delhi next Monday for 2 days, 2 people
2025-09-05 22:42:57,036 - app.core.logging - INFO - Parsing travel query: I want to go from Mumbai to Delhi next Monday for 2 days, 2 people
2025-09-05 22:42:58,604 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 22:42:58,611 - app.core.logging - INFO - Successfully parsed travel query: {'origin_city': 'Mumbai', 'destination_city': 'Delhi', 'departure_date': '2025-09-08', 'travelers': 2, 'travel_type': 'round trip', 'duration_days': 2, 'return_date': '2025-09-10'}
2025-09-05 22:42:58,611 - app.core.logging - INFO - Searching flights...
2025-09-05 22:42:58,612 - app.core.logging - INFO - Processing flight search query: Flight from Mumbai to Delhi on 2025-09-08 for 2 adults
2025-09-05 22:42:58,612 - app.core.logging - INFO - Calling OpenAI with model: gpt-4o-mini
2025-09-05 22:42:58,612 - app.core.logging - INFO - System message: You are an assistant that helps extract flight information from user queries. Today is 2025-09-05. Extract the following details from the query: 1. location_origin: The departure city or airport, ensu...
2025-09-05 22:42:58,612 - app.core.logging - INFO - User message: Flight from Mumbai to Delhi on 2025-09-08 for 2 adults
2025-09-05 22:43:00,200 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 22:43:00,202 - app.core.logging - INFO - OpenAI response: {"location_origin": "BOM", "location_destination": "DEL", "departure_date": "2025-09-08", "adults": 2}
2025-09-05 22:43:00,202 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'BOM', 'location_destination': 'DEL', 'departure_date': '2025-09-08', 'adults': 2}
2025-09-05 22:43:08,638 - app.core.logging - INFO - Initializing OptimizedTravelService (singleton)
2025-09-05 22:43:08,679 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:43:08,718 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:43:13,607 - app.core.logging - INFO - Created dataframe with 14 flights
2025-09-05 22:43:13,609 - app.core.logging - INFO - Processing flight search query: Flight from Delhi to Mumbai on 2025-09-10 for 2 adults
2025-09-05 22:43:13,609 - app.core.logging - INFO - Calling OpenAI with model: gpt-4o-mini
2025-09-05 22:43:13,609 - app.core.logging - INFO - System message: You are an assistant that helps extract flight information from user queries. Today is 2025-09-05. Extract the following details from the query: 1. location_origin: The departure city or airport, ensu...
2025-09-05 22:43:13,609 - app.core.logging - INFO - User message: Flight from Delhi to Mumbai on 2025-09-10 for 2 adults
2025-09-05 22:43:15,497 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 22:43:15,590 - app.core.logging - INFO - OpenAI response: {"location_origin": "DEL", "location_destination": "BOM", "departure_date": "2025-09-10", "adults": 2}
2025-09-05 22:43:15,590 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'DEL', 'location_destination': 'BOM', 'departure_date': '2025-09-10', 'adults': 2}
2025-09-05 22:43:30,643 - app.core.logging - INFO - Created dataframe with 12 flights
2025-09-05 22:43:30,645 - app.core.logging - INFO - Searching hotels...
2025-09-05 22:43:30,645 - app.core.logging - INFO - Processing hotel search query: Hotels in Delhi from 2025-09-08 to 2025-09-10 for 2 adults
2025-09-05 22:43:30,645 - app.core.logging - INFO - Calling OpenAI for hotel query extraction
2025-09-05 22:43:32,488 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 22:43:32,575 - app.core.logging - INFO - OpenAI response: ```json
{
  "location": "Delhi",
  "check_in_date": "2025-09-08",
  "check_out_date": "2025-09-10",
  "adults": 2,
  "rooms": 1,
  "price_range": "moderate",
  "amenities": [],
  "hotel_rating": null
}
```
2025-09-05 22:43:32,575 - app.core.logging - INFO - Extracted hotel info: {'location': 'Delhi', 'check_in_date': '2025-09-08', 'check_out_date': '2025-09-10', 'adults': 2, 'rooms': 1, 'price_range': 'moderate', 'amenities': [], 'hotel_rating': None}
2025-09-05 22:43:33,642 - app.core.logging - INFO - Initializing OptimizedTravelService (singleton)
2025-09-05 22:43:33,667 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:43:33,683 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:43:37,887 - app.core.logging - ERROR - No hotels found or error in forming dataframe
2025-09-05 22:43:37,888 - app.core.logging - INFO - Getting attractions and dining...
2025-09-05 22:43:48,776 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 22:43:57,342 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 22:43:57,347 - app.core.logging - INFO - Creating itinerary...
2025-09-05 22:44:18,125 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 22:44:18,128 - app.core.logging - INFO - Successfully created optimized travel plan
2025-09-05 22:44:18,128 - app.core.logging - INFO - Successfully created simple travel itinerary
2025-09-05 22:44:50,693 - app.core.logging - INFO - Initializing OptimizedTravelService (singleton)
2025-09-05 22:44:50,711 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:44:50,727 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:46:16,927 - app.core.logging - INFO - Creating simple travel plan for query: I want to go from Mumbai to Delhi next Monday for 2 days, 2 people
2025-09-05 22:46:16,927 - app.core.logging - INFO - Creating optimized travel plan for query: I want to go from Mumbai to Delhi next Monday for 2 days, 2 people
2025-09-05 22:46:16,927 - app.core.logging - INFO - Parsing travel query: I want to go from Mumbai to Delhi next Monday for 2 days, 2 people
2025-09-05 22:46:18,630 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 22:46:18,651 - app.core.logging - INFO - Successfully parsed travel query: {'origin_city': 'Mumbai', 'destination_city': 'Delhi', 'departure_date': '2025-09-08', 'travelers': 2, 'travel_type': 'round trip', 'duration_days': 2, 'return_date': '2025-09-10'}
2025-09-05 22:46:18,651 - app.core.logging - INFO - Searching flights...
2025-09-05 22:46:18,651 - app.core.logging - INFO - Processing flight search query: Flight from Mumbai to Delhi on 2025-09-08 for 2 adults
2025-09-05 22:46:18,651 - app.core.logging - INFO - Calling OpenAI with model: gpt-4o-mini
2025-09-05 22:46:18,651 - app.core.logging - INFO - System message: You are an assistant that helps extract flight information from user queries. Today is 2025-09-05. Extract the following details from the query: 1. location_origin: The departure city or airport, ensu...
2025-09-05 22:46:18,651 - app.core.logging - INFO - User message: Flight from Mumbai to Delhi on 2025-09-08 for 2 adults
2025-09-05 22:46:19,881 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 22:46:19,899 - app.core.logging - INFO - OpenAI response: {"location_origin": "BOM", "location_destination": "DEL", "departure_date": "2025-09-08", "adults": 2}
2025-09-05 22:46:19,899 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'BOM', 'location_destination': 'DEL', 'departure_date': '2025-09-08', 'adults': 2}
2025-09-05 22:46:35,059 - app.core.logging - INFO - Created dataframe with 14 flights
2025-09-05 22:46:35,061 - app.core.logging - INFO - Processing flight search query: Flight from Delhi to Mumbai on 2025-09-10 for 2 adults
2025-09-05 22:46:35,062 - app.core.logging - INFO - Calling OpenAI with model: gpt-4o-mini
2025-09-05 22:46:35,062 - app.core.logging - INFO - System message: You are an assistant that helps extract flight information from user queries. Today is 2025-09-05. Extract the following details from the query: 1. location_origin: The departure city or airport, ensu...
2025-09-05 22:46:35,062 - app.core.logging - INFO - User message: Flight from Delhi to Mumbai on 2025-09-10 for 2 adults
2025-09-05 22:46:36,793 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 22:46:36,842 - app.core.logging - INFO - OpenAI response: {"location_origin": "DEL", "location_destination": "BOM", "departure_date": "2025-09-10", "adults": 2}
2025-09-05 22:46:36,843 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'DEL', 'location_destination': 'BOM', 'departure_date': '2025-09-10', 'adults': 2}
2025-09-05 22:46:50,461 - app.core.logging - INFO - Created dataframe with 12 flights
2025-09-05 22:46:50,463 - app.core.logging - INFO - Searching hotels...
2025-09-05 22:46:50,463 - app.core.logging - INFO - Processing hotel search query: Hotels in Delhi from 2025-09-08 to 2025-09-10 for 2 adults
2025-09-05 22:46:50,463 - app.core.logging - INFO - Calling OpenAI for hotel query extraction
2025-09-05 22:46:52,563 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 22:46:52,564 - app.core.logging - INFO - OpenAI response: ```json
{
  "location": "Delhi",
  "check_in_date": "2025-09-08",
  "check_out_date": "2025-09-10",
  "adults": 2,
  "rooms": 1,
  "price_range": "moderate",
  "amenities": [],
  "hotel_rating": null
}
```
2025-09-05 22:46:52,564 - app.core.logging - INFO - Extracted hotel info: {'location': 'Delhi', 'check_in_date': '2025-09-08', 'check_out_date': '2025-09-10', 'adults': 2, 'rooms': 1, 'price_range': 'moderate', 'amenities': [], 'hotel_rating': None}
2025-09-05 22:47:12,132 - app.core.logging - ERROR - No hotels found or error in forming dataframe
2025-09-05 22:47:12,133 - app.core.logging - INFO - Getting attractions and dining...
2025-09-05 22:47:23,711 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 22:47:34,106 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 22:47:34,132 - app.core.logging - INFO - Creating itinerary...
2025-09-05 22:47:47,862 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 22:47:47,883 - app.core.logging - INFO - Successfully created optimized travel plan
2025-09-05 22:47:47,883 - app.core.logging - INFO - Successfully created simple travel itinerary
2025-09-05 22:51:55,931 - app.core.logging - INFO - Shutting down application
2025-09-05 22:51:55,936 - app.core.logging - INFO - Shutting down application
2025-09-05 22:51:55,939 - app.core.logging - INFO - Shutting down application
2025-09-05 22:51:55,957 - app.core.logging - INFO - Shutting down application
2025-09-05 22:52:59,185 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-05 22:52:59,185 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-05 22:52:59,189 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-05 22:52:59,189 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-05 22:52:59,189 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-05 22:52:59,189 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-05 22:52:59,191 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-05 22:52:59,191 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-05 22:53:00,272 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:53:00,274 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:53:00,275 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:53:00,281 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:53:00,297 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:53:00,299 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:53:00,300 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:53:00,306 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:53:00,324 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:53:00,327 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:53:00,327 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:53:00,334 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:53:00,370 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-05 22:53:00,372 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-05 22:53:00,375 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-05 22:53:00,375 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-05 22:53:05,436 - app.core.logging - INFO - Initializing OptimizedTravelService (singleton)
2025-09-05 22:53:05,452 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:53:05,468 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:53:20,696 - app.core.logging - INFO - Initializing OptimizedTravelService (singleton)
2025-09-05 22:53:20,715 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:53:20,729 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:53:32,709 - app.core.logging - INFO - Starting streaming travel plan for query: Weekend trip from Mumbai to Goa for 2 people
2025-09-05 22:53:32,709 - app.core.logging - INFO - Initializing StreamingTravelService (singleton)
2025-09-05 22:53:32,724 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:53:32,740 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:53:32,755 - app.core.logging - INFO - Starting streaming travel plan for: Weekend trip from Mumbai to Goa for 2 people
2025-09-05 22:53:33,645 - app.core.logging - INFO - Initializing OptimizedTravelService (singleton)
2025-09-05 22:53:33,683 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:53:33,698 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:53:39,227 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 22:53:39,438 - app.core.logging - INFO - Processing flight search query: Flight from Mumbai to Goa on 2025-09-06 for 2 adults
2025-09-05 22:53:39,438 - app.core.logging - INFO - Calling OpenAI with model: gpt-4o-mini
2025-09-05 22:53:39,438 - app.core.logging - INFO - System message: You are an assistant that helps extract flight information from user queries. Today is 2025-09-05. Extract the following details from the query: 1. location_origin: The departure city or airport, ensu...
2025-09-05 22:53:39,438 - app.core.logging - INFO - User message: Flight from Mumbai to Goa on 2025-09-06 for 2 adults
2025-09-05 22:53:39,539 - app.core.logging - INFO - Processing hotel search query: Hotels in Goa from 2025-09-06 to 2025-09-08 for 2 adults
2025-09-05 22:53:39,540 - app.core.logging - INFO - Calling OpenAI for hotel query extraction
2025-09-05 22:53:41,211 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 22:53:41,212 - app.core.logging - INFO - OpenAI response: {"location_origin": "BOM", "location_destination": "GOI", "departure_date": "2025-09-06", "adults": 2}
2025-09-05 22:53:41,212 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'BOM', 'location_destination': 'GOI', 'departure_date': '2025-09-06', 'adults': 2}
2025-09-05 22:53:42,024 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 22:53:42,027 - app.core.logging - INFO - OpenAI response: ```json
{
  "location": "Goa",
  "check_in_date": "2025-09-06",
  "check_out_date": "2025-09-08",
  "adults": 2,
  "rooms": 1,
  "price_range": "moderate",
  "amenities": [],
  "hotel_rating": null
}
```
2025-09-05 22:53:42,027 - app.core.logging - INFO - Extracted hotel info: {'location': 'Goa', 'check_in_date': '2025-09-06', 'check_out_date': '2025-09-08', 'adults': 2, 'rooms': 1, 'price_range': 'moderate', 'amenities': [], 'hotel_rating': None}
2025-09-05 22:53:43,881 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 22:53:45,248 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 22:53:53,200 - app.core.logging - INFO - Created dataframe with 10 flights
2025-09-05 22:53:53,202 - app.core.logging - INFO - Processing flight search query: Flight from Goa to Mumbai on 2025-09-08 for 2 adults
2025-09-05 22:53:53,203 - app.core.logging - INFO - Calling OpenAI with model: gpt-4o-mini
2025-09-05 22:53:53,203 - app.core.logging - INFO - System message: You are an assistant that helps extract flight information from user queries. Today is 2025-09-05. Extract the following details from the query: 1. location_origin: The departure city or airport, ensu...
2025-09-05 22:53:53,203 - app.core.logging - INFO - User message: Flight from Goa to Mumbai on 2025-09-08 for 2 adults
2025-09-05 22:53:55,611 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 22:53:55,611 - app.core.logging - INFO - OpenAI response: {"location_origin": "GOI", "location_destination": "BOM", "departure_date": "2025-09-08", "adults": 2}
2025-09-05 22:53:55,611 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'GOI', 'location_destination': 'BOM', 'departure_date': '2025-09-08', 'adults': 2}
2025-09-05 22:53:56,229 - app.core.logging - INFO - Created dataframe with 1 hotels
2025-09-05 22:54:03,643 - app.core.logging - INFO - Created dataframe with 11 flights
2025-09-05 22:54:09,312 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 22:55:00,672 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:55:00,680 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:55:00,687 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:55:00,697 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:55:00,706 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:55:00,714 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:55:00,715 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:55:00,727 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:55:00,738 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:55:00,744 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:55:00,746 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:55:00,776 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:55:00,864 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-05 22:55:00,876 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-05 22:55:00,884 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-05 22:55:00,902 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-05 22:55:05,637 - app.core.logging - INFO - Initializing OptimizedTravelService (singleton)
2025-09-05 22:55:05,653 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:55:05,668 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:55:20,697 - app.core.logging - INFO - Initializing OptimizedTravelService (singleton)
2025-09-05 22:55:20,719 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:55:20,733 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:56:06,639 - app.core.logging - INFO - Initializing OptimizedTravelService (singleton)
2025-09-05 22:56:06,656 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:56:06,670 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:56:33,644 - app.core.logging - INFO - Initializing OptimizedTravelService (singleton)
2025-09-05 22:56:33,672 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 22:56:33,686 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 23:34:11,886 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 23:34:11,886 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 23:34:11,911 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 23:34:11,936 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 23:34:11,938 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 23:34:11,959 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 23:34:11,995 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 23:34:11,997 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 23:34:12,010 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 23:34:12,151 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-05 23:34:12,172 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-05 23:34:12,229 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 23:34:12,255 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-05 23:34:12,283 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 23:34:12,332 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 23:34:12,506 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-05 23:34:33,147 - app.core.logging - INFO - Initializing OptimizedTravelService (singleton)
2025-09-05 23:34:33,182 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 23:34:33,214 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 23:35:03,147 - app.core.logging - INFO - Initializing OptimizedTravelService (singleton)
2025-09-05 23:35:03,186 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 23:35:03,217 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 23:36:33,149 - app.core.logging - INFO - Initializing OptimizedTravelService (singleton)
2025-09-05 23:36:33,212 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 23:36:33,263 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 23:38:34,149 - app.core.logging - INFO - Initializing OptimizedTravelService (singleton)
2025-09-05 23:38:34,211 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 23:38:34,281 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 23:49:06,036 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-05 23:49:06,036 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-05 23:49:07,056 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 23:49:07,073 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 23:49:07,092 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 23:49:07,120 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-05 23:49:10,432 - app.core.logging - INFO - Shutting down application
2025-09-05 23:49:24,587 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-05 23:49:24,587 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-05 23:49:25,371 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 23:49:25,386 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 23:49:25,405 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 23:49:25,430 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-05 23:49:55,442 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 23:49:55,451 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 23:49:55,468 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 23:49:55,470 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 23:49:55,477 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 23:49:55,496 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 23:49:55,497 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 23:49:55,506 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 23:49:55,525 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 23:49:55,570 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 23:49:55,591 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-05 23:49:55,592 - app.core.logging - INFO - Initializing OptimizedTravelService (singleton)
2025-09-05 23:49:55,596 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 23:49:55,600 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-05 23:49:55,616 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-05 23:49:55,619 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 23:49:55,625 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 23:49:55,644 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 23:49:55,711 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-05 23:50:14,055 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-05 23:50:14,055 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-05 23:50:14,060 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-05 23:50:14,060 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-05 23:50:14,060 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-05 23:50:14,060 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-05 23:50:14,079 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-05 23:50:14,079 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-05 23:50:15,175 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 23:50:15,179 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 23:50:15,185 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 23:50:15,211 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 23:50:15,212 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 23:50:15,216 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 23:50:15,224 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 23:50:15,250 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 23:50:15,256 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 23:50:15,262 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 23:50:15,264 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 23:50:15,286 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 23:50:15,300 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-05 23:50:15,305 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-05 23:50:15,308 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-05 23:50:15,331 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-05 23:50:27,349 - app.core.logging - INFO - Initializing OptimizedTravelService (singleton)
2025-09-05 23:50:27,367 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 23:50:27,384 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 23:50:36,234 - app.core.logging - INFO - Starting streaming travel plan for query: Plan a romantic weekend trip from Bangalore to Goa for 2 adults
2025-09-05 23:50:36,235 - app.core.logging - INFO - Initializing StreamingTravelService (singleton)
2025-09-05 23:50:36,262 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 23:50:36,285 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 23:50:36,303 - app.core.logging - INFO - Starting streaming travel plan for: Plan a romantic weekend trip from Bangalore to Goa for 2 adults
2025-09-05 23:50:38,463 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 23:50:38,672 - app.core.logging - INFO - Processing flight search query: Flight from Bangalore to Goa on 2025-09-06 for 2 adults
2025-09-05 23:50:38,673 - app.core.logging - INFO - Calling OpenAI with model: gpt-4o-mini
2025-09-05 23:50:38,673 - app.core.logging - INFO - System message: You are an assistant that helps extract flight information from user queries. Today is 2025-09-05. Extract the following details from the query: 1. location_origin: The departure city or airport, ensu...
2025-09-05 23:50:38,673 - app.core.logging - INFO - User message: Flight from Bangalore to Goa on 2025-09-06 for 2 adults
2025-09-05 23:50:38,774 - app.core.logging - INFO - Processing hotel search query: Hotels in Goa from 2025-09-06 to 2025-09-08 for 2 adults
2025-09-05 23:50:38,774 - app.core.logging - INFO - Calling OpenAI for hotel query extraction
2025-09-05 23:50:40,611 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 23:50:40,624 - app.core.logging - INFO - OpenAI response: {"location_origin": "BLR", "location_destination": "GOI", "departure_date": "2025-09-06", "adults": 2}
2025-09-05 23:50:40,624 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'BLR', 'location_destination': 'GOI', 'departure_date': '2025-09-06', 'adults': 2}
2025-09-05 23:50:41,280 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 23:50:41,295 - app.core.logging - INFO - OpenAI response: ```json
{
  "location": "Goa",
  "check_in_date": "2025-09-06",
  "check_out_date": "2025-09-08",
  "adults": 2,
  "rooms": 1,
  "price_range": "moderate",
  "amenities": [],
  "hotel_rating": null
}
```
2025-09-05 23:50:41,296 - app.core.logging - INFO - Extracted hotel info: {'location': 'Goa', 'check_in_date': '2025-09-06', 'check_out_date': '2025-09-08', 'adults': 2, 'rooms': 1, 'price_range': 'moderate', 'amenities': [], 'hotel_rating': None}
2025-09-05 23:50:42,521 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 23:50:46,545 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 23:50:47,158 - app.core.logging - INFO - Created dataframe with 15 flights
2025-09-05 23:50:47,161 - app.core.logging - INFO - Processing flight search query: Flight from Goa to Bangalore on 2025-09-08 for 2 adults
2025-09-05 23:50:47,161 - app.core.logging - INFO - Calling OpenAI with model: gpt-4o-mini
2025-09-05 23:50:47,161 - app.core.logging - INFO - System message: You are an assistant that helps extract flight information from user queries. Today is 2025-09-05. Extract the following details from the query: 1. location_origin: The departure city or airport, ensu...
2025-09-05 23:50:47,161 - app.core.logging - INFO - User message: Flight from Goa to Bangalore on 2025-09-08 for 2 adults
2025-09-05 23:50:47,673 - app.core.logging - ERROR - No hotels found or error in forming dataframe
2025-09-05 23:50:48,286 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 23:50:48,287 - app.core.logging - INFO - OpenAI response: {"location_origin": "GOI", "location_destination": "BLR", "departure_date": "2025-09-08", "adults": 2}
2025-09-05 23:50:48,287 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'GOI', 'location_destination': 'BLR', 'departure_date': '2025-09-08', 'adults': 2}
2025-09-05 23:50:49,149 - app.core.logging - INFO - Initializing OptimizedTravelService (singleton)
2025-09-05 23:50:49,172 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 23:50:49,187 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 23:50:51,840 - app.core.logging - INFO - Created dataframe with 14 flights
2025-09-05 23:50:55,356 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 23:51:42,462 - app.core.logging - INFO - Starting streaming travel plan for query: i want to go mumbai , i just want flight
2025-09-05 23:51:42,463 - app.core.logging - INFO - Initializing StreamingTravelService (singleton)
2025-09-05 23:51:42,487 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 23:51:42,505 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 23:51:42,524 - app.core.logging - INFO - Starting streaming travel plan for: i want to go mumbai , i just want flight
2025-09-05 23:51:44,093 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 23:51:44,316 - app.core.logging - INFO - Processing flight search query: Flight from unknown to Mumbai on 2025-09-05 for 1 adults
2025-09-05 23:51:44,316 - app.core.logging - INFO - Calling OpenAI with model: gpt-4o-mini
2025-09-05 23:51:44,316 - app.core.logging - INFO - System message: You are an assistant that helps extract flight information from user queries. Today is 2025-09-05. Extract the following details from the query: 1. location_origin: The departure city or airport, ensu...
2025-09-05 23:51:44,316 - app.core.logging - INFO - User message: Flight from unknown to Mumbai on 2025-09-05 for 1 adults
2025-09-05 23:51:44,417 - app.core.logging - INFO - Processing hotel search query: Hotels in Mumbai from 2025-09-05 to 2025-09-05 for 1 adults
2025-09-05 23:51:44,417 - app.core.logging - INFO - Calling OpenAI for hotel query extraction
2025-09-05 23:51:45,373 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 23:51:45,389 - app.core.logging - INFO - OpenAI response: {"location_origin": "unknown", "location_destination": "BOM", "departure_date": "2025-09-05", "adults": 1}
2025-09-05 23:51:45,389 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'unknown', 'location_destination': 'BOM', 'departure_date': '2025-09-05', 'adults': 1}
2025-09-05 23:51:46,642 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 23:51:46,676 - app.core.logging - INFO - OpenAI response: ```json
{
  "location": "Mumbai",
  "check_in_date": "2025-09-05",
  "check_out_date": "2025-09-05",
  "adults": 1,
  "rooms": 1,
  "price_range": "moderate",
  "amenities": [],
  "hotel_rating": null
}
```
2025-09-05 23:51:46,676 - app.core.logging - INFO - Extracted hotel info: {'location': 'Mumbai', 'check_in_date': '2025-09-05', 'check_out_date': '2025-09-05', 'adults': 1, 'rooms': 1, 'price_range': 'moderate', 'amenities': [], 'hotel_rating': None}
2025-09-05 23:51:47,481 - app.core.logging - ERROR - Flight search error: [400]

2025-09-05 23:51:47,481 - app.core.logging - ERROR - No flights found or error in forming dataframe
2025-09-05 23:51:47,686 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 23:51:50,146 - app.core.logging - INFO - Initializing OptimizedTravelService (singleton)
2025-09-05 23:51:50,163 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 23:51:50,181 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 23:51:50,655 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 23:51:51,679 - app.core.logging - ERROR - Hotel search error: [400]

2025-09-05 23:51:51,679 - app.core.logging - ERROR - No hotels found or error in forming dataframe
2025-09-05 23:51:54,343 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-05 23:54:53,146 - app.core.logging - INFO - Initializing OptimizedTravelService (singleton)
2025-09-05 23:54:53,167 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 23:54:53,186 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 23:57:15,934 - app.core.logging - INFO - Shutting down application
2025-09-05 23:57:16,777 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-05 23:57:16,777 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-05 23:57:17,814 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 23:57:17,837 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 23:57:17,864 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 23:57:17,905 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-05 23:57:21,719 - app.core.logging - INFO - Shutting down application
2025-09-05 23:57:22,457 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-05 23:57:22,457 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-05 23:57:23,631 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 23:57:23,652 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 23:57:23,676 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 23:57:23,710 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-05 23:59:20,574 - app.core.logging - INFO - Shutting down application
2025-09-05 23:59:21,378 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-05 23:59:21,378 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-05 23:59:22,273 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 23:59:22,294 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 23:59:22,318 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-05 23:59:22,351 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-06 00:01:10,518 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-06 00:01:10,519 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-06 00:01:10,521 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-06 00:01:10,521 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-06 00:01:10,522 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-06 00:01:10,522 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-06 00:01:10,522 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-06 00:01:10,522 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-06 00:01:11,912 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:01:11,925 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:01:11,944 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:01:11,955 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:01:11,961 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:01:11,979 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:01:11,990 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:01:11,994 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:01:12,023 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:01:12,029 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:01:12,041 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-06 00:01:12,046 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-06 00:01:12,058 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:01:12,084 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-06 00:01:12,091 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:01:12,142 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-06 00:01:31,201 - app.core.logging - INFO - Starting streaming travel plan for query: Family vacation from Mumbai to Jaipur next month for 4 days, 4 people
2025-09-06 00:01:31,202 - app.core.logging - INFO - Initializing SmartStreamingService (singleton)
2025-09-06 00:01:31,234 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:01:31,264 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:01:31,295 - app.core.logging - INFO - Detecting intent for: Family vacation from Mumbai to Jaipur next month for 4 days, 4 people
2025-09-06 00:01:33,163 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-06 00:01:33,976 - app.core.logging - ERROR - Error searching flights: 'FlightService' object has no attribute 'search_flights'
2025-09-06 00:01:34,679 - app.core.logging - ERROR - Error searching hotels: 'HotelService' object has no attribute 'search_hotels'
2025-09-06 00:01:39,024 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-06 00:01:44,296 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-06 00:01:47,381 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-06 00:01:56,158 - app.core.logging - INFO - Initializing OptimizedTravelService (singleton)
2025-09-06 00:01:56,193 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:01:56,211 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:02:33,306 - app.core.logging - INFO - Starting streaming travel plan for query: i want plan ticket for delhi to mumbau for next weekend
2025-09-06 00:02:33,310 - app.core.logging - INFO - Initializing SmartStreamingService (singleton)
2025-09-06 00:02:33,330 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:02:33,352 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:02:33,376 - app.core.logging - INFO - Detecting intent for: i want plan ticket for delhi to mumbau for next weekend
2025-09-06 00:02:34,671 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-06 00:02:35,484 - app.core.logging - ERROR - Error searching flights: 'FlightService' object has no attribute 'search_flights'
2025-09-06 00:02:36,187 - app.core.logging - ERROR - Error searching hotels: 'HotelService' object has no attribute 'search_hotels'
2025-09-06 00:02:42,453 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-06 00:02:46,228 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-06 00:02:48,496 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-06 00:03:06,754 - app.core.logging - INFO - Starting streaming travel plan for query: Create a budget for 5-day Kerala trip
2025-09-06 00:03:06,754 - app.core.logging - INFO - Detecting intent for: Create a budget for 5-day Kerala trip
2025-09-06 00:03:08,260 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-06 00:03:09,063 - app.core.logging - ERROR - Error searching flights: 'FlightService' object has no attribute 'search_flights'
2025-09-06 00:03:09,765 - app.core.logging - ERROR - Error searching hotels: 'HotelService' object has no attribute 'search_hotels'
2025-09-06 00:03:15,002 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-06 00:03:19,830 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-06 00:03:22,494 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-06 00:03:56,147 - app.core.logging - INFO - Initializing OptimizedTravelService (singleton)
2025-09-06 00:03:56,168 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:03:56,188 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:04:33,116 - app.core.logging - INFO - Shutting down application
2025-09-06 00:04:33,928 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-06 00:04:33,928 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-06 00:04:35,356 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:04:35,381 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:04:35,409 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:04:35,459 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-06 00:04:41,688 - app.core.logging - INFO - Shutting down application
2025-09-06 00:04:42,582 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-06 00:04:42,582 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-06 00:04:44,052 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:04:44,082 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:04:44,115 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:04:44,168 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-06 00:04:56,160 - app.core.logging - INFO - Initializing OptimizedTravelService (singleton)
2025-09-06 00:04:56,197 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:04:56,218 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:05:56,149 - app.core.logging - INFO - Initializing OptimizedTravelService (singleton)
2025-09-06 00:05:56,176 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:05:56,198 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:08:03,977 - app.core.logging - INFO - Shutting down application
2025-09-06 00:08:04,869 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-06 00:08:04,869 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-06 00:08:06,413 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:08:06,443 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:08:06,485 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:08:06,553 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-06 00:09:35,433 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-06 00:09:35,433 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-06 00:09:35,472 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-06 00:09:35,472 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-06 00:09:35,480 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-06 00:09:35,480 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-06 00:09:35,511 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-06 00:09:35,512 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-06 00:09:36,947 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:09:36,979 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:09:36,986 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:09:37,012 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:09:37,016 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:09:37,022 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:09:37,041 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:09:37,049 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:09:37,073 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:09:37,075 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-06 00:09:37,100 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-06 00:09:37,119 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:09:37,122 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-06 00:09:37,148 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:09:37,180 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:09:37,226 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-06 00:09:52,603 - app.core.logging - INFO - Starting streaming travel plan for query: Flights from Mumbai to Delhi
2025-09-06 00:09:52,604 - app.core.logging - INFO - Initializing SmartStreamingService (singleton)
2025-09-06 00:09:52,635 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:09:52,666 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:09:52,704 - app.core.logging - INFO - Detecting intent for: Flights from Mumbai to Delhi
2025-09-06 00:09:54,474 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-06 00:09:55,291 - app.core.logging - INFO - Processing flight search query: flight from Mumbai to Delhi on 2022-12-27 returning 2022-12-30 for 1 adults
2025-09-06 00:09:55,292 - app.core.logging - INFO - Calling OpenAI with model: gpt-4o-mini
2025-09-06 00:09:55,292 - app.core.logging - INFO - System message: You are an assistant that helps extract flight information from user queries. Today is 2025-09-06. Extract the following details from the query: 1. location_origin: The departure city or airport, ensu...
2025-09-06 00:09:55,292 - app.core.logging - INFO - User message: flight from Mumbai to Delhi on 2022-12-27 returning 2022-12-30 for 1 adults
2025-09-06 00:09:56,156 - app.core.logging - INFO - Initializing OptimizedTravelService (singleton)
2025-09-06 00:09:56,193 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:09:56,223 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:09:56,815 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-06 00:09:56,826 - app.core.logging - INFO - OpenAI response: {"location_origin": "BOM", "location_destination": "DEL", "departure_date": "2022-12-27", "adults": 1}
2025-09-06 00:09:56,827 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'BOM', 'location_destination': 'DEL', 'departure_date': '2022-12-27', 'adults': 1}
2025-09-06 00:09:58,660 - app.core.logging - ERROR - Flight search error: [400]

2025-09-06 00:09:58,661 - app.core.logging - ERROR - No flights found or error in forming dataframe
2025-09-06 00:09:58,661 - app.core.logging - ERROR - Error searching flights: too many values to unpack (expected 2)
2025-09-06 00:10:56,149 - app.core.logging - INFO - Initializing OptimizedTravelService (singleton)
2025-09-06 00:10:56,174 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:10:56,207 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:12:32,840 - app.core.logging - INFO - Starting streaming travel plan for query: Flights from Mumbai to Delhi
2025-09-06 00:12:32,841 - app.core.logging - INFO - Detecting intent for: Flights from Mumbai to Delhi
2025-09-06 00:12:35,159 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-06 00:12:35,965 - app.core.logging - INFO - Processing flight search query: flight from Mumbai to Delhi on tomorrow returning 3 days after departure for 1 adults
2025-09-06 00:12:35,966 - app.core.logging - INFO - Calling OpenAI with model: gpt-4o-mini
2025-09-06 00:12:35,966 - app.core.logging - INFO - System message: You are an assistant that helps extract flight information from user queries. Today is 2025-09-06. Extract the following details from the query: 1. location_origin: The departure city or airport, ensu...
2025-09-06 00:12:35,966 - app.core.logging - INFO - User message: flight from Mumbai to Delhi on tomorrow returning 3 days after departure for 1 adults
2025-09-06 00:12:37,310 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-06 00:12:37,323 - app.core.logging - INFO - OpenAI response: {"location_origin": "BOM", "location_destination": "DEL", "departure_date": "2025-09-07", "adults": 1}
2025-09-06 00:12:37,324 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'BOM', 'location_destination': 'DEL', 'departure_date': '2025-09-07', 'adults': 1}
2025-09-06 00:12:42,524 - app.core.logging - INFO - Created dataframe with 14 flights
2025-09-06 00:12:42,525 - app.core.logging - ERROR - Error searching flights: too many values to unpack (expected 2)
2025-09-06 00:13:27,627 - app.core.logging - INFO - Starting streaming travel plan for query: Rajasthan heritage tour
2025-09-06 00:13:27,627 - app.core.logging - INFO - Detecting intent for: Rajasthan heritage tour
2025-09-06 00:13:29,125 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-06 00:13:29,930 - app.core.logging - INFO - Processing flight search query: flight from departure city to Rajasthan on tomorrow returning 3 days after departure for 1 adults
2025-09-06 00:13:29,930 - app.core.logging - INFO - Calling OpenAI with model: gpt-4o-mini
2025-09-06 00:13:29,930 - app.core.logging - INFO - System message: You are an assistant that helps extract flight information from user queries. Today is 2025-09-06. Extract the following details from the query: 1. location_origin: The departure city or airport, ensu...
2025-09-06 00:13:29,930 - app.core.logging - INFO - User message: flight from departure city to Rajasthan on tomorrow returning 3 days after departure for 1 adults
2025-09-06 00:13:31,787 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-06 00:13:31,802 - app.core.logging - INFO - OpenAI response: {"location_origin": "DEP", "location_destination": "RAJ", "departure_date": "2025-09-07", "adults": 1}
2025-09-06 00:13:31,802 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'DEP', 'location_destination': 'RAJ', 'departure_date': '2025-09-07', 'adults': 1}
2025-09-06 00:13:33,024 - app.core.logging - ERROR - No flights found or error in forming dataframe
2025-09-06 00:13:33,024 - app.core.logging - ERROR - Error searching flights: too many values to unpack (expected 2)
2025-09-06 00:13:33,726 - app.core.logging - INFO - Processing hotel search query: hotels in Rajasthan from tomorrow to 3 days after departure for 1 adults
2025-09-06 00:13:33,726 - app.core.logging - INFO - Calling OpenAI for hotel query extraction
2025-09-06 00:13:36,498 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-06 00:13:36,512 - app.core.logging - INFO - OpenAI response: {"location": "Rajasthan", "check_in_date": "2025-09-07", "check_out_date": "2025-09-10", "adults": 1, "rooms": 1, "price_range": "moderate", "amenities": [], "hotel_rating": null}
2025-09-06 00:13:36,513 - app.core.logging - INFO - Extracted hotel info: {'location': 'Rajasthan', 'check_in_date': '2025-09-07', 'check_out_date': '2025-09-10', 'adults': 1, 'rooms': 1, 'price_range': 'moderate', 'amenities': [], 'hotel_rating': None}
2025-09-06 00:13:42,029 - app.core.logging - WARNING - No city code found for Rajasthan
2025-09-06 00:13:42,029 - app.core.logging - ERROR - Could not find city code for Rajasthan
2025-09-06 00:13:42,030 - app.core.logging - ERROR - Error searching hotels: too many values to unpack (expected 2)
2025-09-06 00:13:47,968 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-06 00:13:52,373 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-06 00:13:55,237 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-06 00:14:56,151 - app.core.logging - INFO - Initializing OptimizedTravelService (singleton)
2025-09-06 00:14:56,180 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:14:56,219 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:15:46,337 - app.core.logging - INFO - Shutting down application
2025-09-06 00:15:47,248 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-06 00:15:47,249 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-06 00:15:48,726 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:15:48,755 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:15:48,788 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:15:48,839 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-06 00:16:04,601 - app.core.logging - INFO - Shutting down application
2025-09-06 00:16:05,495 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-06 00:16:05,495 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-06 00:16:06,928 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:16:06,957 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:16:06,990 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:16:07,041 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-06 00:16:56,156 - app.core.logging - INFO - Initializing OptimizedTravelService (singleton)
2025-09-06 00:16:56,194 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:16:56,224 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:17:00,912 - app.core.logging - INFO - Starting streaming travel plan for query: Plan a 3-day trip to Kerala
2025-09-06 00:17:00,913 - app.core.logging - INFO - Detecting intent for: Plan a 3-day trip to Kerala
2025-09-06 00:17:02,641 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-06 00:17:03,446 - app.core.logging - INFO - Processing flight search query: flight from departure city to Kerala on tomorrow returning 3 days after departure for 1 adults
2025-09-06 00:17:03,447 - app.core.logging - INFO - Calling OpenAI with model: gpt-4o-mini
2025-09-06 00:17:03,447 - app.core.logging - INFO - System message: You are an assistant that helps extract flight information from user queries. Today is 2025-09-06. Extract the following details from the query: 1. location_origin: The departure city or airport, ensu...
2025-09-06 00:17:03,447 - app.core.logging - INFO - User message: flight from departure city to Kerala on tomorrow returning 3 days after departure for 1 adults
2025-09-06 00:17:04,769 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-06 00:17:04,824 - app.core.logging - INFO - OpenAI response: {"location_origin": "DEP", "location_destination": "COK", "departure_date": "2025-09-07", "adults": 1}
2025-09-06 00:17:04,824 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'DEP', 'location_destination': 'COK', 'departure_date': '2025-09-07', 'adults': 1}
2025-09-06 00:17:06,136 - app.core.logging - ERROR - No flights found or error in forming dataframe
2025-09-06 00:17:06,136 - app.core.logging - ERROR - Error searching flights: too many values to unpack (expected 2)
2025-09-06 00:17:06,838 - app.core.logging - INFO - Processing hotel search query: hotels in Kerala from tomorrow to 3 days after departure for 1 adults
2025-09-06 00:17:06,839 - app.core.logging - INFO - Calling OpenAI for hotel query extraction
2025-09-06 00:17:09,288 - app.core.logging - INFO - Shutting down application
2025-09-06 00:17:09,293 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-06 00:17:09,314 - app.core.logging - INFO - OpenAI response: {"location": "Kerala", "check_in_date": "2025-09-07", "check_out_date": "2025-09-10", "adults": 1, "rooms": 1, "price_range": "moderate", "amenities": [], "hotel_rating": null}
2025-09-06 00:17:09,314 - app.core.logging - INFO - Extracted hotel info: {'location': 'Kerala', 'check_in_date': '2025-09-07', 'check_out_date': '2025-09-10', 'adults': 1, 'rooms': 1, 'price_range': 'moderate', 'amenities': [], 'hotel_rating': None}
2025-09-06 00:17:10,252 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-06 00:17:10,252 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-06 00:17:11,786 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:17:11,826 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:17:11,863 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:17:11,921 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-06 00:17:12,877 - app.core.logging - WARNING - No city code found for Kerala
2025-09-06 00:17:12,877 - app.core.logging - ERROR - Could not find city code for Kerala
2025-09-06 00:17:12,877 - app.core.logging - ERROR - Error searching hotels: too many values to unpack (expected 2)
2025-09-06 00:17:19,354 - app.core.logging - INFO - Shutting down application
2025-09-06 00:17:20,319 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-06 00:17:20,319 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-06 00:17:21,849 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:17:21,879 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:17:21,914 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:17:21,977 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-06 00:17:21,994 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-06 00:17:27,415 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-06 00:17:30,245 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-06 00:17:45,368 - app.core.logging - INFO - Shutting down application
2025-09-06 00:17:46,271 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-06 00:17:46,271 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-06 00:17:47,748 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:17:47,776 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:17:47,809 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:17:47,866 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-06 00:19:14,104 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-06 00:19:14,104 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-06 00:19:14,106 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-06 00:19:14,106 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-06 00:19:14,115 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-06 00:19:14,115 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-06 00:19:14,144 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-06 00:19:14,145 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-06 00:19:15,479 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:19:15,507 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:19:15,532 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:19:15,537 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:19:15,541 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:19:15,562 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:19:15,569 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:19:15,597 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-06 00:19:15,600 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:19:15,604 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:19:15,637 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:19:15,654 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-06 00:19:15,657 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-06 00:19:15,665 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:19:15,696 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:19:15,741 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-06 00:19:22,819 - app.core.logging - INFO - Starting streaming travel plan for query: Flights from Mumbai to Delhi
2025-09-06 00:19:22,824 - app.core.logging - INFO - Initializing SmartStreamingService (singleton)
2025-09-06 00:19:22,853 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:19:22,893 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:19:22,928 - app.core.logging - INFO - Detecting intent for: Flights from Mumbai to Delhi
2025-09-06 00:19:24,312 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-06 00:19:25,141 - app.core.logging - INFO - Processing flight search query: flight from Mumbai to Delhi on 2022-10-24 returning 2022-10-27 for 1 adults
2025-09-06 00:19:25,141 - app.core.logging - INFO - Calling OpenAI with model: gpt-4o-mini
2025-09-06 00:19:25,142 - app.core.logging - INFO - System message: You are an assistant that helps extract flight information from user queries. Today is 2025-09-06. Extract the following details from the query: 1. location_origin: The departure city or airport, ensu...
2025-09-06 00:19:25,142 - app.core.logging - INFO - User message: flight from Mumbai to Delhi on 2022-10-24 returning 2022-10-27 for 1 adults
2025-09-06 00:19:27,130 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-06 00:19:27,132 - app.core.logging - INFO - OpenAI response: {"location_origin": "BOM", "location_destination": "DEL", "departure_date": "2022-10-24", "adults": 1}
2025-09-06 00:19:27,132 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'BOM', 'location_destination': 'DEL', 'departure_date': '2022-10-24', 'adults': 1}
2025-09-06 00:19:29,478 - app.core.logging - ERROR - Flight search error: [400]

2025-09-06 00:19:29,478 - app.core.logging - ERROR - No flights found or error in forming dataframe
2025-09-06 00:19:44,243 - app.core.logging - INFO - Starting streaming travel plan for query: Flights from Mumbai to Delhi next monday
2025-09-06 00:19:44,244 - app.core.logging - INFO - Initializing SmartStreamingService (singleton)
2025-09-06 00:19:44,264 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:19:44,283 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:19:44,304 - app.core.logging - INFO - Detecting intent for: Flights from Mumbai to Delhi next monday
2025-09-06 00:19:45,661 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-06 00:19:46,486 - app.core.logging - INFO - Processing flight search query: flight from Mumbai to Delhi on 2022-03-28 returning 2022-03-31 for 1 adults
2025-09-06 00:19:46,486 - app.core.logging - INFO - Calling OpenAI with model: gpt-4o-mini
2025-09-06 00:19:46,486 - app.core.logging - INFO - System message: You are an assistant that helps extract flight information from user queries. Today is 2025-09-06. Extract the following details from the query: 1. location_origin: The departure city or airport, ensu...
2025-09-06 00:19:46,486 - app.core.logging - INFO - User message: flight from Mumbai to Delhi on 2022-03-28 returning 2022-03-31 for 1 adults
2025-09-06 00:19:47,606 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-06 00:19:47,617 - app.core.logging - INFO - OpenAI response: {"location_origin": "BOM", "location_destination": "DEL", "departure_date": "2022-03-28", "adults": 1}
2025-09-06 00:19:47,618 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'BOM', 'location_destination': 'DEL', 'departure_date': '2022-03-28', 'adults': 1}
2025-09-06 00:19:51,520 - app.core.logging - ERROR - Flight search error: [400]

2025-09-06 00:19:51,521 - app.core.logging - ERROR - No flights found or error in forming dataframe
2025-09-06 00:19:56,149 - app.core.logging - INFO - Initializing OptimizedTravelService (singleton)
2025-09-06 00:19:56,170 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:19:56,190 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:21:39,814 - app.core.logging - INFO - Shutting down application
2025-09-06 00:21:40,611 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-06 00:21:40,611 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-06 00:21:41,973 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:21:41,997 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:21:42,024 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:21:42,067 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-06 00:21:56,211 - app.core.logging - INFO - Shutting down application
2025-09-06 00:21:57,001 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-06 00:21:57,001 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-06 00:21:58,010 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:21:58,032 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:21:58,057 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:21:58,100 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-06 00:22:46,457 - app.core.logging - INFO - Shutting down application
2025-09-06 00:22:47,133 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-06 00:22:47,133 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-06 00:22:48,263 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:22:48,287 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:22:48,313 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:22:48,353 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-06 00:22:59,589 - app.core.logging - INFO - Shutting down application
2025-09-06 00:23:00,421 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-06 00:23:00,421 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-06 00:23:01,512 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:23:01,534 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:23:01,562 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:23:01,605 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-06 00:23:56,149 - app.core.logging - INFO - Initializing OptimizedTravelService (singleton)
2025-09-06 00:23:56,171 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:23:56,191 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:24:28,228 - app.core.logging - INFO - Starting streaming travel plan for query: Flights from Mumbai to Delhi tomorrow
2025-09-06 00:24:28,235 - app.core.logging - INFO - Initializing SmartStreamingService (singleton)
2025-09-06 00:24:28,266 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:24:28,296 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:24:28,324 - app.core.logging - INFO - Detecting intent for: Flights from Mumbai to Delhi tomorrow
2025-09-06 00:24:29,939 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-06 00:24:30,752 - app.core.logging - INFO - Processing flight search query: flight from Mumbai to Delhi on 2025-09-07 returning 2025-09-10 for 1 adults
2025-09-06 00:24:30,752 - app.core.logging - ERROR - Error searching flights: name 'timedelta' is not defined
2025-09-06 00:25:01,676 - app.core.logging - INFO - Shutting down application
2025-09-06 00:25:02,468 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-06 00:25:02,468 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-06 00:25:03,692 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:25:03,719 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:25:03,750 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:25:03,793 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-06 00:25:56,148 - app.core.logging - INFO - Initializing OptimizedTravelService (singleton)
2025-09-06 00:25:56,168 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:25:56,188 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:26:56,148 - app.core.logging - INFO - Initializing OptimizedTravelService (singleton)
2025-09-06 00:26:56,168 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 00:26:56,186 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 02:08:48,441 - app.core.logging - INFO - Shutting down application
2025-09-06 20:27:10,096 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 20:27:10,096 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 20:27:10,097 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 20:27:10,097 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 20:27:10,130 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 20:27:10,131 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 20:27:10,131 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 20:27:10,135 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 20:27:10,167 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 20:27:10,167 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 20:27:10,167 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 20:27:10,170 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 20:27:10,287 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-06 20:27:10,287 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-06 20:27:10,288 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-06 20:27:10,292 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-06 20:27:44,966 - app.core.logging - INFO - Starting streaming travel plan for query: Plan a 3-day trip to Kerala
2025-09-06 20:27:44,967 - app.core.logging - INFO - Initializing SmartStreamingService (singleton)
2025-09-06 20:27:45,097 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 20:27:45,158 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 20:27:45,187 - app.core.logging - INFO - Detecting intent for: Plan a 3-day trip to Kerala
2025-09-06 20:27:48,008 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-06 20:27:48,847 - app.core.logging - INFO - Processing flight search query: flight from  to Kerala on 2025-09-07 returning 2025-09-10 for 1 adults
2025-09-06 20:27:48,848 - app.core.logging - INFO - Calling OpenAI with model: gpt-4o-mini
2025-09-06 20:27:48,849 - app.core.logging - INFO - System message: You are an assistant that helps extract flight information from user queries. CRITICAL: Today's date is 2025-09-06. The current year is 2025. ALL dates MUST be in 2025 or later. NEVER use years like 2...
2025-09-06 20:27:48,849 - app.core.logging - INFO - User message: flight from  to Kerala on 2025-09-07 returning 2025-09-10 for 1 adults
2025-09-06 20:27:50,662 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-06 20:27:50,677 - app.core.logging - INFO - OpenAI response: {"location_origin": "XXX", "location_destination": "TRV", "departure_date": "2025-09-07", "adults": 1}
2025-09-06 20:27:50,679 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'XXX', 'location_destination': 'TRV', 'departure_date': '2025-09-07', 'adults': 1}
2025-09-06 20:27:54,170 - app.core.logging - ERROR - No flights found or error in forming dataframe
2025-09-06 20:27:54,870 - app.core.logging - INFO - Processing hotel search query: hotels in Kerala from 2025-09-07 to 2025-09-10 for 1 adults
2025-09-06 20:27:54,871 - app.core.logging - INFO - Calling OpenAI for hotel query extraction
2025-09-06 20:27:57,166 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-06 20:27:57,178 - app.core.logging - INFO - OpenAI response: ```json
{
  "location": "Kerala",
  "check_in_date": "2025-09-07",
  "check_out_date": "2025-09-10",
  "adults": 1,
  "rooms": 1,
  "price_range": "moderate",
  "amenities": [],
  "hotel_rating": null
}
```
2025-09-06 20:27:57,179 - app.core.logging - INFO - Extracted hotel info: {'location': 'Kerala', 'check_in_date': '2025-09-07', 'check_out_date': '2025-09-10', 'adults': 1, 'rooms': 1, 'price_range': 'moderate', 'amenities': [], 'hotel_rating': None}
2025-09-06 20:28:05,099 - app.core.logging - WARNING - No city code found for Kerala
2025-09-06 20:28:05,099 - app.core.logging - ERROR - Could not find city code for Kerala
2025-09-06 20:28:13,604 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-06 20:28:17,902 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-06 20:28:20,972 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-06 20:41:48,292 - app.core.logging - INFO - Starting streaming travel plan for query: i want to visit rajaasthan next weekend ,
2025-09-06 20:41:48,313 - app.core.logging - INFO - Initializing SmartStreamingService (singleton)
2025-09-06 20:41:48,411 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 20:41:48,439 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 20:41:48,469 - app.core.logging - INFO - Detecting intent for: i want to visit rajaasthan next weekend ,
2025-09-06 20:41:50,063 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-06 20:41:50,898 - app.core.logging - INFO - Processing flight search query: flight from  to rajaasthan on 2025-09-13 returning 2025-09-16 for 1 adults
2025-09-06 20:41:50,899 - app.core.logging - INFO - Calling OpenAI with model: gpt-4o-mini
2025-09-06 20:41:50,899 - app.core.logging - INFO - System message: You are an assistant that helps extract flight information from user queries. CRITICAL: Today's date is 2025-09-06. The current year is 2025. ALL dates MUST be in 2025 or later. NEVER use years like 2...
2025-09-06 20:41:50,900 - app.core.logging - INFO - User message: flight from  to rajaasthan on 2025-09-13 returning 2025-09-16 for 1 adults
2025-09-06 20:41:52,644 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-06 20:41:52,681 - app.core.logging - INFO - OpenAI response: {"location_origin": "XXX", "location_destination": "RAJ", "departure_date": "2025-09-13", "adults": 1}
2025-09-06 20:41:52,683 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'XXX', 'location_destination': 'RAJ', 'departure_date': '2025-09-13', 'adults': 1}
2025-09-06 20:41:54,883 - app.core.logging - ERROR - No flights found or error in forming dataframe
2025-09-06 20:41:55,585 - app.core.logging - INFO - Processing hotel search query: hotels in rajaasthan from 2025-09-13 to 2025-09-16 for 1 adults
2025-09-06 20:41:55,585 - app.core.logging - INFO - Calling OpenAI for hotel query extraction
2025-09-06 20:41:58,010 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-06 20:41:58,033 - app.core.logging - INFO - OpenAI response: ```json
{
  "location": "rajaasthan",
  "check_in_date": "2025-09-13",
  "check_out_date": "2025-09-16",
  "adults": 1,
  "rooms": 1,
  "price_range": "moderate",
  "amenities": [],
  "hotel_rating": null
}
```
2025-09-06 20:41:58,034 - app.core.logging - INFO - Extracted hotel info: {'location': 'rajaasthan', 'check_in_date': '2025-09-13', 'check_out_date': '2025-09-16', 'adults': 1, 'rooms': 1, 'price_range': 'moderate', 'amenities': [], 'hotel_rating': None}
2025-09-06 20:42:00,024 - app.core.logging - WARNING - No city code found for rajaasthan
2025-09-06 20:42:00,024 - app.core.logging - ERROR - Could not find city code for rajaasthan
2025-09-06 20:42:03,908 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-06 20:42:08,764 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-06 20:42:11,323 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-06 20:43:01,872 - app.core.logging - INFO - Starting streaming travel plan for query: Plan a trip to Dubai
2025-09-06 20:43:01,873 - app.core.logging - INFO - Detecting intent for: Plan a trip to Dubai
2025-09-06 20:43:03,311 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-06 20:43:04,135 - app.core.logging - INFO - Processing flight search query: flight from  to Dubai on 2025-09-07 returning 2025-09-10 for 1 adults
2025-09-06 20:43:04,136 - app.core.logging - INFO - Calling OpenAI with model: gpt-4o-mini
2025-09-06 20:43:04,137 - app.core.logging - INFO - System message: You are an assistant that helps extract flight information from user queries. CRITICAL: Today's date is 2025-09-06. The current year is 2025. ALL dates MUST be in 2025 or later. NEVER use years like 2...
2025-09-06 20:43:04,137 - app.core.logging - INFO - User message: flight from  to Dubai on 2025-09-07 returning 2025-09-10 for 1 adults
2025-09-06 20:43:05,651 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-06 20:43:05,672 - app.core.logging - INFO - OpenAI response: {"location_origin": "XXX", "location_destination": "DXB", "departure_date": "2025-09-07", "adults": 1}
2025-09-06 20:43:05,672 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'XXX', 'location_destination': 'DXB', 'departure_date': '2025-09-07', 'adults': 1}
2025-09-06 20:43:08,089 - app.core.logging - ERROR - No flights found or error in forming dataframe
2025-09-06 20:43:08,792 - app.core.logging - INFO - Processing hotel search query: hotels in Dubai from 2025-09-07 to 2025-09-10 for 1 adults
2025-09-06 20:43:08,793 - app.core.logging - INFO - Calling OpenAI for hotel query extraction
2025-09-06 20:43:11,084 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-06 20:43:11,098 - app.core.logging - INFO - OpenAI response: ```json
{
  "location": "Dubai",
  "check_in_date": "2025-09-07",
  "check_out_date": "2025-09-10",
  "adults": 1,
  "rooms": 1,
  "price_range": "moderate",
  "amenities": [],
  "hotel_rating": null
}
```
2025-09-06 20:43:11,099 - app.core.logging - INFO - Extracted hotel info: {'location': 'Dubai', 'check_in_date': '2025-09-07', 'check_out_date': '2025-09-10', 'adults': 1, 'rooms': 1, 'price_range': 'moderate', 'amenities': [], 'hotel_rating': None}
2025-09-06 20:43:13,424 - app.core.logging - WARNING - No city code found for Dubai
2025-09-06 20:43:13,425 - app.core.logging - ERROR - Could not find city code for Dubai
2025-09-06 20:43:17,501 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-06 20:43:21,232 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-06 20:43:23,756 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-06 21:20:02,263 - app.core.logging - INFO - Starting streaming travel plan for query: Plan a trip to Dubai
2025-09-06 21:20:02,263 - app.core.logging - INFO - Detecting intent for: Plan a trip to Dubai
2025-09-06 21:20:03,669 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-06 21:20:04,485 - app.core.logging - INFO - Processing flight search query: flight from  to Dubai on 2025-09-07 returning 2025-09-10 for 1 adults
2025-09-06 21:20:04,486 - app.core.logging - INFO - Calling OpenAI with model: gpt-4o-mini
2025-09-06 21:20:04,486 - app.core.logging - INFO - System message: You are an assistant that helps extract flight information from user queries. CRITICAL: Today's date is 2025-09-06. The current year is 2025. ALL dates MUST be in 2025 or later. NEVER use years like 2...
2025-09-06 21:20:04,486 - app.core.logging - INFO - User message: flight from  to Dubai on 2025-09-07 returning 2025-09-10 for 1 adults
2025-09-06 21:20:05,969 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-06 21:20:05,970 - app.core.logging - INFO - OpenAI response: {"location_origin": "XXX", "location_destination": "DXB", "departure_date": "2025-09-07", "adults": 1}
2025-09-06 21:20:05,971 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'XXX', 'location_destination': 'DXB', 'departure_date': '2025-09-07', 'adults': 1}
2025-09-06 21:20:12,071 - app.core.logging - ERROR - No flights found or error in forming dataframe
2025-09-06 21:20:12,772 - app.core.logging - INFO - Processing hotel search query: hotels in Dubai from 2025-09-07 to 2025-09-10 for 1 adults
2025-09-06 21:20:12,773 - app.core.logging - INFO - Calling OpenAI for hotel query extraction
2025-09-06 21:20:15,258 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-06 21:20:15,271 - app.core.logging - INFO - OpenAI response: ```json
{
  "location": "Dubai",
  "check_in_date": "2025-09-07",
  "check_out_date": "2025-09-10",
  "adults": 1,
  "rooms": 1,
  "price_range": "moderate",
  "amenities": [],
  "hotel_rating": null
}
```
2025-09-06 21:20:15,272 - app.core.logging - INFO - Extracted hotel info: {'location': 'Dubai', 'check_in_date': '2025-09-07', 'check_out_date': '2025-09-10', 'adults': 1, 'rooms': 1, 'price_range': 'moderate', 'amenities': [], 'hotel_rating': None}
2025-09-06 21:20:20,381 - app.core.logging - WARNING - No city code found for Dubai
2025-09-06 21:20:20,382 - app.core.logging - ERROR - Could not find city code for Dubai
2025-09-06 21:20:26,585 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-06 21:20:31,086 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-06 21:20:34,406 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-06 21:21:34,017 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 21:21:34,041 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 21:21:34,052 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 21:21:34,055 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 21:21:34,055 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 21:21:34,069 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 21:21:34,080 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 21:21:34,081 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 21:21:34,081 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 21:21:34,110 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 21:21:34,111 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 21:21:34,112 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 21:21:34,173 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-06 21:21:34,215 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-06 21:21:34,218 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-06 21:21:34,221 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-06 21:22:03,670 - app.core.logging - INFO - Starting streaming travel plan for query: i want to go to rajasthan for 2 day , next weekend , me and my wife
2025-09-06 21:22:03,674 - app.core.logging - INFO - Initializing SmartStreamingService (singleton)
2025-09-06 21:22:03,691 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 21:22:03,705 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 21:22:03,719 - app.core.logging - INFO - Detecting intent for: i want to go to rajasthan for 2 day , next weekend , me and my wife
2025-09-06 21:22:21,520 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-06 21:22:22,346 - app.core.logging - INFO - Processing flight search query: flight from  to Rajasthan on 2025-09-13 returning 2025-09-15 for 2 adults
2025-09-06 21:22:22,347 - app.core.logging - INFO - Calling OpenAI with model: gpt-4o-mini
2025-09-06 21:22:22,347 - app.core.logging - INFO - System message: You are an assistant that helps extract flight information from user queries. CRITICAL: Today's date is 2025-09-06. The current year is 2025. ALL dates MUST be in 2025 or later. NEVER use years like 2...
2025-09-06 21:22:22,347 - app.core.logging - INFO - User message: flight from  to Rajasthan on 2025-09-13 returning 2025-09-15 for 2 adults
2025-09-06 21:22:23,913 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-06 21:22:23,916 - app.core.logging - INFO - OpenAI response: {"location_origin": "XXX", "location_destination": "RAJ", "departure_date": "2025-09-13", "adults": 2}
2025-09-06 21:22:23,916 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'XXX', 'location_destination': 'RAJ', 'departure_date': '2025-09-13', 'adults': 2}
2025-09-06 21:22:26,638 - app.core.logging - ERROR - No flights found or error in forming dataframe
2025-09-06 21:22:27,340 - app.core.logging - INFO - Processing hotel search query: hotels in Rajasthan from 2025-09-13 to 2025-09-15 for 2 adults
2025-09-06 21:22:27,341 - app.core.logging - INFO - Calling OpenAI for hotel query extraction
2025-09-06 21:22:29,313 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-06 21:22:29,317 - app.core.logging - INFO - OpenAI response: ```json
{
  "location": "Rajasthan",
  "check_in_date": "2025-09-13",
  "check_out_date": "2025-09-15",
  "adults": 2,
  "rooms": 1,
  "price_range": "moderate",
  "amenities": [],
  "hotel_rating": null
}
```
2025-09-06 21:22:29,317 - app.core.logging - INFO - Extracted hotel info: {'location': 'Rajasthan', 'check_in_date': '2025-09-13', 'check_out_date': '2025-09-15', 'adults': 2, 'rooms': 1, 'price_range': 'moderate', 'amenities': [], 'hotel_rating': None}
2025-09-06 21:22:31,667 - app.core.logging - WARNING - No city code found for Rajasthan
2025-09-06 21:22:31,667 - app.core.logging - ERROR - Could not find city code for Rajasthan
2025-09-06 21:23:08,623 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-06 21:23:13,332 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-06 21:23:16,660 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-06 21:29:38,760 - app.core.logging - INFO - Shutting down application
2025-09-06 21:29:38,765 - app.core.logging - INFO - Shutting down application
2025-09-06 21:29:38,806 - app.core.logging - INFO - Shutting down application
2025-09-06 21:29:38,827 - app.core.logging - INFO - Shutting down application
2025-09-06 21:29:48,173 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 21:29:48,175 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 21:29:48,188 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 21:29:48,197 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 21:29:48,198 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 21:29:48,211 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 21:29:48,216 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 21:29:48,224 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 21:29:48,224 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 21:29:48,238 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 21:29:48,239 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 21:29:48,266 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 21:29:48,316 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-06 21:29:48,319 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-06 21:29:48,331 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-06 21:29:48,351 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-06 21:30:55,023 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 21:30:55,033 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 21:30:55,035 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 21:30:55,037 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 21:30:55,046 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 21:30:55,057 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 21:30:55,059 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 21:30:55,062 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 21:30:55,074 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 21:30:55,087 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 21:30:55,088 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 21:30:55,091 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 21:30:55,175 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-06 21:30:55,185 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-06 21:30:55,186 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-06 21:30:55,186 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-06 21:31:09,315 - app.core.logging - INFO - Starting streaming travel plan for query: i want to go to the delhi
2025-09-06 21:31:09,322 - app.core.logging - INFO - Initializing SmartStreamingService (singleton)
2025-09-06 21:31:09,337 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 21:31:09,352 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 21:31:09,366 - app.core.logging - INFO - Detecting intent for: i want to go to the delhi
2025-09-06 21:31:12,506 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-06 21:31:26,393 - app.core.logging - INFO - Starting streaming travel plan for query: i want to go to the delhi
2025-09-06 21:31:26,400 - app.core.logging - INFO - Initializing SmartStreamingService (singleton)
2025-09-06 21:31:26,418 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 21:31:26,434 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 21:31:26,450 - app.core.logging - INFO - Detecting intent for: i want to go to the delhi
2025-09-06 21:31:36,570 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-06 21:32:19,451 - app.core.logging - INFO - Starting streaming travel plan for query: i want to go to the delhi to mumbai for next friday 2 people
2025-09-06 21:32:19,453 - app.core.logging - INFO - Initializing SmartStreamingService (singleton)
2025-09-06 21:32:19,468 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 21:32:19,482 - app.core.logging - INFO - Initializing OpenAI client with key: sk-proj-z6...
2025-09-06 21:32:19,496 - app.core.logging - INFO - Detecting intent for: i want to go to the delhi to mumbai for next friday 2 people
2025-09-06 21:32:22,811 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-06 21:32:23,625 - app.core.logging - INFO - Processing flight search query: flight from delhi to mumbai on 2025-09-12 returning 2025-09-15 for 2 adults
2025-09-06 21:32:23,625 - app.core.logging - INFO - Calling OpenAI with model: gpt-4o-mini
2025-09-06 21:32:23,625 - app.core.logging - INFO - System message: You are an assistant that helps extract flight information from user queries. CRITICAL: Today's date is 2025-09-06. The current year is 2025. ALL dates MUST be in 2025 or later. NEVER use years like 2...
2025-09-06 21:32:23,625 - app.core.logging - INFO - User message: flight from delhi to mumbai on 2025-09-12 returning 2025-09-15 for 2 adults
2025-09-06 21:32:30,735 - openai._base_client - INFO - Retrying request to /chat/completions in 0.381936 seconds
2025-09-06 21:32:34,771 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-06 21:32:34,774 - app.core.logging - INFO - OpenAI response: {"location_origin": "DEL", "location_destination": "BOM", "departure_date": "2025-09-12", "adults": 2}
2025-09-06 21:32:34,774 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'DEL', 'location_destination': 'BOM', 'departure_date': '2025-09-12', 'adults': 2}
2025-09-06 21:33:16,641 - app.core.logging - INFO - Created dataframe with 12 flights
2025-09-06 21:33:17,344 - app.core.logging - INFO - Processing hotel search query: hotels in mumbai from 2025-09-12 to 2025-09-15 for 2 adults
2025-09-06 21:33:17,346 - app.core.logging - INFO - Calling OpenAI for hotel query extraction
2025-09-06 21:33:20,359 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-06 21:33:20,361 - app.core.logging - INFO - OpenAI response: ```json
{
  "location": "mumbai",
  "check_in_date": "2025-09-12",
  "check_out_date": "2025-09-15",
  "adults": 2,
  "rooms": 1,
  "price_range": "moderate",
  "amenities": [],
  "hotel_rating": null
}
```
2025-09-06 21:33:20,362 - app.core.logging - INFO - Extracted hotel info: {'location': 'mumbai', 'check_in_date': '2025-09-12', 'check_out_date': '2025-09-15', 'adults': 2, 'rooms': 1, 'price_range': 'moderate', 'amenities': [], 'hotel_rating': None}
2025-09-06 21:33:31,545 - app.core.logging - ERROR - No hotels found or error in forming dataframe
2025-09-06 21:33:36,476 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-06 21:33:41,171 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-06 21:33:44,758 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
