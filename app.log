2025-09-03 16:44:35,103 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-03 16:44:35,106 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-03 16:44:35,108 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-03 16:44:35,113 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-03 16:45:01,384 - app.core.logging - INFO - Received chat request: i want flight from mumbai to delhi...
2025-09-03 16:45:01,384 - app.core.logging - INFO - No existing flight data in session, fetching new data
2025-09-03 16:45:01,384 - app.core.logging - INFO - Processing flight search query: i want flight from mumbai to delhi
2025-09-03 16:45:01,880 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 401 Unauthorized"
2025-09-03 16:45:01,883 - app.core.logging - ERROR - Error processing message: Error code: 401 - {'error': {'message': 'Incorrect API key provided: sk-proj-*********************************xxxx. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}
2025-09-03 16:51:45,728 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-03 16:51:45,737 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-03 16:51:45,757 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-03 16:51:45,765 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-03 16:51:49,500 - app.core.logging - INFO - Received chat request: Find me flights from New York to London on Decembe...
2025-09-03 16:51:49,501 - app.core.logging - INFO - No existing flight data in session, fetching new data
2025-09-03 16:51:49,503 - app.core.logging - INFO - Processing flight search query: Find me flights from New York to London on December 15, 2024
2025-09-03 16:51:50,477 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-09-03 16:51:50,477 - openai._base_client - INFO - Retrying request to /chat/completions in 0.488558 seconds
2025-09-03 16:51:51,453 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-09-03 16:51:51,455 - openai._base_client - INFO - Retrying request to /chat/completions in 0.852464 seconds
2025-09-03 16:51:54,471 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-09-03 16:51:54,473 - app.core.logging - ERROR - Error processing message: Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}
2025-09-03 16:55:49,838 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-03 16:55:49,841 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-03 16:55:49,924 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-03 16:55:49,940 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-03 16:56:41,936 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-03 16:56:41,936 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-03 16:56:42,863 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-03 16:56:58,147 - app.core.logging - INFO - Received chat request: Show me the cheapest flights from Delhi to Mumbai ...
2025-09-03 16:56:58,147 - app.core.logging - INFO - No existing flight data in session, fetching new data
2025-09-03 16:56:58,147 - app.core.logging - INFO - Processing flight search query: Show me the cheapest flights from Delhi to Mumbai on January 10, 2025
2025-09-03 16:56:59,797 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-03 16:56:59,805 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'DEL', 'location_destination': 'BOM', 'departure_date': '2025-01-10', 'adults': 1}
2025-09-03 16:57:02,266 - app.core.logging - ERROR - Flight search error: [400]

2025-09-03 16:57:02,266 - app.core.logging - ERROR - No flights found or error in forming dataframe
2025-09-03 16:57:21,870 - app.core.logging - INFO - Received chat request: Show me the cheapest flights from Delhi to Mumbai ...
2025-09-03 16:57:21,870 - app.core.logging - INFO - No existing flight data in session, fetching new data
2025-09-03 16:57:21,870 - app.core.logging - INFO - Processing flight search query: Show me the cheapest flights from Delhi to Mumbai on oct 10, 2025
2025-09-03 16:57:23,136 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-03 16:57:23,153 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'DEL', 'location_destination': 'BOM', 'departure_date': '2025-10-10', 'adults': 1}
2025-09-03 16:57:27,385 - app.core.logging - INFO - Created dataframe with 11 flights
2025-09-03 16:57:27,386 - app.core.logging - INFO - Sending query to LLM: System Prompt: 
        You are an assistant that helps to answer queries based on the flight information dataframe provided. 
        This is a dataframe containing flight information from DEL to BOM. 
        So answer the question by analyzing dataframe and give direct answers to query and please refrain from explaining how things are calculated. 
        Don't give the code but analyze the dataframe, calculate values if required by yourself and answer the query.
        Format your response in a clear, user-friendly manner with appropriate formatting for a chat interface.
        
Query: Show me the cheapest flights from Delhi to Mumbai on oct 10, 2025
2025-09-03 16:57:28,541 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-03 16:57:30,244 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-03 16:57:31,611 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-03 16:57:33,211 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-03 16:57:41,763 - app.core.logging - INFO - LLM Response: Here are the cheapest flights from Delhi to Mumbai on October 10, 2025:

1. **Flight 1**
   - **Airline Code:** AI
   - **Airline Name:** AIR INDIA
   - **Departure:** 21:10
   - **Arrival:** 23:35
   - **Total Price:** €57.89
   - **Number of Stops:** 0
   - **Cabin:** ECONOMY
   - **One Way:** Yes

2. **Flight 2**
   - **Airline Code:** AI
   - **Airline Name:** AIR INDIA
   - **Departure:** 11:00
   - **Arrival:** 11:50
   - **Total Price:** €61.74
   - **Number of Stops:** 1
   - **Cabin:** ECONOMY
   - **One Way:** Yes

3. **Flight 3**
   - **Airline Code:** AI
   - **Airline Name:** AIR INDIA
   - **Departure:** 18:00
   - **Arrival:** 20:00
   - **Total Price:** €61.74
   - **Number of Stops:** 1
   - **Cabin:** ECONOMY
   - **One Way:** Yes
   
4. **Flight 4**
   - **Airline Code:** AI
   - **Airline Name:** AIR INDIA
   - **Departure:** 12:35
   - **Arrival:** 14:50
   - **Total Price:** €75.74
   - **Number of Stops:** 0
   - **Cabin:** ECONOMY
   - **One Way:** Yes

5. **Flight 5**
   - **Airline Code:** AI
   - **Airline Name:** AIR INDIA
   - **Departure:** 16:50
   - **Arrival:** 19:05
   - **Total Price:** €75.74
   - **Number of Stops:** 0
   - **Cabin:** ECONOMY
   - **One Way:** Yes

Let me know if you need more information!
2025-09-03 16:57:58,993 - app.core.logging - INFO - Cleared session: a1cdb2f2-65fc-4d16-913c-ef114acc3f2f
2025-09-03 16:58:42,495 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-03 16:58:42,495 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-03 16:58:43,422 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-03 16:58:52,959 - app.core.logging - INFO - Received chat request: I need 2 tickets from San Francisco to Tokyo next ...
2025-09-03 16:58:52,959 - app.core.logging - INFO - No existing flight data in session, fetching new data
2025-09-03 16:58:52,959 - app.core.logging - INFO - Processing flight search query: I need 2 tickets from San Francisco to Tokyo next Monday
2025-09-03 16:58:54,735 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-03 16:58:54,745 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'SFO', 'location_destination': 'NRT', 'departure_date': '2025-09-08', 'adults': 2}
2025-09-03 17:00:03,399 - app.core.logging - WARNING - Could not fetch airline name for BR: Remote end closed connection without response
2025-09-03 17:00:20,541 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-03 17:00:20,541 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-03 17:00:21,836 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-03 17:00:51,730 - app.core.logging - INFO - Received chat request: i want flight from coimbatore to delhi 20 oct...
2025-09-03 17:00:51,731 - app.core.logging - INFO - No existing flight data in session, fetching new data
2025-09-03 17:00:51,731 - app.core.logging - INFO - Processing flight search query: i want flight from coimbatore to delhi 20 oct
2025-09-03 17:00:53,474 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-03 17:00:53,487 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'CJB', 'location_destination': 'DEL', 'departure_date': '2025-10-20', 'adults': 1}
2025-09-03 17:01:01,797 - app.core.logging - INFO - Created dataframe with 17 flights
2025-09-03 17:01:01,798 - app.core.logging - INFO - Sending query to LLM: System Prompt: 
        You are an assistant that helps to answer queries based on the flight information dataframe provided. 
        This is a dataframe containing flight information from CJB to DEL. 
        So answer the question by analyzing dataframe and give direct answers to query and please refrain from explaining how things are calculated. 
        Don't give the code but analyze the dataframe, calculate values if required by yourself and answer the query.
        Format your response in a clear, user-friendly manner with appropriate formatting for a chat interface.
        
Query: i want flight from coimbatore to delhi 20 oct
2025-09-03 17:01:02,927 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-03 17:01:08,634 - app.core.logging - INFO - LLM Response: Here are the available flights from Coimbatore (CJB) to Delhi (DEL) on October 20, 2025:

1. **Airline**: AIR INDIA 
   - **Departure**: 15:20 
   - **Arrival**: 18:30 
   - **Total Price**: €87.73 
   - **Stops**: 0 
   - **Cabin**: ECONOMY 
   - **One Way**: Yes 

2. **Airline**: AIR INDIA 
   - **Departure**: 18:45 
   - **Arrival**: 22:00 
   - **Total Price**: €87.73 
   - **Stops**: 0 
   - **Cabin**: ECONOMY 
   - **One Way**: Yes 

3. **Airline**: AIR INDIA 
   - **Departure**: 15:10 
   - **Arrival**: 19:55 
   - **Total Price**: €134.98 
   - **Stops**: 0 
   - **Cabin**: ECONOMY 
   - **One Way**: Yes 

4. **Airline**: AIR INDIA 
   - **Departure**: 15:10 
   - **Arrival**: 16:15 
   - **Total Price**: €137.78 
   - **Stops**: 1 
   - **Cabin**: ECONOMY 
   - **One Way**: Yes 

5. **Airline**: AIR INDIA 
   - **Departure**: 20:40 
   - **Arrival**: 23:25 
   - **Total Price**: €137.78 
   - **Stops**: 1 
   - **Cabin**: ECONOMY 
   - **One Way**: Yes 

Let me know if you need more details or assistance with booking!
2025-09-03 17:03:22,681 - app.core.logging - INFO - Received chat request: let's go with the 2 second option...
2025-09-03 17:03:22,681 - app.core.logging - INFO - Sending query to LLM: System Prompt: 
        You are an assistant that helps to answer queries based on the flight information dataframe provided. 
        This is a dataframe containing flight information from CJB to DEL. 
        So answer the question by analyzing dataframe and give direct answers to query and please refrain from explaining how things are calculated. 
        Don't give the code but analyze the dataframe, calculate values if required by yourself and answer the query.
        Format your response in a clear, user-friendly manner with appropriate formatting for a chat interface.
        
Query: let's go with the 2 second option
2025-09-03 17:03:25,204 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-03 17:03:27,089 - app.core.logging - INFO - LLM Response: The second option in the dataframe corresponds to the following flight details:

- **Airline Code:** AI
- **Airline Name:** AIR INDIA
- **Departure:** 2025-10-20 at 18:45
- **Arrival:** 2025-10-20 at 22:00
- **Total Price:** €87.73
- **Currency:** EUR
- **Number of Stops:** 0
- **Cabin Class:** ECONOMY
- **One Way:** Yes

This flight is a direct (non-stop) flight with a total price of €87.73.
2025-09-03 17:15:32,428 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-03 17:15:32,429 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-03 17:15:32,432 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-03 17:15:32,432 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-03 17:15:32,502 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-03 17:15:32,502 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-03 17:15:32,520 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-03 17:15:32,521 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-03 17:15:34,521 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-03 17:15:34,678 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-03 17:15:34,719 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-03 17:15:34,724 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-03 17:16:27,290 - app.core.logging - INFO - Received chat request: Find flights from mumbai to delhi on 2025-09-03 re...
2025-09-03 17:16:27,290 - app.core.logging - INFO - No existing flight data in session, fetching new data
2025-09-03 17:16:27,290 - app.core.logging - INFO - Processing flight search query: Find flights from mumbai to delhi on 2025-09-03 returning 2025-09-12 for 1 passenger
2025-09-03 17:16:29,951 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-03 17:16:29,959 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'BOM', 'location_destination': 'DEL', 'departure_date': '2025-09-03', 'adults': 1}
2025-09-03 17:16:46,689 - app.core.logging - INFO - Created dataframe with 14 flights
2025-09-03 17:16:46,689 - app.core.logging - INFO - Sending query to LLM: System Prompt: 
        You are an assistant that helps to answer queries based on the flight information dataframe provided. 
        This is a dataframe containing flight information from BOM to DEL. 
        So answer the question by analyzing dataframe and give direct answers to query and please refrain from explaining how things are calculated. 
        Don't give the code but analyze the dataframe, calculate values if required by yourself and answer the query.
        Format your response in a clear, user-friendly manner with appropriate formatting for a chat interface.
        
Query: Find flights from mumbai to delhi on 2025-09-03 returning 2025-09-12 for 1 passenger
2025-09-03 17:16:49,496 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-03 17:16:59,550 - app.core.logging - INFO - LLM Response: Here are the available flights from Mumbai to Delhi on September 3, 2025, returning on September 12, 2025, for 1 passenger:

| Airline Code | Airline Name | Departure           | Arrival             | Total Price | Currency | Number of Stops | Cabin   | One Way |
|--------------|--------------|---------------------|---------------------|-------------|----------|------------------|---------|---------|
| AI           | AIR INDIA    | 2025-09-03T22:50:00 | 2025-09-04T01:00:00 | 65.55       | EUR      | 0                | ECONOMY | True    |
| AI           | AIR INDIA    | 2025-09-03T21:00:00 | 2025-09-03T23:15:00 | 65.55       | EUR      | 0                | ECONOMY | True    |
| AI           | AIR INDIA    | 2025-09-03T21:55:00 | 2025-09-04T00:10:00 | 71.85       | EUR      | 0                | ECONOMY | True    |
| AI           | AIR INDIA    | 2025-09-03T18:30:00 | 2025-09-03T19:50:00 | 73.60       | EUR      | 1                | ECONOMY | True    |
| AI           | AIR INDIA    | 2025-09-03T22:10:00 | 2025-09-03T23:55:00 | 73.60       | EUR      | 1                | ECONOMY | True    |

Please review the details and let me know if you need further assistance or wish to proceed with a booking!
2025-09-03 17:23:22,473 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-03 17:23:22,473 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-03 17:23:22,481 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-03 17:23:22,481 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-03 17:23:22,484 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-03 17:23:22,484 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-03 17:23:22,490 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-03 17:23:22,490 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-03 17:23:24,474 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-03 17:23:24,478 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-03 17:23:24,493 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-03 17:23:24,602 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-03 17:23:51,377 - app.core.logging - INFO - Received chat request: i want to go mumbai to delhi next monday...
2025-09-03 17:23:51,377 - app.core.logging - INFO - No existing flight data in session, fetching new data
2025-09-03 17:23:51,377 - app.core.logging - INFO - Processing flight search query: i want to go mumbai to delhi next monday
2025-09-03 17:23:53,024 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-03 17:23:53,044 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'BOM', 'location_destination': 'DEL', 'departure_date': '2025-09-08', 'adults': 1}
2025-09-03 17:24:01,000 - app.core.logging - INFO - Created dataframe with 14 flights
2025-09-03 17:24:01,000 - app.core.logging - INFO - Sending query to LLM: System Prompt: 
        You are an assistant that helps to answer queries based on the flight information dataframe provided. 
        This is a dataframe containing flight information from BOM to DEL. 
        So answer the question by analyzing dataframe and give direct answers to query and please refrain from explaining how things are calculated. 
        Don't give the code but analyze the dataframe, calculate values if required by yourself and answer the query.
        Format your response in a clear, user-friendly manner with appropriate formatting for a chat interface.
        
Query: i want to go mumbai to delhi next monday
2025-09-03 17:24:03,425 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-03 17:24:12,933 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-03 17:24:19,388 - app.core.logging - INFO - LLM Response: Here are the available flights from Mumbai (BOM) to Delhi (DEL) on **September 11, 2025** (next Monday):

| Airline Code | Airline Name | Departure           | Arrival             | Total Price | Currency | Number of Stops | Cabin   | One Way |
|--------------|--------------|---------------------|---------------------|-------------|----------|------------------|---------|---------|
| AI           | AIR INDIA    | 2025-09-11T18:20:00 | 2025-09-11T19:35:00 | €43.15      | EUR      | 1                | ECONOMY | Yes     |
| AI           | AIR INDIA    | 2025-09-11T20:45:00 | 2025-09-11T23:25:00 | €43.15      | EUR      | 1                | ECONOMY | Yes     |
| AI           | AIR INDIA    | 2025-09-11T07:00:00 | 2025-09-11T08:55:00 | €43.15      | EUR      | 1                | ECONOMY | Yes     |
| AI           | AIR INDIA    | 2025-09-11T12:20:00 | 2025-09-11T13:25:00 | €43.15      | EUR      | 1                | ECONOMY | Yes     |
| AI           | AIR INDIA    | 2025-09-11T12:10:00 | 2025-09-11T14:25:00 | €43.15      | EUR      | 1                | ECONOMY | Yes     |

Please let me know if you would like to book any of these flights!
2025-09-03 17:32:20,566 - app.core.logging - INFO - Shutting down application
2025-09-03 17:32:20,569 - app.core.logging - INFO - Shutting down application
2025-09-03 17:32:20,626 - app.core.logging - INFO - Shutting down application
2025-09-03 17:32:20,627 - app.core.logging - INFO - Shutting down application
2025-09-03 17:32:37,341 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-03 17:32:37,341 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-03 17:32:37,348 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-03 17:32:37,348 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-03 17:32:37,360 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-03 17:32:37,360 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-03 17:32:37,390 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-03 17:32:37,390 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-03 17:32:39,098 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-03 17:32:39,154 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-03 17:32:39,195 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-03 17:32:39,195 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-03 17:33:09,759 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-03 17:33:09,759 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-03 17:33:09,759 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-03 17:33:09,759 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-03 17:33:09,759 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-03 17:33:09,760 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-03 17:33:09,763 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-03 17:33:09,764 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-03 17:33:11,478 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-03 17:33:11,492 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-03 17:33:11,498 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-03 17:33:11,513 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-03 17:33:16,350 - app.core.logging - INFO - Received chat request: Show me the cheapest flights from Delhi to Mumbai ...
2025-09-03 17:33:16,351 - app.core.logging - INFO - No existing flight data in session, fetching new data
2025-09-03 17:33:16,352 - app.core.logging - INFO - Processing flight search query: Show me the cheapest flights from Delhi to Mumbai next week
2025-09-03 17:33:17,861 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-03 17:33:17,868 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'DEL', 'location_destination': 'BOM', 'departure_date': '2025-09-08', 'adults': 1}
2025-09-03 17:33:25,173 - app.core.logging - INFO - Created dataframe with 11 flights
2025-09-03 17:33:25,174 - app.core.logging - INFO - Sending query to LLM: System Prompt: 
        You are a professional flight booking assistant specializing in helping users find and analyze flight information. You have access to real-time flight data and can provide detailed analysis and recommendations.

        CURRENT CONTEXT:
        - Flight data from DEL to BOM
        - Real-time pricing and availability information

        CAPABILITIES:
        - Analyze flight data including prices, airlines, stops, cabin classes
        - Provide comparative analysis and recommendations
        - Identify best deals and optimal flight options
        - Handle follow-up questions about the same flight search

        RESPONSE GUIDELINES:
        - Provide direct, actionable answers without explaining calculation methods
        - Format responses clearly for chat interface with proper structure
        - Include specific flight details when relevant (airline, price, times, stops)
        - Focus on user value: best prices, shortest flights, preferred airlines
        - Maintain professional yet friendly tone
        - Don't show code or technical processes

        ANALYSIS FOCUS:
        - Price comparisons and best deals
        - Flight duration and convenience
        - Airline preferences and reputation
        - Number of stops and layover times
        - Cabin class options and upgrades

        Analyze the flight dataframe and provide insights that help users make informed booking decisions.
        
Query: Show me the cheapest flights from Delhi to Mumbai next week
2025-09-03 17:33:27,216 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-03 17:33:30,359 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-03 17:33:34,756 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-03 17:33:43,390 - app.core.logging - INFO - LLM Response: Here are the cheapest flights from Delhi to Mumbai for next week:

1. **Airline:** AIR INDIA  
   **Departure:** 2025-09-08, 11:00 AM  
   **Arrival:** 2025-09-08, 11:50 AM  
   **Total Price:** €44.94  
   **Stops:** 1  
   **Cabin:** ECONOMY  
   **One Way:** Yes  

2. **Airline:** AIR INDIA  
   **Departure:** 2025-09-08, 6:00 PM  
   **Arrival:** 2025-09-08, 8:00 PM  
   **Total Price:** €44.94  
   **Stops:** 1  
   **Cabin:** ECONOMY  
   **One Way:** Yes  

3. **Airline:** AIR INDIA  
   **Departure:** 2025-09-08, 9:10 PM  
   **Arrival:** 2025-09-08, 11:35 PM  
   **Total Price:** €53.69  
   **Stops:** 0  
   **Cabin:** ECONOMY  
   **One Way:** Yes  

4. **Airline:** AIR INDIA  
   **Departure:** 2025-09-08, 12:35 PM  
   **Arrival:** 2025-09-08, 2:50 PM  
   **Total Price:** €61.04  
   **Stops:** 0  
   **Cabin:** ECONOMY  
   **One Way:** Yes  

5. **Airline:** AIR INDIA  
   **Departure:** 2025-09-08, 12:15 PM  
   **Arrival:** 2025-09-08, 2:35 PM  
   **Total Price:** €61.04  
   **Stops:** 0  
   **Cabin:** ECONOMY  
   **One Way:** Yes  

These options provide a range of times, with the first two flights being the cheapest at €44.94, both requiring 1 stop. Let me know if you need more details!
2025-09-03 17:40:47,112 - app.core.logging - INFO - Shutting down application
2025-09-03 17:40:47,112 - app.core.logging - INFO - Shutting down application
2025-09-03 17:40:47,120 - app.core.logging - INFO - Shutting down application
2025-09-03 17:40:47,120 - app.core.logging - INFO - Shutting down application
2025-09-03 17:40:52,057 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-03 17:40:52,057 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-03 17:40:52,104 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-03 17:40:52,104 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-03 17:40:52,219 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-03 17:40:52,220 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-03 17:40:52,236 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-03 17:40:52,236 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-03 17:40:54,367 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-03 17:40:54,409 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-03 17:40:54,477 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-03 17:40:54,640 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-03 17:42:12,282 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-03 17:42:12,325 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-03 17:42:12,348 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-03 17:42:12,376 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-03 17:42:52,299 - app.core.logging - INFO - Received chat request: i want to mumbai next from delhi...
2025-09-03 17:42:52,299 - app.core.logging - INFO - No existing flight data in session, fetching new data
2025-09-03 17:42:52,299 - app.core.logging - INFO - Processing flight search query: i want to mumbai next from delhi
2025-09-03 17:42:53,687 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-03 17:42:53,696 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'DEL', 'location_destination': 'BOM', 'departure_date': '2025-09-04', 'adults': 1}
2025-09-03 17:42:59,289 - app.core.logging - INFO - Created dataframe with 11 flights
2025-09-03 17:42:59,289 - app.core.logging - INFO - Sending query to LLM: System Prompt: 
        You are a professional flight booking assistant specializing in helping users find and analyze flight information. You have access to real-time flight data and can provide detailed analysis and recommendations.

        CURRENT CONTEXT:
        - Flight data from DEL to BOM
        - Real-time pricing and availability information

        CAPABILITIES:
        - Analyze flight data including prices, airlines, stops, cabin classes
        - Provide comparative analysis and recommendations
        - Identify best deals and optimal flight options
        - Handle follow-up questions about the same flight search

        RESPONSE GUIDELINES:
        - Provide direct, actionable answers without explaining calculation methods
        - Format responses clearly for chat interface with proper structure
        - Include specific flight details when relevant (airline, price, times, stops)
        - Focus on user value: best prices, shortest flights, preferred airlines
        - Maintain professional yet friendly tone
        - Don't show code or technical processes

        ANALYSIS FOCUS:
        - Price comparisons and best deals
        - Flight duration and convenience
        - Airline preferences and reputation
        - Number of stops and layover times
        - Cabin class options and upgrades

        Analyze the flight dataframe and provide insights that help users make informed booking decisions.
        
Query: i want to mumbai next from delhi
2025-09-03 17:43:00,084 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-03 17:43:11,052 - app.core.logging - INFO - LLM Response: Here are the best flight options from Delhi (DEL) to Mumbai (BOM) based on the available data:

### Flight Options

1. **Airline:** AIR INDIA  
   **Departure:** 2025-09-04 at 11:00 AM  
   **Arrival:** 2025-09-04 at 11:50 AM  
   **Total Price:** €40.74  
   **Currency:** EUR  
   **Number of Stops:** 1  
   **Cabin Class:** ECONOMY  
   **One Way:** Yes  

2. **Airline:** AIR INDIA  
   **Departure:** 2025-09-04 at 18:00 PM  
   **Arrival:** 2025-09-04 at 20:00 PM  
   **Total Price:** €40.74  
   **Currency:** EUR  
   **Number of Stops:** 1  
   **Cabin Class:** ECONOMY  
   **One Way:** Yes  

3. **Airline:** AIR INDIA  
   **Departure:** 2025-09-04 at 21:10 PM  
   **Arrival:** 2025-09-04 at 23:35 PM  
   **Total Price:** €53.69  
   **Currency:** EUR  
   **Number of Stops:** 0  
   **Cabin Class:** ECONOMY  
   **One Way:** Yes  

4. **Airline:** AIR INDIA  
   **Departure:** 2025-09-04 at 12:35 PM  
   **Arrival:** 2025-09-04 at 14:50 PM  
   **Total Price:** €57.89  
   **Currency:** EUR  
   **Number of Stops:** 0  
   **Cabin Class:** ECONOMY  
   **One Way:** Yes  

5. **Airline:** AIR INDIA  
   **Departure:** 2025-09-04 at 14:10 PM  
   **Arrival:** 2025-09-04 at 16:35 PM  
   **Total Price:** €57.89  
   **Currency:** EUR  
   **Number of Stops:** 0  
   **Cabin Class:** ECONOMY  
   **One Way:** Yes  

### Recommendations

- **Best Price Option:** The first two flights departing at 11:00 AM and 18:00 PM are priced at €40.74 with one stop.
- **Shortest Flight:** The flight leaving at 21:10 PM has no stops and is affordable at €53.69.
- **Convenience:** If you prefer a direct flight, consider the options departing at 21:10 PM or 12:35 PM, which both have no stops, providing a faster and more convenient travel experience.

If you need more assistance or wish to book one of these options, feel free to ask!
2025-09-03 17:48:51,521 - app.core.logging - INFO - Shutting down application
2025-09-03 17:48:51,524 - app.core.logging - INFO - Shutting down application
2025-09-03 17:48:51,542 - app.core.logging - INFO - Shutting down application
2025-09-03 17:48:51,548 - app.core.logging - INFO - Shutting down application
2025-09-03 17:50:36,549 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-03 17:50:36,716 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-03 17:50:36,817 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-03 17:50:36,873 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-03 17:50:41,561 - app.core.logging - INFO - Received chat request: Show me the cheapest flights from Delhi to Mumbai ...
2025-09-03 17:50:41,562 - app.core.logging - INFO - No existing flight data in session, fetching new data
2025-09-03 17:50:41,562 - app.core.logging - INFO - Processing flight search query: Show me the cheapest flights from Delhi to Mumbai next week
2025-09-03 17:50:45,806 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-03 17:50:45,854 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'DEL', 'location_destination': 'BOM', 'departure_date': '2025-09-08', 'adults': 1}
2025-09-03 17:50:51,710 - app.core.logging - INFO - Created dataframe with 11 flights
2025-09-03 17:50:51,712 - app.core.logging - INFO - Sending query to LLM: System Prompt: 
        You are a professional flight booking assistant specializing in helping users find and analyze flight information. You have access to real-time flight data and can provide detailed analysis and recommendations.

        CURRENT CONTEXT:
        - Flight data from DEL to BOM
        - Real-time pricing and availability information

        CAPABILITIES:
        - Analyze flight data including prices, airlines, stops, cabin classes
        - Provide comparative analysis and recommendations
        - Identify best deals and optimal flight options
        - Handle follow-up questions about the same flight search

        RESPONSE GUIDELINES:
        - Provide direct, actionable answers without explaining calculation methods
        - Format responses clearly for chat interface with proper structure
        - Include specific flight details when relevant (airline, price, times, stops)
        - Focus on user value: best prices, shortest flights, preferred airlines
        - Maintain professional yet friendly tone
        - Don't show code or technical processes

        ANALYSIS FOCUS:
        - Price comparisons and best deals
        - Flight duration and convenience
        - Airline preferences and reputation
        - Number of stops and layover times
        - Cabin class options and upgrades

        Analyze the flight dataframe and provide insights that help users make informed booking decisions.
        
Query: Show me the cheapest flights from Delhi to Mumbai next week
2025-09-03 17:50:53,820 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-03 17:50:59,799 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-03 17:51:02,675 - app.core.logging - INFO - LLM Response: The cheapest flight from Delhi to Mumbai next week is as follows:

- **Airline**: AIR INDIA (AI)
- **Departure**: September 8, 2025, at 18:00
- **Arrival**: September 8, 2025, at 20:00
- **Total Price**: €44.94
- **Number of Stops**: 1
- **Cabin Class**: Economy
- **Trip Type**: One Way

This flight offers a reasonable price along with only one stop. Let me know if you need more details or other options!
2025-09-03 18:04:08,170 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-03 18:04:08,187 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-03 18:04:08,220 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-03 18:04:08,259 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-03 18:08:45,995 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-03 18:08:46,044 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-03 18:08:46,089 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-03 18:08:46,273 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-03 18:10:46,992 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-03 18:10:46,992 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-03 18:10:46,997 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-03 18:10:46,997 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-03 18:10:46,997 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-03 18:10:46,998 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-03 18:10:47,005 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-03 18:10:47,006 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-03 18:10:48,949 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-03 18:10:48,967 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-03 18:10:49,005 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-03 18:10:49,037 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-03 18:11:24,442 - app.core.logging - INFO - Received chat request: i want to go from delhi to mumbai next monday...
2025-09-03 18:11:24,442 - app.core.logging - INFO - No existing flight data in session, fetching new data
2025-09-03 18:11:24,442 - app.core.logging - INFO - Processing flight search query: i want to go from delhi to mumbai next monday
2025-09-03 18:11:29,305 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-03 18:11:29,314 - app.core.logging - ERROR - Error extracting flight info: Expecting value: line 1 column 1 (char 0)
2025-09-03 18:12:12,392 - app.core.logging - INFO - Received chat request: i want go delhi to mumdai on 10 oct 2025...
2025-09-03 18:12:12,392 - app.core.logging - INFO - No existing flight data in session, fetching new data
2025-09-03 18:12:12,392 - app.core.logging - INFO - Processing flight search query: i want go delhi to mumdai on 10 oct 2025
2025-09-03 18:12:13,671 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-03 18:12:13,688 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'DEL', 'location_destination': 'BOM', 'departure_date': '2025-10-10', 'adults': 1}
2025-09-03 18:12:19,501 - app.core.logging - INFO - Created dataframe with 11 flights
2025-09-03 18:12:19,502 - app.core.logging - INFO - Sending query to LLM: System Prompt: 
        You are a professional flight booking assistant specializing in helping users find and analyze flight information. You have access to real-time flight data and can provide detailed analysis and recommendations.

        CURRENT CONTEXT:
        - Flight data from DEL to BOM
        - Real-time pricing and availability information

        CAPABILITIES:
        - Analyze flight data including prices, airlines, stops, cabin classes
        - Provide comparative analysis and recommendations
        - Identify best deals and optimal flight options
        - Handle follow-up questions about the same flight search

        RESPONSE GUIDELINES:
        - Provide direct, actionable answers without explaining calculation methods
        - Format responses clearly for chat interface with proper structure
        - Include specific flight details when relevant (airline, price, times, stops)
        - Focus on user value: best prices, shortest flights, preferred airlines
        - Maintain professional yet friendly tone
        - Don't show code or technical processes

        ANALYSIS FOCUS:
        - Price comparisons and best deals
        - Flight duration and convenience
        - Airline preferences and reputation
        - Number of stops and layover times
        - Cabin class options and upgrades

        Analyze the flight dataframe and provide insights that help users make informed booking decisions.
        
Query: i want go delhi to mumdai on 10 oct 2025
2025-09-03 18:12:20,329 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-03 18:12:30,973 - app.core.logging - INFO - LLM Response: Here are the available flight options from Delhi to Mumbai on October 10, 2025, based on the provided data:

### Flight Options

1. **Airline:** AIR INDIA  
   - **Departure:** 21:10  
   - **Arrival:** 23:35  
   - **Total Price:** €57.89  
   - **Currency:** EUR  
   - **Number of Stops:** 0 (Direct Flight)  
   - **Cabin Class:** ECONOMY  
   - **One Way:** Yes  

2. **Airline:** AIR INDIA  
   - **Departure:** 11:00  
   - **Arrival:** 11:50  
   - **Total Price:** €61.74  
   - **Currency:** EUR  
   - **Number of Stops:** 1  
   - **Cabin Class:** ECONOMY  
   - **One Way:** Yes  

3. **Airline:** AIR INDIA  
   - **Departure:** 18:00  
   - **Arrival:** 20:00  
   - **Total Price:** €61.74  
   - **Currency:** EUR  
   - **Number of Stops:** 1  
   - **Cabin Class:** ECONOMY  
   - **One Way:** Yes  

4. **Airline:** AIR INDIA  
   - **Departure:** 12:35  
   - **Arrival:** 14:50  
   - **Total Price:** €75.74  
   - **Currency:** EUR  
   - **Number of Stops:** 0 (Direct Flight)  
   - **Cabin Class:** ECONOMY  
   - **One Way:** Yes  

5. **Airline:** AIR INDIA  
   - **Departure:** 16:50  
   - **Arrival:** 19:05  
   - **Total Price:** €75.74  
   - **Currency:** EUR  
   - **Number of Stops:** 0 (Direct Flight)  
   - **Cabin Class:** ECONOMY  
   - **One Way:** Yes  

### Recommendations

- **Best Price:** The cheapest option is the flight departing at **21:10** for **€57.89** (Direct Flight).
- **Quickest Option:** The flight departing at **11:00** arrives at **11:50**, taking just **50 minutes**, although it has one stop.
- **Direct Flights:** There are several direct flight options available priced between **€57.89** and **€75.74**.

If you have any preferences for specific times, airlines, or other details, please let me know!
2025-09-03 18:23:31,146 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-03 18:23:31,146 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-03 18:23:31,146 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-03 18:23:31,146 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-03 18:23:31,146 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-03 18:23:31,146 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-03 18:23:31,156 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-03 18:23:31,156 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-03 18:23:32,602 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-03 18:23:32,631 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-03 18:23:32,634 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-03 18:23:32,665 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-03 18:24:00,102 - app.core.logging - INFO - Received chat request: i want to go delhi to mumbai monday...
2025-09-03 18:24:00,102 - app.core.logging - INFO - No existing flight data in session, fetching new data
2025-09-03 18:24:00,102 - app.core.logging - INFO - Processing flight search query: i want to go delhi to mumbai monday
2025-09-03 18:24:01,723 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-03 18:24:01,734 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'DEL', 'location_destination': 'BOM', 'departure_date': '2025-09-08', 'adults': 1}
2025-09-03 18:24:06,962 - app.core.logging - INFO - Created dataframe with 11 flights
2025-09-03 18:24:06,963 - app.core.logging - INFO - Sending query to LLM: System Prompt: 
        You are a professional flight booking assistant specializing in helping users find and analyze flight information. You have access to real-time flight data and can provide detailed analysis and recommendations.

        CURRENT CONTEXT:
        - Flight data from DEL to BOM
        - Real-time pricing and availability information

        CAPABILITIES:
        - Analyze flight data including prices, airlines, stops, cabin classes
        - Provide comparative analysis and recommendations
        - Identify best deals and optimal flight options
        - Handle follow-up questions about the same flight search

        RESPONSE GUIDELINES:
        - Provide direct, actionable answers without explaining calculation methods
        - Format responses clearly for chat interface with proper structure
        - Include specific flight details when relevant (airline, price, times, stops)
        - Focus on user value: best prices, shortest flights, preferred airlines
        - Maintain professional yet friendly tone
        - Don't show code or technical processes

        ANALYSIS FOCUS:
        - Price comparisons and best deals
        - Flight duration and convenience
        - Airline preferences and reputation
        - Number of stops and layover times
        - Cabin class options and upgrades

        Analyze the flight dataframe and provide insights that help users make informed booking decisions.
        
Query: i want to go delhi to mumbai monday
2025-09-03 18:24:09,310 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-03 18:24:10,783 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-03 18:24:27,097 - app.core.logging - INFO - LLM Response: Here are the available flights from Delhi to Mumbai on Monday, September 8, 2025:

### Flight Options:

1. **Airline**: AIR INDIA
   - **Departure**: 11:00 AM
   - **Arrival**: 11:50 AM
   - **Total Price**: €44.94
   - **Number of Stops**: 1
   - **Cabin**: ECONOMY
   
2. **Airline**: AIR INDIA
   - **Departure**: 6:00 PM
   - **Arrival**: 8:00 PM
   - **Total Price**: €44.94
   - **Number of Stops**: 1
   - **Cabin**: ECONOMY

3. **Airline**: AIR INDIA
   - **Departure**: 9:10 PM
   - **Arrival**: 11:35 PM
   - **Total Price**: €53.69
   - **Number of Stops**: 0
   - **Cabin**: ECONOMY

4. **Airline**: AIR INDIA
   - **Departure**: 12:35 PM
   - **Arrival**: 2:50 PM
   - **Total Price**: €61.04
   - **Number of Stops**: 0
   - **Cabin**: ECONOMY

5. **Airline**: AIR INDIA
   - **Departure**: 12:15 PM
   - **Arrival**: 2:35 PM
   - **Total Price**: €61.04
   - **Number of Stops**: 0
   - **Cabin**: ECONOMY

6. **Airline**: AIR INDIA
   - **Departure**: 11:40 AM
   - **Arrival**: 2:05 PM
   - **Total Price**: €61.04
   - **Number of Stops**: 0
   - **Cabin**: ECONOMY

7. **Airline**: AIR INDIA
   - **Departure**: 2:10 PM
   - **Arrival**: 4:35 PM
   - **Total Price**: €61.04
   - **Number of Stops**: 0
   - **Cabin**: ECONOMY

8. **Airline**: AIR INDIA
   - **Departure**: 11:00 PM
   - **Arrival**: 1:25 AM (next day)
   - **Total Price**: €61.04
   - **Number of Stops**: 0
   - **Cabin**: ECONOMY

9. **Airline**: AIR INDIA
   - **Departure**: 2:30 PM
   - **Arrival**: 6:15 PM
   - **Total Price**: €61.04
   - **Number of Stops**: 0
   - **Cabin**: ECONOMY

10. **Airline**: AIR INDIA
    - **Departure**: 2:05 PM
    - **Arrival**: 4:30 PM
    - **Total Price**: €65.24
    - **Number of Stops**: 0
    - **Cabin**: ECONOMY

### Recommendations:
- **Best Price**: The flights departing at 11:00 AM and 6:00 PM at **€44.94** with one stop.
- **Direct Flights**: Choose a flight with 0 stops for convenience, such as those departing at 9:10 PM, 12:35 PM, or 12:15 PM for a more direct journey.

Let me know if you need help with booking or any further assistance!
2025-09-03 18:29:29,255 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-03 18:29:29,255 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-03 18:29:29,260 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-03 18:29:29,260 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-03 18:29:29,260 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-03 18:29:29,260 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-03 18:29:29,278 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-03 18:29:29,278 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-03 18:29:31,108 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-03 18:29:31,110 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-03 18:29:31,132 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-03 18:29:31,149 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-03 18:30:16,298 - app.core.logging - INFO - Received chat request: i want flight from delhi to mumbai next monday...
2025-09-03 18:30:16,299 - app.core.logging - INFO - No existing flight data in session, fetching new data
2025-09-03 18:30:16,300 - app.core.logging - INFO - Processing flight search query: i want flight from delhi to mumbai next monday
2025-09-03 18:30:21,636 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-03 18:30:21,670 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'DEL', 'location_destination': 'BOM', 'departure_date': '2025-09-08', 'adults': 1}
2025-09-03 18:30:28,164 - app.core.logging - INFO - Created dataframe with 11 flights
2025-09-03 18:30:28,164 - app.core.logging - INFO - Sending query to LLM: System Prompt: 
        You are a professional flight booking assistant specializing in helping users find and analyze flight information. You have access to real-time flight data and can provide detailed analysis and recommendations.

        CURRENT CONTEXT:
        - Flight data from DEL to BOM
        - Real-time pricing and availability information

        CAPABILITIES:
        - Analyze flight data including prices, airlines, stops, cabin classes
        - Provide comparative analysis and recommendations
        - Identify best deals and optimal flight options
        - Handle follow-up questions about the same flight search

        RESPONSE GUIDELINES:
        - DO NOT list individual flights with details (departure times, prices, etc.) - flight cards will display this information
        - Focus ONLY on analysis, insights, and recommendations
        - Provide direct, actionable guidance without listing specific flight options
        - Highlight key findings: best deals, optimal choices, important considerations
        - Maintain professional yet friendly tone
        - Don't show code or technical processes

        ANALYSIS FOCUS:
        - Price comparisons and best deals identification
        - Flight duration and convenience analysis
        - Airline preferences and reputation insights
        - Direct vs connecting flight recommendations
        - Cabin class options and value analysis

        IMPORTANT: Do NOT include a numbered list of flights or detailed flight schedules in your response. The flight cards will show all specific flight details. Focus only on providing helpful insights and recommendations to guide the user's decision.

        Analyze the flight dataframe and provide concise insights that help users make informed booking decisions.
        
Query: i want flight from delhi to mumbai next monday
2025-09-03 18:30:29,214 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-03 18:30:31,567 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-03 18:30:38,087 - app.core.logging - INFO - LLM Response: For your flight from Delhi to Mumbai next Monday, here are some insights and recommendations based on the data:

1. **Best Deals**: Keep an eye on the pricing trends. With various airlines operating on this route, you may find that certain airlines frequently offer more competitive rates. Consider checking for any promotional discounts, especially if flexibility in your travel date allows you to adjust by a day or two.

2. **Flight Duration and Stops**: Direct flights tend to be more convenient, minimizing travel time and reducing the hassle of layovers. Evaluate your options not just on price but also on total travel time to ensure a smooth journey.

3. **Airline Reputation**: Some airlines may provide a better overall experience in terms of service, punctuality, and amenities. Reviewing customer feedback or ratings can help you choose a reliable option.

4. **Cabin Class Options**: Depending on your preferences, look at the cabin class options available. While economy fits most budget travel plans, other classes like premium economy or business class can offer added comfort for a reasonable price difference, especially on longer flights.

5. **Flexibility with One-Way vs. Round-Trip**: If your plans are flexible, consider whether booking a one-way flight might give you better options or pricing. Sometimes round-trip fares can be surprisingly competitive but checking one-way availability might yield savings or better timing.

In summary, analyze the options holistically considering price, time, airline reputation, and cabin preferences to make the best booking decision for your travel on Monday.
2025-09-03 18:32:09,157 - app.core.logging - INFO - Received chat request: Show me the cheapest flights from Delhi to Mumbai ...
2025-09-03 18:32:09,158 - app.core.logging - INFO - No existing flight data in session, fetching new data
2025-09-03 18:32:09,159 - app.core.logging - INFO - Processing flight search query: Show me the cheapest flights from Delhi to Mumbai next week
2025-09-03 18:32:10,589 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-03 18:32:10,623 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'DEL', 'location_destination': 'BOM', 'departure_date': '2025-09-10', 'adults': 1}
2025-09-03 18:32:16,096 - app.core.logging - INFO - Created dataframe with 11 flights
2025-09-03 18:32:16,097 - app.core.logging - INFO - Sending query to LLM: System Prompt: 
        You are a professional flight booking assistant specializing in helping users find and analyze flight information. You have access to real-time flight data and can provide detailed analysis and recommendations.

        CURRENT CONTEXT:
        - Flight data from DEL to BOM
        - Real-time pricing and availability information

        CAPABILITIES:
        - Analyze flight data including prices, airlines, stops, cabin classes
        - Provide comparative analysis and recommendations
        - Identify best deals and optimal flight options
        - Handle follow-up questions about the same flight search

        RESPONSE GUIDELINES:
        - DO NOT list individual flights with details (departure times, prices, etc.) - flight cards will display this information
        - Focus ONLY on analysis, insights, and recommendations
        - Provide direct, actionable guidance without listing specific flight options
        - Highlight key findings: best deals, optimal choices, important considerations
        - Maintain professional yet friendly tone
        - Don't show code or technical processes

        ANALYSIS FOCUS:
        - Price comparisons and best deals identification
        - Flight duration and convenience analysis
        - Airline preferences and reputation insights
        - Direct vs connecting flight recommendations
        - Cabin class options and value analysis

        IMPORTANT: Do NOT include a numbered list of flights or detailed flight schedules in your response. The flight cards will show all specific flight details. Focus only on providing helpful insights and recommendations to guide the user's decision.

        Analyze the flight dataframe and provide concise insights that help users make informed booking decisions.
        
Query: Show me the cheapest flights from Delhi to Mumbai next week
2025-09-03 18:32:17,678 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-03 18:32:21,133 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-03 18:32:28,592 - app.core.logging - INFO - LLM Response: Based on the flight data from Delhi to Mumbai, here are some insights to help you identify the best options for your trip next week:

1. **Cheapest Options**: The most affordable flights are priced around €40.74. Notably, these options involve one stop, which may extend your travel time slightly compared to direct flights.

2. **Direct vs. Connecting Flights**: If you prefer quicker travel, there are direct flights available at slightly higher prices (around €53.69 to €57.89). Choosing a direct flight could save you time, particularly if your schedule is tight.

3. **Cabin Class**: All the highlighted flights are in the ECONOMY class, which is typically the most budget-friendly option. If you are looking for more comfort, you may want to consider upgrading, although it will come at a higher cost.

4. **Airline Preferences**: All flights listed are operated by AIR INDIA. It may be worthwhile to consider the airline's reputation for service and reliability based on customer reviews.

In summary, if cost is your primary concern, you can find flights at around €40.74 with one stop. However, if convenience is key, looking at direct flights priced between €53.69 to €57.89 would be advisable. Always ensure to check factors like total travel time and any additional fees that might apply.
2025-09-03 18:36:55,094 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-03 18:36:55,094 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-03 18:36:55,095 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-03 18:36:55,095 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-03 18:36:55,100 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-03 18:36:55,100 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-03 18:36:55,106 - numexpr.utils - INFO - Note: NumExpr detected 16 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
2025-09-03 18:36:55,106 - numexpr.utils - INFO - NumExpr defaulting to 8 threads.
2025-09-03 18:36:57,069 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-03 18:36:57,113 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-03 18:36:57,121 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-03 18:36:57,156 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-03 18:37:01,392 - app.core.logging - INFO - Received chat request: Find me flights from New York to London on Decembe...
2025-09-03 18:37:01,393 - app.core.logging - INFO - No existing flight data in session, fetching new data
2025-09-03 18:37:01,393 - app.core.logging - INFO - Processing flight search query: Find me flights from New York to London on December 15, 2024
2025-09-03 18:37:02,942 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-03 18:37:02,980 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'JFK', 'location_destination': 'LON', 'departure_date': '2024-12-15', 'adults': 1}
2025-09-03 18:37:05,498 - app.core.logging - ERROR - Flight search error: [400]

2025-09-03 18:37:05,499 - app.core.logging - ERROR - No flights found or error in forming dataframe
2025-09-03 18:37:20,923 - app.core.logging - INFO - Received chat request: Find me flights from New York to London on Decembe...
2025-09-03 18:37:20,923 - app.core.logging - INFO - No existing flight data in session, fetching new data
2025-09-03 18:37:20,923 - app.core.logging - INFO - Processing flight search query: Find me flights from New York to London on December 15, 2025
2025-09-03 18:37:22,803 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-03 18:37:22,806 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'JFK', 'location_destination': 'LHR', 'departure_date': '2025-12-15', 'adults': 1}
2025-09-03 18:37:30,901 - app.core.logging - INFO - Created dataframe with 15 flights
2025-09-03 18:37:30,902 - app.core.logging - INFO - Sending query to LLM: System Prompt: 
        You are a professional flight booking assistant specializing in helping users find and analyze flight information. You have access to real-time flight data and can provide detailed analysis and recommendations.

        CURRENT CONTEXT:
        - Flight data from JFK to LHR
        - Real-time pricing and availability information

        CAPABILITIES:
        - Analyze flight data including prices, airlines, stops, cabin classes
        - Provide comparative analysis and recommendations
        - Identify best deals and optimal flight options
        - Handle follow-up questions about the same flight search

        RESPONSE GUIDELINES:
        - DO NOT create a numbered list of flights with departure/arrival times and prices
        - Analyze the ACTUAL flight data available and provide specific insights
        - Mention specific prices, airlines, and key differences you find in the data
        - Highlight the cheapest options, direct flights, and best value choices
        - Provide actionable recommendations based on the real flight options
        - Keep it concise but informative
        - Flight cards will show the detailed flight information, but your text should reference the actual data

        ANALYSIS FOCUS:
        - Identify the cheapest flights available and their prices
        - Point out direct flights vs flights with stops
        - Highlight time differences and convenience factors
        - Mention specific airlines operating this route
        - Compare value propositions of different options

        IMPORTANT: Base your response on the ACTUAL flight data in the dataframe. Don't give generic advice - analyze the real flights available for this specific route and date.

        Provide specific insights about the available flight options to help users choose the best flight for their needs.
        
Query: Find me flights from New York to London on December 15, 2025
2025-09-03 18:37:32,019 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-03 18:37:45,843 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-03 18:37:54,473 - app.core.logging - INFO - LLM Response: On December 15, 2025, there are several flight options from New York to London, each with specific characteristics that may influence your decision.

1. **Direct Flight Options**: The Virgin Atlantic flight (VS) departing at 22:00 offers a direct route to London, arriving the following day at 10:15. This option is ideal for those who prefer to avoid layovers and arrive at a convenient time.

2. **Flights with Stops**: JetBlue Airways (B6) provides multiple options with one stop:
   - The flight departing at 15:05 arrives in London at 16:20, making it a relatively short transit time, ideal for those eager to reach their destination quickly.
   - Another JetBlue option leaves at 12:15 and arrives at 13:30, which could work well for travelers looking for an earlier arrival.
   - The later JetBlue flight at 17:54 arrives in London at 05:55, meaning longer travel time with one stop.

3. **Pricing**: All flights are priced similarly at **€255.65**. This price point represents good value across the available options, especially considering the direct option from Virgin Atlantic.

In summary, if a direct flight is a priority, the Virgin Atlantic service is the best choice. However, if you’re flexible with stops and prefer an earlier arrival, consider the JetBlue flights. Overall, either option provides a competitive and reasonable pricing structure for this route.
2025-09-03 18:40:37,864 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-03 18:40:37,879 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-03 18:40:37,883 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-03 18:40:37,908 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-03 18:41:24,660 - app.core.logging - INFO - Received chat request: Find me flights from New York to London on Decembe...
2025-09-03 18:41:24,661 - app.core.logging - INFO - No existing flight data in session, fetching new data
2025-09-03 18:41:24,661 - app.core.logging - INFO - Processing flight search query: Find me flights from New York to London on December 15, 2024
2025-09-03 18:41:26,182 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-03 18:41:26,215 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'JFK', 'location_destination': 'LHR', 'departure_date': '2024-12-15', 'adults': 1}
2025-09-03 18:41:28,972 - app.core.logging - ERROR - Flight search error: [400]

2025-09-03 18:41:28,973 - app.core.logging - ERROR - No flights found or error in forming dataframe
2025-09-03 18:42:41,373 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-03 18:42:41,376 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-03 18:42:41,382 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-03 18:42:41,384 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-03 18:42:46,102 - app.core.logging - INFO - Received chat request: Find me flights from New York to London on Decembe...
2025-09-03 18:42:46,103 - app.core.logging - INFO - No existing flight data in session, fetching new data
2025-09-03 18:42:46,103 - app.core.logging - INFO - Processing flight search query: Find me flights from New York to London on December 15, 2024
2025-09-03 18:42:47,927 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-03 18:42:47,973 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'JFK', 'location_destination': 'LON', 'departure_date': '2024-12-15', 'adults': 1}
2025-09-03 18:42:50,279 - app.core.logging - ERROR - Flight search error: [400]

2025-09-03 18:42:50,279 - app.core.logging - ERROR - No flights found or error in forming dataframe
2025-09-03 18:43:32,403 - app.core.logging - INFO - Received chat request: i want to get delhi to mumbai on 10 oct...
2025-09-03 18:43:32,404 - app.core.logging - INFO - No existing flight data in session, fetching new data
2025-09-03 18:43:32,404 - app.core.logging - INFO - Processing flight search query: i want to get delhi to mumbai on 10 oct
2025-09-03 18:43:34,622 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-03 18:43:34,652 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'DEL', 'location_destination': 'BOM', 'departure_date': '2025-10-10', 'adults': 1}
2025-09-03 18:43:40,659 - app.core.logging - INFO - Created dataframe with 11 flights
2025-09-03 18:43:40,660 - app.core.logging - INFO - Sending query to LLM: System Prompt: 
        You are a professional flight booking assistant specializing in helping users find and analyze flight information. You have access to real-time flight data and can provide detailed analysis and recommendations.

        CURRENT CONTEXT:
        - Flight data from DEL to BOM
        - Real-time pricing and availability information

        CAPABILITIES:
        - Analyze flight data including prices, airlines, stops, cabin classes
        - Provide comparative analysis and recommendations
        - Identify best deals and optimal flight options
        - Handle follow-up questions about the same flight search

        RESPONSE GUIDELINES:
        - DO NOT create a numbered list of flights with departure/arrival times and prices
        - Analyze the ACTUAL flight data available and provide specific insights
        - Mention specific prices, airlines, and key differences you find in the data
        - Highlight the cheapest options, direct flights, and best value choices
        - Provide actionable recommendations based on the real flight options
        - Keep it concise but informative
        - Flight cards will show the detailed flight information, but your text should reference the actual data

        ANALYSIS FOCUS:
        - Identify the cheapest flights available and their prices
        - Point out direct flights vs flights with stops
        - Highlight time differences and convenience factors
        - Mention specific airlines operating this route
        - Compare value propositions of different options

        IMPORTANT: Base your response on the ACTUAL flight data in the dataframe. Don't give generic advice - analyze the real flights available for this specific route and date.

        Provide specific insights about the available flight options to help users choose the best flight for their needs.
        
Query: i want to get delhi to mumbai on 10 oct
2025-09-03 18:43:43,205 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-03 18:43:44,416 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-03 18:44:00,288 - app.core.logging - INFO - LLM Response: For your flight from Delhi (DEL) to Mumbai (BOM) on October 10th, there are several options available with AIR INDIA. Here's a snapshot of the flight choices:

1. **Cheapest Options**: 
   - The cheapest flight is priced at **€57.89**, departing at **21:10** and arriving at **23:35**. This flight is a **direct** route with no stops.
   
2. **Direct Flights vs. Flights with Stops**:
   - Most flights are **direct**, with the exception of a single flight departing at **11:00**, which has **1 stop** and is priced at **€61.74**. 
   - The other available direct flights are priced between **€61.74** and **€75.74**.
   
3. **Time Factors**:
   - Departure times vary significantly throughout the day, allowing flexibility in scheduling your travel. For instance, flights leave as early as **07:00** and as late as **21:10**.

4. **Airline**: 
   - All flights listed are by **AIR INDIA**, ensuring consistency in service and travel standards.

5. **Value Proposition**:
   - Considering the pricing and the convenience of direct flights, the **€57.89 flight** at **21:10** offers the best value if you're comfortable with a later departure.

### Recommendation:
For the best cost-efficiency and convenience, I suggest booking the **€57.89 direct flight** departing at **21:10**. This option minimizes travel time and maximizes comfort without the hassle of transfers. If you prefer an earlier option, the **€75.74 flights** throughout the day also provide good direct service, with more availability if your schedule needs adjusting.
2025-09-03 18:51:39,561 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-03 18:51:39,618 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-03 18:51:39,665 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-03 18:51:39,735 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-03 18:52:40,707 - app.core.logging - INFO - Received chat request: i want the flight detail from mumbai to delhi , ne...
2025-09-03 18:52:40,707 - app.core.logging - INFO - No existing flight data in session, fetching new data
2025-09-03 18:52:40,707 - app.core.logging - INFO - Processing flight search query: i want the flight detail from mumbai to delhi , next mumbai
2025-09-03 18:52:42,261 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-03 18:52:42,286 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'BOM', 'location_destination': 'DEL', 'departure_date': '2025-09-10', 'adults': 1}
2025-09-03 18:52:48,753 - app.core.logging - INFO - Created dataframe with 14 flights
2025-09-03 18:52:48,753 - app.core.logging - INFO - Sending query to LLM: System Prompt: 
        You are a professional flight booking assistant specializing in helping users find and analyze flight information. You have access to real-time flight data and can provide detailed analysis and recommendations.

        CURRENT CONTEXT:
        - Flight data from BOM to DEL
        - Real-time pricing and availability information

        CAPABILITIES:
        - Analyze flight data including prices, airlines, stops, cabin classes
        - Provide comparative analysis and recommendations
        - Identify best deals and optimal flight options
        - Handle follow-up questions about the same flight search

        RESPONSE GUIDELINES:
        - DO NOT create a numbered list of flights with departure/arrival times and prices
        - Analyze the ACTUAL flight data available and provide specific insights
        - Mention specific prices, airlines, and key differences you find in the data
        - Highlight the cheapest options, direct flights, and best value choices
        - Provide actionable recommendations based on the real flight options
        - Keep it concise but informative
        - Flight cards will show the detailed flight information, but your text should reference the actual data

        ANALYSIS FOCUS:
        - Identify the cheapest flights available and their prices
        - Point out direct flights vs flights with stops
        - Highlight time differences and convenience factors
        - Mention specific airlines operating this route
        - Compare value propositions of different options

        IMPORTANT: Base your response on the ACTUAL flight data in the dataframe. Don't give generic advice - analyze the real flights available for this specific route and date.

        Provide specific insights about the available flight options to help users choose the best flight for their needs.
        
Query: i want the flight detail from mumbai to delhi , next mumbai
2025-09-03 18:52:50,191 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-03 18:52:51,061 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-03 18:53:00,131 - app.core.logging - INFO - LLM Response: Analyzing the flight data from Mumbai (BOM) to Delhi (DEL), here are the insights based on the available options:

1. **Cheapest Flight**: The cheapest available flights are priced at **€43.15**. There are multiple options with this price, but all of them involve **one stop** during the journey.

2. **Direct Flights**: Among the options, there are several **direct flights** with prices ranging from **€48.75** to **€61.35**. The most affordable direct flight is priced at **€48.75**, departing at **00:30** and arriving at **02:35**.

3. **Flight Durations**: While the direct flights tend to take about **2 hours** of travel time, flights with stops can extend the journey significantly, especially those departing later in the day.

4. **Airline**: All listed options are operated by **Air India**, indicating that you will be flying with the same airline regardless of the flight chosen.

5. **Recommendation**: If you prioritize cost over time, opt for one of the flights priced at **€43.15**. However, if you prefer to reach your destination faster, consider the direct flight at **€48.75** for a more convenient travel experience.

In summary, you have a choice between very affordable options with stops or direct flights at a slightly higher price. The direct flights are recommended for convenience, while the cheaper options may appeal if you're looking to save on costs.
2025-09-03 18:53:00,137 - app.core.logging - INFO - Flight data prepared: True
2025-09-03 18:53:00,138 - app.core.logging - INFO - Flight data length: 14
2025-09-03 18:53:00,138 - app.core.logging - INFO - First flight record: {'Airline Code': 'AI', 'Airline Name': 'AIR INDIA', 'Departure': '2025-09-10T18:20:00', 'Arrival': '2025-09-10T19:35:00', 'Total Price': '43.15', 'Currency': 'EUR', 'Number of Stops': 1, 'Cabin': 'ECONOMY', 'One Way': True}
2025-09-03 18:53:00,138 - app.core.logging - INFO - Returning result with show_flight_cards: True
2025-09-03 18:54:15,468 - app.core.logging - INFO - Shutting down application
2025-09-03 18:54:15,472 - app.core.logging - INFO - Shutting down application
2025-09-03 18:54:15,482 - app.core.logging - INFO - Shutting down application
2025-09-03 18:54:15,526 - app.core.logging - INFO - Shutting down application
2025-09-03 19:57:21,655 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-03 19:57:21,655 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-03 19:57:21,655 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-03 19:57:21,656 - app.core.logging - INFO - Starting Flight Booking Assistant v1.0.0
2025-09-03 19:57:27,468 - app.core.logging - INFO - Received chat request: Show me the cheapest flights from Delhi to Mumbai ...
2025-09-03 19:57:27,469 - app.core.logging - INFO - No existing flight data in session, fetching new data
2025-09-03 19:57:27,469 - app.core.logging - INFO - Processing flight search query: Show me the cheapest flights from Delhi to Mumbai next week
2025-09-03 19:57:29,212 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-03 19:57:29,233 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'DEL', 'location_destination': 'BOM', 'departure_date': '2025-09-10', 'adults': 1}
2025-09-03 19:58:30,132 - app.core.logging - INFO - Created dataframe with 11 flights
2025-09-03 19:58:30,133 - app.core.logging - INFO - Sending query to LLM: System Prompt: 
        You are a professional flight booking assistant specializing in helping users find and analyze flight information. You have access to real-time flight data and can provide detailed analysis and recommendations.

        CURRENT CONTEXT:
        - Flight data from DEL to BOM
        - Real-time pricing and availability information

        CAPABILITIES:
        - Analyze flight data including prices, airlines, stops, cabin classes
        - Provide comparative analysis and recommendations
        - Identify best deals and optimal flight options
        - Handle follow-up questions about the same flight search

        RESPONSE GUIDELINES:
        - DO NOT create a numbered list of flights with departure/arrival times and prices
        - Analyze the ACTUAL flight data available and provide specific insights
        - Mention specific prices, airlines, and key differences you find in the data
        - Highlight the cheapest options, direct flights, and best value choices
        - Provide actionable recommendations based on the real flight options
        - Keep it concise but informative
        - Flight cards will show the detailed flight information, but your text should reference the actual data

        ANALYSIS FOCUS:
        - Identify the cheapest flights available and their prices
        - Point out direct flights vs flights with stops
        - Highlight time differences and convenience factors
        - Mention specific airlines operating this route
        - Compare value propositions of different options

        IMPORTANT: Base your response on the ACTUAL flight data in the dataframe. Don't give generic advice - analyze the real flights available for this specific route and date.

        Provide specific insights about the available flight options to help users choose the best flight for their needs.
        
Query: Show me the cheapest flights from Delhi to Mumbai next week
2025-09-03 19:58:32,367 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-03 19:58:34,519 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-03 19:58:39,513 - app.core.logging - INFO - LLM Response: Next week, the cheapest flights from Delhi (DEL) to Mumbai (BOM) are operated by Air India, showcasing a range of prices and stop options:

1. **Price and Stops**: The most economical options are priced at **€40.74** and involve **1 stop**. These flights depart at **11:00 AM** and **6:00 PM** and arrive shortly thereafter, making them accessible albeit with an additional stop.

2. **Direct Flights**: There are also direct flights available around **€53.69**. This includes departures at **9:10 PM** and **12:15 PM** with an arrival shortly thereafter. Although slightly pricier, these options save time by eliminating layovers.

3. **Value Consideration**: If you're prioritizing cost, the flights with stops represent the best deal. However, if convenience and minimizing travel time are critical, the direct options, while more expensive, are definitely favorable.

In summary, if you're looking for the absolute lowest price, consider the Air India flights at €40.74. If you prefer a direct route, flights around €53.69 offer excellent convenience without the hassle of multiple stops.
2025-09-03 19:58:39,519 - app.core.logging - INFO - Flight data prepared: True
2025-09-03 19:58:39,520 - app.core.logging - INFO - Flight data length: 11
2025-09-03 19:58:39,520 - app.core.logging - INFO - First flight record: {'Airline Code': 'AI', 'Airline Name': 'AIR INDIA', 'Departure': '2025-09-10T11:00:00', 'Arrival': '2025-09-10T11:50:00', 'Total Price': '40.74', 'Currency': 'EUR', 'Number of Stops': 1, 'Cabin': 'ECONOMY', 'One Way': True}
2025-09-03 19:58:39,520 - app.core.logging - INFO - Returning result with show_flight_cards: True
2025-09-03 20:02:40,411 - app.core.logging - ERROR - Error clearing session: 404: Session not found
2025-09-03 20:05:02,791 - app.core.logging - INFO - Received chat request: Show me the cheapest flights from Delhi to Mumbai ...
2025-09-03 20:05:02,792 - app.core.logging - INFO - No existing flight data in session, fetching new data
2025-09-03 20:05:02,792 - app.core.logging - INFO - Processing flight search query: Show me the cheapest flights from Delhi to Mumbai next week
2025-09-03 20:05:05,665 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-03 20:05:05,671 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'DEL', 'location_destination': 'BOM', 'departure_date': '2025-09-08', 'adults': 1}
2025-09-03 20:05:15,954 - app.core.logging - INFO - Created dataframe with 11 flights
2025-09-03 20:05:15,955 - app.core.logging - INFO - Sending query to LLM: System Prompt: 
        You are a professional flight booking assistant specializing in helping users find and analyze flight information. You have access to real-time flight data and can provide detailed analysis and recommendations.

        CURRENT CONTEXT:
        - Flight data from DEL to BOM
        - Real-time pricing and availability information

        CAPABILITIES:
        - Analyze flight data including prices, airlines, stops, cabin classes
        - Provide comparative analysis and recommendations
        - Identify best deals and optimal flight options
        - Handle follow-up questions about the same flight search

        RESPONSE GUIDELINES:
        - DO NOT create a numbered list of flights with departure/arrival times and prices
        - Analyze the ACTUAL flight data available and provide specific insights
        - Mention specific prices, airlines, and key differences you find in the data
        - Highlight the cheapest options, direct flights, and best value choices
        - Provide actionable recommendations based on the real flight options
        - Keep it concise but informative
        - Flight cards will show the detailed flight information, but your text should reference the actual data

        ANALYSIS FOCUS:
        - Identify the cheapest flights available and their prices
        - Point out direct flights vs flights with stops
        - Highlight time differences and convenience factors
        - Mention specific airlines operating this route
        - Compare value propositions of different options

        IMPORTANT: Base your response on the ACTUAL flight data in the dataframe. Don't give generic advice - analyze the real flights available for this specific route and date.

        Provide specific insights about the available flight options to help users choose the best flight for their needs.
        
Query: Show me the cheapest flights from Delhi to Mumbai next week
2025-09-03 20:05:19,108 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-03 20:05:20,648 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-03 20:05:27,082 - app.core.logging - INFO - LLM Response: It appears that I wasn't able to extract the specific information from the data. However, based on the provided flight data, I can offer some insights based on the structure of the dataframe.

### Flight Analysis from Delhi to Mumbai

1. **Cheapest Flights:**
   - Look for the entry in the dataframe with the minimum value in the 'Total Price' column. This will indicate the cheapest option available for your chosen flights next week.

2. **Direct Flights vs. Flights with Stops:**
   - In the current dataframe, the column 'Number of Stops' indicates whether a flight is direct (0 stops) or has layovers (1 or more stops). Comparing these will help you determine the convenience of the travel times.

3. **Airlines Operating:**
   - The 'Airline Name' column provides information on the airlines operating on this route. Identifying well-known airlines with reliable service may add additional value to your choice.

4. **Value Comparison:**
   - It's essential to consider not just the price but also factors like flight duration, comfort (Cabin class), and whether the flight is one-way or round-trip.

### Recommendations
- **Shortlisting Flights**: Check for flights that offer the best combination of price and convenience. If you prefer to minimize travel time, direct flights are ideal, while flights with stops may be cheaper but less convenient.
- **Best Value**: Also consider what amenities are included, such as luggage allowance and onboard services.

Feel free to ask for further analysis or specific flight details!
2025-09-03 20:05:27,086 - app.core.logging - INFO - Flight data prepared: True
2025-09-03 20:05:27,087 - app.core.logging - INFO - Flight data length: 11
2025-09-03 20:05:27,087 - app.core.logging - INFO - First flight record: {'Airline Code': 'AI', 'Airline Name': 'AIR INDIA', 'Departure': '2025-09-08T11:00:00', 'Arrival': '2025-09-08T11:50:00', 'Total Price': '44.94', 'Currency': 'EUR', 'Number of Stops': 1, 'Cabin': 'ECONOMY', 'One Way': True}
2025-09-03 20:05:27,087 - app.core.logging - INFO - Returning result with show_flight_cards: True
2025-09-03 20:06:22,864 - app.core.logging - INFO - Cleared session: d417484f-99a2-47cf-a6cb-205d9ed439aa
2025-09-03 20:06:48,880 - app.core.logging - INFO - Received chat request: flights from delhi to mumbai next friday...
2025-09-03 20:06:48,880 - app.core.logging - INFO - No existing flight data in session, fetching new data
2025-09-03 20:06:48,880 - app.core.logging - INFO - Processing flight search query: flights from delhi to mumbai next friday
2025-09-03 20:06:50,728 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-03 20:06:50,754 - app.core.logging - INFO - Extracted flight info: {'location_origin': 'DEL', 'location_destination': 'BOM', 'departure_date': '2025-09-12', 'adults': 1}
2025-09-03 20:06:59,648 - app.core.logging - INFO - Created dataframe with 12 flights
2025-09-03 20:06:59,649 - app.core.logging - INFO - Sending query to LLM: System Prompt: 
        You are a professional flight booking assistant specializing in helping users find and analyze flight information. You have access to real-time flight data and can provide detailed analysis and recommendations.

        CURRENT CONTEXT:
        - Flight data from DEL to BOM
        - Real-time pricing and availability information

        CAPABILITIES:
        - Analyze flight data including prices, airlines, stops, cabin classes
        - Provide comparative analysis and recommendations
        - Identify best deals and optimal flight options
        - Handle follow-up questions about the same flight search

        RESPONSE GUIDELINES:
        - DO NOT create a numbered list of flights with departure/arrival times and prices
        - Analyze the ACTUAL flight data available and provide specific insights
        - Mention specific prices, airlines, and key differences you find in the data
        - Highlight the cheapest options, direct flights, and best value choices
        - Provide actionable recommendations based on the real flight options
        - Keep it concise but informative
        - Flight cards will show the detailed flight information, but your text should reference the actual data

        ANALYSIS FOCUS:
        - Identify the cheapest flights available and their prices
        - Point out direct flights vs flights with stops
        - Highlight time differences and convenience factors
        - Mention specific airlines operating this route
        - Compare value propositions of different options

        IMPORTANT: Base your response on the ACTUAL flight data in the dataframe. Don't give generic advice - analyze the real flights available for this specific route and date.

        Provide specific insights about the available flight options to help users choose the best flight for their needs.
        
Query: flights from delhi to mumbai next friday
2025-09-03 20:07:03,321 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-03 20:07:19,069 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-09-03 20:07:21,747 - app.core.logging - INFO - LLM Response: It appears that there are currently no flights listed in the provided data for the route from Delhi to Mumbai for next Friday. This might mean that flights are either not available or listed in a different time frame.

Typically, options would include a variety of airlines, often with direct and stopover flights. If you're looking for specific flight recommendations or pricing insights, consider checking real-time flight booking platforms or services, as they will have the most current availability and pricing. 

If you need assistance with any other questions or specific dates, feel free to ask!
2025-09-03 20:07:21,748 - app.core.logging - INFO - Flight data prepared: True
2025-09-03 20:07:21,748 - app.core.logging - INFO - Flight data length: 12
2025-09-03 20:07:21,748 - app.core.logging - INFO - First flight record: {'Airline Code': 'AI', 'Airline Name': 'AIR INDIA', 'Departure': '2025-09-12T11:00:00', 'Arrival': '2025-09-12T11:50:00', 'Total Price': '48.09', 'Currency': 'EUR', 'Number of Stops': 1, 'Cabin': 'ECONOMY', 'One Way': True}
2025-09-03 20:07:21,748 - app.core.logging - INFO - Returning result with show_flight_cards: True
